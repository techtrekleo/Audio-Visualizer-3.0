<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æª¢æŸ¥ Suno Cookie</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #333; }
        .info { background: #e7f3ff; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .cookie-item { 
            background: #f9f9f9; 
            padding: 10px; 
            margin: 5px 0; 
            border-radius: 5px;
            border-left: 3px solid #667eea;
        }
        .cookie-name { font-weight: bold; color: #667eea; }
        .cookie-value { 
            font-family: monospace; 
            font-size: 12px; 
            word-break: break-all;
            color: #666;
            margin-top: 5px;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover { background: #5568d3; }
        .result { margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” Suno Cookie æª¢æŸ¥å·¥å…·</h1>
        
        <div class="info">
            <strong>ä½¿ç”¨èªªæ˜ï¼š</strong><br>
            1. åœ¨ Suno æ­Œæ›²é é¢ï¼ˆsuno.com/song/xxxxxï¼‰æ‰“é–‹æ­¤é é¢<br>
            2. é»æ“Šä¸‹æ–¹æŒ‰éˆ•æª¢æŸ¥ Cookie<br>
            3. æŸ¥çœ‹æ‰¾åˆ°çš„ Cookie è³‡è¨Š
        </div>
        
        <button onclick="checkCookies()">æª¢æŸ¥ Cookie</button>
        
        <div id="result" class="result"></div>
    </div>

    <script>
        function checkCookies() {
            const result = document.getElementById('result');
            result.innerHTML = '<p>æ­£åœ¨æª¢æŸ¥...</p>';
            
            // å–å¾—æ‰€æœ‰ Cookie
            const allCookies = document.cookie.split(';').map(c => {
                const [name, ...valueParts] = c.trim().split('=');
                return {
                    name: name.trim(),
                    value: valueParts.join('='),
                    full: c.trim()
                };
            });
            
            let html = '<h2>æ‰€æœ‰ Cookie (' + allCookies.length + ' å€‹)</h2>';
            
            // é¡¯ç¤ºæ‰€æœ‰ Cookie
            allCookies.forEach(cookie => {
                html += `
                    <div class="cookie-item">
                        <div class="cookie-name">${cookie.name}</div>
                        <div class="cookie-value">${cookie.value.substring(0, 100)}${cookie.value.length > 100 ? '...' : ''}</div>
                        <div style="font-size: 11px; color: #999; margin-top: 5px;">
                            é•·åº¦: ${cookie.value.length} å­—å…ƒ
                        </div>
                    </div>
                `;
            });
            
            // å°‹æ‰¾å¯èƒ½çš„ Session Cookie
            const sessionCookies = allCookies.filter(c => 
                c.name.toLowerCase().includes('session') || 
                c.name.toLowerCase().includes('auth') ||
                c.name.toLowerCase().includes('token')
            );
            
            html += '<h2 style="margin-top: 30px;">å¯èƒ½çš„ Session Cookie (' + sessionCookies.length + ' å€‹)</h2>';
            
            if (sessionCookies.length > 0) {
                sessionCookies.forEach(cookie => {
                    html += `
                        <div class="cookie-item" style="border-left-color: #4CAF50;">
                            <div class="cookie-name">âœ… ${cookie.name}</div>
                            <div class="cookie-value">${cookie.value.substring(0, 100)}${cookie.value.length > 100 ? '...' : ''}</div>
                            <div style="font-size: 11px; color: #999; margin-top: 5px;">
                                é•·åº¦: ${cookie.value.length} å­—å…ƒ | 
                                å»ºè­°ä½¿ç”¨: ${cookie.value.length > 50 ? 'æ˜¯' : 'å¦'}
                            </div>
                        </div>
                    `;
                });
            } else {
                html += '<p style="color: #f44336;">âŒ æ‰¾ä¸åˆ°ä»»ä½•å¯èƒ½çš„ Session Cookie</p>';
            }
            
            // æª¢æŸ¥ç‰¹å®šçš„ Cookie åç¨±
            html += '<h2 style="margin-top: 30px;">æª¢æŸ¥æ¨™æº– Cookie åç¨±</h2>';
            const standardNames = ['_session', '__session', 'session', 'auth_session', 'session_id'];
            standardNames.forEach(name => {
                const cookie = allCookies.find(c => c.name === name);
                if (cookie) {
                    html += `<p style="color: #4CAF50;">âœ… æ‰¾åˆ° <strong>${name}</strong>: ${cookie.value.substring(0, 50)}...</p>`;
                } else {
                    html += `<p style="color: #999;">âŒ æ‰¾ä¸åˆ° <strong>${name}</strong></p>`;
                }
            });
            
            // å»ºè­°
            html += '<h2 style="margin-top: 30px;">å»ºè­°</h2>';
            if (sessionCookies.length > 0) {
                const bestCookie = sessionCookies.find(c => c.name === '_session') || sessionCookies[0];
                html += `<p>âœ… å»ºè­°ä½¿ç”¨: <strong>${bestCookie.name}</strong></p>`;
                html += `<p>å¦‚æœæ›¸ç±¤é‚„æ˜¯ç„¡æ³•ä½¿ç”¨ï¼Œè«‹å°‡æ­¤ Cookie åç¨±å‘Šè¨´é–‹ç™¼è€…</p>`;
            } else {
                html += '<p style="color: #f44336;">âš ï¸ æ‰¾ä¸åˆ° Session Cookieï¼Œè«‹ç¢ºèªï¼š</p>';
                html += '<ul>';
                html += '<li>å·²ç™»å…¥ Suno å¸³è™Ÿ</li>';
                html += '<li>åœ¨ suno.com åŸŸåä¸‹æ‰“é–‹æ­¤é é¢</li>';
                html += '<li>æª¢æŸ¥ç€è¦½å™¨æ˜¯å¦é˜»æ“‹äº† Cookie</li>';
                html += '</ul>';
            }
            
            result.innerHTML = html;
        }
        
        // è‡ªå‹•æª¢æŸ¥ï¼ˆå¦‚æœåœ¨ Suno åŸŸåä¸‹ï¼‰
        if (window.location.hostname.includes('suno.com')) {
            setTimeout(checkCookies, 500);
        }
    </script>
</body>
</html>
