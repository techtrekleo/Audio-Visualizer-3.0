javascript:%2F%2F%20Suno%20%E5%AD%97%E5%B9%95%E4%B8%8B%E8%BC%89%20Bookmarklet%0A%2F%2F%20%E5%B0%87%E6%AD%A4%E7%A8%8B%E5%BC%8F%E7%A2%BC%E5%84%B2%E5%AD%98%E7%82%BA%E6%9B%B8%E7%B1%A4%EF%BC%8C%E5%9C%A8%20Suno%20%E6%AD%8C%E6%9B%B2%E9%A0%81%E9%9D%A2%E9%BB%9E%E6%93%8A%E5%8D%B3%E5%8F%AF%E4%B8%8B%E8%BC%89%E5%AD%97%E5%B9%95%0A%0A(function()%20%7B%0A%20%20%20%20'use%20strict'%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E5%8F%96%E5%BE%97%20Cookie%EF%BC%88%E6%94%AF%E6%8F%B4%E5%A4%9A%E7%A8%AE%E6%A0%BC%E5%BC%8F%EF%BC%89%0A%20%20%20%20const%20getCookie%20%3D%20(name)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20value%20%3D%20%60%3B%20%24%7Bdocument.cookie%7D%60%3B%0A%20%20%20%20%20%20%20%20const%20parts%20%3D%20value.split(%60%3B%20%24%7Bname%7D%3D%60)%3B%0A%20%20%20%20%20%20%20%20if%20(parts.length%20%3D%3D%3D%202)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cookieValue%20%3D%20parts.pop().split('%3B').shift()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20cookieValue%20%3F%20decodeURIComponent(cookieValue)%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E5%88%97%E5%87%BA%E6%89%80%E6%9C%89%20Cookie%EF%BC%88%E9%99%A4%E9%8C%AF%E7%94%A8%EF%BC%89%0A%20%20%20%20const%20listAllCookies%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20document.cookie.split('%3B').map(c%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20%5Bname%2C%20...valueParts%5D%20%3D%20c.trim().split('%3D')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%20name%3A%20name.trim()%2C%20value%3A%20valueParts.join('%3D')%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E5%8F%96%E5%BE%97%E5%AE%89%E5%85%A8%E7%9A%84%E6%AA%94%E5%90%8D%EF%BC%88%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%91%BD%E5%90%8D%E7%82%BA%20getSafeTitle%EF%BC%89%0A%20%20%20%20const%20getSafeTitle%20%3D%20(id)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20let%20title%20%3D%20document.querySelector('meta%5Bproperty%3D%22og%3Atitle%22%5D')%3F.content%3F.trim()%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C%20document.querySelector('h1')%3F.innerText%3F.trim()%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C%20document.title%3F.trim()%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%7C%20id%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20title%20%3D%20title.replace(%2F%5Cs%2B%2Fg%2C%20'%20').replace(%2F%5B%5C%5C%2F%3A*%3F%22%3C%3E%7C%5C%5B%5C%5D%5D%2B%2Fg%2C%20'_')%3B%0A%20%20%20%20%20%20%20%20return%20title%20%7C%7C%20id%20%7C%7C%20'suno_song'%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E7%A7%BB%E9%99%A4%E6%A8%99%E7%B1%A4%0A%20%20%20%20const%20stripMeta%20%3D%20(text)%20%3D%3E%20String(text%20%7C%7C%20'').replace(%2F%5C%5B%5B%5E%5C%5D%5D*%3F%5C%5D%2Fg%2C%20'')%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E6%AA%A2%E6%9F%A5%E6%98%AF%E5%90%A6%E5%8F%AA%E6%9C%89%E6%8B%AC%E8%99%9F%0A%20%20%20%20const%20isParenOnly%20%3D%20(text)%20%3D%3E%20%2F%5E%5C(%5B%5E)%5D*%5C)%24%2F.test(text.trim())%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E5%BB%BA%E7%AB%8B%E5%AD%97%E5%B9%95%E6%AE%B5%E8%90%BD%EF%BC%88%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%89%0A%20%20%20%20const%20buildSegments%20%3D%20(w)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20w%20%3D%20%5B...w%5D.sort((a%2C%20b)%20%3D%3E%20a.start_s%20-%20b.start_s)%3B%0A%20%20%20%20%20%20%20%20let%20seg%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20let%20txt%20%3D%20''%3B%0A%20%20%20%20%20%20%20%20let%20s%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20e%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20push%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20t%20%3D%20txt.trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(s%20!%3D%3D%20null%20%26%26%20t)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20seg.push(%7B%20start%3A%20s%2C%20end%3A%20e%2C%20text%3A%20t%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20txt%20%3D%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20e%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20for%20(const%20x%20of%20w)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!x%3F.word)%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20raw%20%3D%20stripMeta(x.word)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!raw.trim())%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hard%20%3D%20%2F%5Cn%5Cn%5Cs*%24%2F.test(raw)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20soft%20%3D%20!hard%20%26%26%20%2F%5Cn%5Cs*%24%2F.test(raw)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20parts%20%3D%20raw.replace(%2F%5Cs*%24%2F%2C%20'').split(%2F%5Cn%2B%2F)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20parts.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20p%20%3D%20parts%5Bi%5D.trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!p%20%7C%7C%20isParenOnly(p))%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(s%20%3D%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%20%3D%20x.start_s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e%20%3D%20x.end_s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20txt%20%3D%20p%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e%20%3D%20Math.max(e%2C%20x.end_s)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20txt%20%2B%3D%20(txt%20%3F%20'%20'%20%3A%20'')%20%2B%20p%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(i%20%3C%20parts.length%20-%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20push()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(hard%20%7C%7C%20soft)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20push()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20push()%3B%0A%20%20%20%20%20%20%20%20return%20seg%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20SRT%20%E6%99%82%E9%96%93%E6%A0%BC%E5%BC%8F%0A%20%20%20%20const%20formatSrtTime%20%3D%20(seconds)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20totalMs%20%3D%20Math.round(seconds%20*%201000)%3B%0A%20%20%20%20%20%20%20%20const%20hours%20%3D%20Math.floor(totalMs%20%2F%203600000)%3B%0A%20%20%20%20%20%20%20%20const%20minutes%20%3D%20Math.floor((totalMs%20%25%203600000)%20%2F%2060000)%3B%0A%20%20%20%20%20%20%20%20const%20secs%20%3D%20Math.floor((totalMs%20%25%2060000)%20%2F%201000)%3B%0A%20%20%20%20%20%20%20%20const%20ms%20%3D%20totalMs%20%25%201000%3B%0A%20%20%20%20%20%20%20%20return%20%60%24%7BString(hours).padStart(2%2C%20'0')%7D%3A%24%7BString(minutes).padStart(2%2C%20'0')%7D%3A%24%7BString(secs).padStart(2%2C%20'0')%7D%2C%24%7BString(ms).padStart(3%2C%20'0')%7D%60%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20LRC%20%E6%99%82%E9%96%93%E6%A0%BC%E5%BC%8F%0A%20%20%20%20const%20formatLrcTime%20%3D%20(seconds)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20totalCs%20%3D%20Math.round(seconds%20*%20100)%3B%0A%20%20%20%20%20%20%20%20const%20minutes%20%3D%20Math.floor(totalCs%20%2F%206000)%3B%0A%20%20%20%20%20%20%20%20const%20secs%20%3D%20Math.floor((totalCs%20%25%206000)%20%2F%20100)%3B%0A%20%20%20%20%20%20%20%20const%20cs%20%3D%20totalCs%20%25%20100%3B%0A%20%20%20%20%20%20%20%20return%20%60%5B%24%7BString(minutes).padStart(2%2C%20'0')%7D%3A%24%7BString(secs).padStart(2%2C%20'0')%7D.%24%7BString(cs).padStart(2%2C%20'0')%7D%5D%60%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E7%94%9F%E6%88%90%20SRT%0A%20%20%20%20const%20generateSrt%20%3D%20(segments)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20lines%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20segments.forEach((seg%2C%20i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20lines.push(%60%24%7Bi%20%2B%201%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lines.push(%60%24%7BformatSrtTime(seg.start)%7D%20--%3E%20%24%7BformatSrtTime(seg.end)%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lines.push(seg.text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lines.push('')%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20return%20lines.join('%5Cn')%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E7%94%9F%E6%88%90%20LRC%0A%20%20%20%20const%20generateLrc%20%3D%20(segments)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20return%20segments.map(seg%20%3D%3E%20%60%24%7BformatLrcTime(seg.start)%7D%24%7Bseg.text%7D%60).join('%5Cn')%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88%EF%BC%88%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E5%91%BD%E5%90%8D%E7%82%BA%20dl%EF%BC%89%0A%20%20%20%20const%20dl%20%3D%20(content%2C%20filename%2C%20ext)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(!content%20%7C%7C%20!content.length)%20return%3B%0A%20%20%20%20%20%20%20%20const%20blob%20%3D%20new%20Blob(%5Bcontent%5D%2C%20%7B%20type%3A%20'text%2Fplain%3Bcharset%3Dutf-8'%20%7D)%3B%0A%20%20%20%20%20%20%20%20const%20url%20%3D%20URL.createObjectURL(blob)%3B%0A%20%20%20%20%20%20%20%20const%20a%20%3D%20Object.assign(document.createElement('a')%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20href%3A%20url%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20download%3A%20filename%20%2B%20ext%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20document.body.appendChild(a)%3B%0A%20%20%20%20%20%20%20%20a.click()%3B%0A%20%20%20%20%20%20%20%20a.remove()%3B%0A%20%20%20%20%20%20%20%20URL.revokeObjectURL(url)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E9%A1%AF%E7%A4%BA%E7%8B%80%E6%85%8B%0A%20%20%20%20const%20showStatus%20%3D%20(message%2C%20type%20%3D%20'info')%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20const%20colors%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20info%3A%20'%232196F3'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20success%3A%20'%234CAF50'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%3A%20'%23F44336'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20warning%3A%20'%23FF9800'%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20icons%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20info%3A%20'%E2%84%B9%EF%B8%8F'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20success%3A%20'%E2%9C%85'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20error%3A%20'%E2%9D%8C'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20warning%3A%20'%E2%9A%A0%EF%B8%8F'%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20status%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20%20%20status.style.cssText%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2015px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%204px%2012px%20rgba(0%2C0%2C0%2C0.3)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2010000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20400px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left%3A%204px%20solid%20%24%7Bcolors%5Btype%5D%20%7C%7C%20colors.info%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20status.textContent%20%3D%20%60%24%7Bicons%5Btype%5D%20%7C%7C%20icons.info%7D%20%24%7Bmessage%7D%60%3B%0A%20%20%20%20%20%20%20%20document.body.appendChild(status)%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20status.style.opacity%20%3D%20'0'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20status.style.transition%20%3D%20'opacity%200.3s'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20status.remove()%2C%20300)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20type%20%3D%3D%3D%20'error'%20%3F%205000%20%3A%203000)%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20%0A%20%20%20%20%2F%2F%20%E4%B8%BB%E7%A8%8B%E5%BC%8F%0A%20%20%20%20(async%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8F%96%E5%BE%97%E6%AD%8C%E6%9B%B2%20ID%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20pathMatch%20%3D%20location.pathname.match(%2F%5C%2Fsong%5C%2F(%5B%5E%5C%2F%5C%3F%5D%2B)%2F)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!pathMatch)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showStatus('%E9%8C%AF%E8%AA%A4%EF%BC%9A%E8%AB%8B%E5%9C%A8%20Suno%20%E6%AD%8C%E6%9B%B2%E9%A0%81%E9%9D%A2%E4%BD%BF%E7%94%A8%E6%AD%A4%E6%9B%B8%E7%B1%A4'%2C%20'error')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20songId%20%3D%20pathMatch%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showStatus(%60%E6%AD%A3%E5%9C%A8%E8%99%95%E7%90%86%E6%AD%8C%E6%9B%B2%3A%20%24%7BsongId%7D...%60%2C%20'info')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8F%96%E5%BE%97%20Session%20Cookie%EF%BC%88%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%EF%BC%8C%E4%BD%BF%E7%94%A8%20__session%EF%BC%89%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20token%20%3D%20getCookie('__session')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!token)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E6%89%BE%E4%B8%8D%E5%88%B0%20__session%EF%BC%8C%E5%98%97%E8%A9%A6%20_session%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20altToken%20%3D%20getCookie('_session')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!altToken)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showStatus('%E9%8C%AF%E8%AA%A4%EF%BC%9A%E6%89%BE%E4%B8%8D%E5%88%B0%20__session%20cookie%EF%BC%8C%E8%AB%8B%E7%A2%BA%E8%AA%8D%E5%B7%B2%E7%99%BB%E5%85%A5%20Suno'%2C%20'error')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20sessionCookie%20%3D%20altToken%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20sessionCookie%20%3D%20token%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E6%89%BE%E4%B8%8D%E5%88%B0%EF%BC%8C%E5%98%97%E8%A9%A6%E5%85%B6%E4%BB%96%E5%8F%AF%E8%83%BD%E7%9A%84%E8%AE%8A%E9%AB%94%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!sessionCookie)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20allCookies%20%3D%20listAllCookies()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log('%E6%89%80%E6%9C%89%20Cookie%3A'%2C%20allCookies)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%B0%8B%E6%89%BE%E5%8C%85%E5%90%AB%20session%20%E7%9A%84%20Cookie%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20cookie%20of%20allCookies)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20cookie.name.toLowerCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(name.includes('session')%20%26%26%20cookie.value%20%26%26%20cookie.value.length%20%3E%2010)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sessionCookie%20%3D%20cookie.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%E4%BD%BF%E7%94%A8%20Cookie%3A%20%24%7Bcookie.name%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E9%82%84%E6%98%AF%E6%89%BE%E4%B8%8D%E5%88%B0%EF%BC%8C%E5%98%97%E8%A9%A6%E5%85%B6%E4%BB%96%E5%8F%AF%E8%83%BD%E7%9A%84%E5%90%8D%E7%A8%B1%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!sessionCookie)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20possibleNames%20%3D%20%5B'session'%2C%20'auth_session'%2C%20'session_id'%2C%20'_session_U9tc'%2C%20'_session_Jnx'%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(const%20name%20of%20possibleNames)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cookie%20%3D%20getCookie(name)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cookie%20%26%26%20cookie.length%20%3E%2010)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sessionCookie%20%3D%20cookie%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60%E4%BD%BF%E7%94%A8%20Cookie%3A%20%24%7Bname%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E9%82%84%E6%98%AF%E6%89%BE%E4%B8%8D%E5%88%B0%EF%BC%8C%E9%A1%AF%E7%A4%BA%E9%99%A4%E9%8C%AF%E8%B3%87%E8%A8%8A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!sessionCookie)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20allCookies%20%3D%20listAllCookies()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20sessionCookies%20%3D%20allCookies.filter(c%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.name.toLowerCase().includes('session')%20%7C%7C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.name.toLowerCase().includes('auth')%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.name.toLowerCase().includes('token')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error('%E6%89%BE%E4%B8%8D%E5%88%B0%20Session%20Cookie')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log('%E6%89%80%E6%9C%89%20Cookie%20%E5%90%8D%E7%A8%B1%3A'%2C%20allCookies.map(c%20%3D%3E%20c.name))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log('%E5%8F%AF%E8%83%BD%E7%9A%84%20Session%20Cookie%3A'%2C%20sessionCookies)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20errorMsg%20%3D%20'%E9%8C%AF%E8%AA%A4%EF%BC%9A%E6%89%BE%E4%B8%8D%E5%88%B0%20Session%20Cookie%5Cn%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20'%E8%AB%8B%E7%A2%BA%E8%AA%8D%EF%BC%9A%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20'1.%20%E5%B7%B2%E7%99%BB%E5%85%A5%20Suno%20%E5%B8%B3%E8%99%9F%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20'2.%20%E5%9C%A8%20suno.com%20%E5%9F%9F%E5%90%8D%E4%B8%8B%E4%BD%BF%E7%94%A8%E6%AD%A4%E6%9B%B8%E7%B1%A4%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20'3.%20%E6%8C%89%20F12%20%E9%96%8B%E5%95%9F%E9%96%8B%E7%99%BC%E8%80%85%E5%B7%A5%E5%85%B7%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20'4.%20%E6%9F%A5%E7%9C%8B%20Application%20%3E%20Cookies%20%3E%20https%3A%2F%2Fsuno.com%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20'5.%20%E5%B0%8B%E6%89%BE%E5%90%8D%E7%82%BA%20_session%20%E7%9A%84%20Cookie%5Cn%5Cn'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(sessionCookies.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20%60%E6%89%BE%E5%88%B0%E7%9B%B8%E9%97%9C%20Cookie%3A%20%24%7BsessionCookies.map(c%20%3D%3E%20c.name).join('%2C%20')%7D%5Cn%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20errorMsg%20%2B%3D%20'%E8%AB%8B%E6%AA%A2%E6%9F%A5%E9%80%99%E4%BA%9B%20Cookie%20%E7%9A%84%20Value%20%E6%98%AF%E5%90%A6%E7%82%BA%E6%9C%89%E6%95%88%E7%9A%84%20session%20token'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showStatus(errorMsg%2C%20'error')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log('%E4%BD%BF%E7%94%A8%20Session%20Cookie%20(%E5%89%8D%2020%20%E5%AD%97%E5%85%83)%3A'%2C%20sessionCookie.substring(0%2C%2020)%20%2B%20'...')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8F%96%E5%BE%97%E6%AA%94%E5%90%8D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20filename%20%3D%20getSafeTitle(songId)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showStatus('%E6%AD%A3%E5%9C%A8%E8%AB%8B%E6%B1%82%E5%AD%97%E5%B9%95%E8%B3%87%E6%96%99...'%2C%20'info')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%AB%8B%E6%B1%82%20API%EF%BC%88%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%89%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20apiUrl%20%3D%20%60https%3A%2F%2Fstudio-api.prod.suno.com%2Fapi%2Fgen%2F%24%7BsongId%7D%2Faligned_lyrics%2Fv2%2F%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20response%20%3D%20await%20fetch(apiUrl%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20headers%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'Authorization'%3A%20%60Bearer%20%24%7BsessionCookie%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!response.ok)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%E7%9A%84%E6%96%B9%E5%BC%8F%E9%A1%AF%E7%A4%BA%E9%8C%AF%E8%AA%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20errorMsg%20%3D%20%60Suno%20API%20%E5%9B%9E%E5%82%B3%20%24%7Bresponse.status%7D%EF%BC%8C%E8%AB%8B%E5%98%97%E8%A9%A6%E5%9C%A8%20suno.com%20%E7%99%BB%E5%87%BA%E5%BE%8C%E9%87%8D%E6%96%B0%E7%99%BB%E5%85%A5%E5%86%8D%E9%BB%9E%E4%B8%80%E6%AC%A1%E6%9B%B8%E7%B1%A4%E3%80%82%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(errorMsg)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showStatus(errorMsg%2C%20'error')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20await%20response.json()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20words%20%3D%20data.aligned_words%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!Array.isArray(words)%20%7C%7C%20!words.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%92%E6%9C%89%E8%B3%87%E6%96%99%E5%B0%B1%E9%9D%9C%E9%BB%98%E8%BF%94%E5%9B%9E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showStatus(%60%E6%88%90%E5%8A%9F%E5%8F%96%E5%BE%97%20%24%7Bwords.length%7D%20%E5%80%8B%E5%96%AE%E8%A9%9E%EF%BC%8C%E6%AD%A3%E5%9C%A8%E8%99%95%E7%90%86...%60%2C%20'success')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%BB%BA%E7%AB%8B%E5%AD%97%E5%B9%95%E6%AE%B5%E8%90%BD%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20seg%20%3D%20buildSegments(words)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(seg.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%2F%2F%20%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%92%E6%9C%89%E8%B3%87%E6%96%99%E5%B0%B1%E9%9D%9C%E9%BB%98%E8%BF%94%E5%9B%9E%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E7%94%9F%E6%88%90%E4%B8%A6%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88%EF%BC%88%E6%8C%89%E7%85%A7%20PDF%20%E8%AA%AA%E6%98%8E%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%89%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20srtContent%20%3D%20seg.map((s%2C%20i)%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7Bi%20%2B%201%7D%5Cn%24%7BsrtTime(s.start)%7D%20--%3E%20%24%7BsrtTime(s.end)%7D%5Cn%24%7Bs.text%7D%5Cn%5Cn%60%0A%20%20%20%20%20%20%20%20%20%20%20%20).join('')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20lrcContent%20%3D%20seg.map(s%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7BlrcTime(s.start)%7D%24%7Bs.text%7D%60%0A%20%20%20%20%20%20%20%20%20%20%20%20).join('%5Cn')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20dl(srtContent%2C%20filename%2C%20'.srt')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dl(lrcContent%2C%20filename%2C%20'.lrc')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showStatus(%60%E2%9C%85%20%E4%B8%8B%E8%BC%89%E5%AE%8C%E6%88%90%EF%BC%81%5Cn%24%7Bfilename%7D.srt%5Cn%24%7Bfilename%7D.lrc%60%2C%20'success')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.error('%E9%8C%AF%E8%AA%A4%3A'%2C%20error)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showStatus(%60%E9%8C%AF%E8%AA%A4%3A%20%24%7Berror.message%7D%60%2C%20'error')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)()%3B%0A%7D)()%3B%0A