(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function j1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rh={exports:{}},ji={},ih={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=Symbol.for("react.element"),A1=Symbol.for("react.portal"),p1=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),_1=Symbol.for("react.profiler"),B1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),z1=Symbol.for("react.forward_ref"),V1=Symbol.for("react.suspense"),Y1=Symbol.for("react.memo"),U1=Symbol.for("react.lazy"),_0=Symbol.iterator;function H1(e){return e===null||typeof e!="object"?null:(e=_0&&e[_0]||e["@@iterator"],typeof e=="function"?e:null)}var sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uh=Object.assign,ch={};function lo(e,t,n){this.props=e,this.context=t,this.refs=ch,this.updater=n||sh}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dh(){}dh.prototype=lo.prototype;function pu(e,t,n){this.props=e,this.context=t,this.refs=ch,this.updater=n||sh}var Lu=pu.prototype=new dh;Lu.constructor=pu;uh(Lu,lo.prototype);Lu.isPureReactComponent=!0;var B0=Array.isArray,fh=Object.prototype.hasOwnProperty,_u={current:null},hh={key:!0,ref:!0,__self:!0,__source:!0};function mh(e,t,n){var a,o={},i=null,s=null;if(t!=null)for(a in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)fh.call(t,a)&&!hh.hasOwnProperty(a)&&(o[a]=t[a]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var m=Array(c),x=0;x<c;x++)m[x]=arguments[x+2];o.children=m}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)o[a]===void 0&&(o[a]=c[a]);return{$$typeof:or,type:e,key:i,ref:s,props:o,_owner:_u.current}}function W1(e,t){return{$$typeof:or,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bu(e){return typeof e=="object"&&e!==null&&e.$$typeof===or}function G1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var D0=/\/+/g;function fs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G1(""+e.key):t.toString(36)}function $r(e,t,n,a,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case or:case A1:s=!0}}if(s)return s=e,o=o(s),e=a===""?"."+fs(s,0):a,B0(o)?(n="",e!=null&&(n=e.replace(D0,"$&/")+"/"),$r(o,t,n,"",function(x){return x})):o!=null&&(Bu(o)&&(o=W1(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(D0,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=a===""?".":a+":",B0(e))for(var c=0;c<e.length;c++){i=e[c];var m=a+fs(i,c);s+=$r(i,t,n,m,o)}else if(m=H1(e),typeof m=="function")for(e=m.call(e),c=0;!(i=e.next()).done;)i=i.value,m=a+fs(i,c++),s+=$r(i,t,n,m,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fr(e,t,n){if(e==null)return e;var a=[],o=0;return $r(e,a,"","",function(i){return t.call(n,i,o++)}),a}function $1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},Xr={transition:null},X1={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Xr,ReactCurrentOwner:_u};function gh(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Fr,forEach:function(e,t,n){Fr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fr(e,function(){t++}),t},toArray:function(e){return Fr(e,function(t){return t})||[]},only:function(e){if(!Bu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=lo;Xe.Fragment=p1;Xe.Profiler=_1;Xe.PureComponent=pu;Xe.StrictMode=L1;Xe.Suspense=V1;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X1;Xe.act=gh;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=uh({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=_u.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(m in t)fh.call(t,m)&&!hh.hasOwnProperty(m)&&(a[m]=t[m]===void 0&&c!==void 0?c[m]:t[m])}var m=arguments.length-2;if(m===1)a.children=n;else if(1<m){c=Array(m);for(var x=0;x<m;x++)c[x]=arguments[x+2];a.children=c}return{$$typeof:or,type:e.type,key:o,ref:i,props:a,_owner:s}};Xe.createContext=function(e){return e={$$typeof:D1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B1,_context:e},e.Consumer=e};Xe.createElement=mh;Xe.createFactory=function(e){var t=mh.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:z1,render:e}};Xe.isValidElement=Bu;Xe.lazy=function(e){return{$$typeof:U1,_payload:{_status:-1,_result:e},_init:$1}};Xe.memo=function(e,t){return{$$typeof:Y1,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=Xr.transition;Xr.transition={};try{e()}finally{Xr.transition=t}};Xe.unstable_act=gh;Xe.useCallback=function(e,t){return xn.current.useCallback(e,t)};Xe.useContext=function(e){return xn.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return xn.current.useEffect(e,t)};Xe.useId=function(){return xn.current.useId()};Xe.useImperativeHandle=function(e,t,n){return xn.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return xn.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return xn.current.useReducer(e,t,n)};Xe.useRef=function(e){return xn.current.useRef(e)};Xe.useState=function(e){return xn.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return xn.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return xn.current.useTransition()};Xe.version="18.3.1";ih.exports=Xe;var M=ih.exports;const K1=j1(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=M,Q1=Symbol.for("react.element"),q1=Symbol.for("react.fragment"),J1=Object.prototype.hasOwnProperty,eC=Z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tC={key:!0,ref:!0,__self:!0,__source:!0};function yh(e,t,n){var a,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(a in t)J1.call(t,a)&&!tC.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)o[a]===void 0&&(o[a]=t[a]);return{$$typeof:Q1,type:e,key:i,ref:s,props:o,_owner:eC.current}}ji.Fragment=q1;ji.jsx=yh;ji.jsxs=yh;rh.exports=ji;var l=rh.exports,zs={},vh={exports:{}},Yn={},Ch={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,_){var z=O.length;O.push(_);e:for(;0<z;){var p=z-1>>>1,W=O[p];if(0<o(W,_))O[p]=_,O[z]=W,z=p;else break e}}function n(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var _=O[0],z=O.pop();if(z!==_){O[0]=z;e:for(var p=0,W=O.length,G=W>>>1;p<G;){var X=2*(p+1)-1,ne=O[X],q=X+1,ie=O[q];if(0>o(ne,z))q<W&&0>o(ie,ne)?(O[p]=ie,O[q]=z,p=q):(O[p]=ne,O[X]=z,p=X);else if(q<W&&0>o(ie,z))O[p]=ie,O[q]=z,p=q;else break e}}return _}function o(O,_){var z=O.sortIndex-_.sortIndex;return z!==0?z:O.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var m=[],x=[],h=1,b=null,C=3,v=!1,r=!1,u=!1,E=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var _=n(x);_!==null;){if(_.callback===null)a(x);else if(_.startTime<=O)a(x),_.sortIndex=_.expirationTime,t(m,_);else break;_=n(x)}}function k(O){if(u=!1,S(O),!r)if(n(m)!==null)r=!0,D(N);else{var _=n(x);_!==null&&B(k,_.startTime-O)}}function N(O,_){r=!1,u&&(u=!1,f(d),d=-1),v=!0;var z=C;try{for(S(_),b=n(m);b!==null&&(!(b.expirationTime>_)||O&&!F());){var p=b.callback;if(typeof p=="function"){b.callback=null,C=b.priorityLevel;var W=p(b.expirationTime<=_);_=e.unstable_now(),typeof W=="function"?b.callback=W:b===n(m)&&a(m),S(_)}else a(m);b=n(m)}if(b!==null)var G=!0;else{var X=n(x);X!==null&&B(k,X.startTime-_),G=!1}return G}finally{b=null,C=z,v=!1}}var j=!1,L=null,d=-1,I=5,T=-1;function F(){return!(e.unstable_now()-T<I)}function w(){if(L!==null){var O=e.unstable_now();T=O;var _=!0;try{_=L(!0,O)}finally{_?A():(j=!1,L=null)}}else j=!1}var A;if(typeof y=="function")A=function(){y(w)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,V=P.port2;P.port1.onmessage=w,A=function(){V.postMessage(null)}}else A=function(){E(w,0)};function D(O){L=O,j||(j=!0,A())}function B(O,_){d=E(function(){O(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){r||v||(r=!0,D(N))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(O){switch(C){case 1:case 2:case 3:var _=3;break;default:_=C}var z=C;C=_;try{return O()}finally{C=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,_){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=C;C=O;try{return _()}finally{C=z}},e.unstable_scheduleCallback=function(O,_,z){var p=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?p+z:p):z=p,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,O={id:h++,callback:_,priorityLevel:O,startTime:z,expirationTime:W,sortIndex:-1},z>p?(O.sortIndex=z,t(x,O),n(m)===null&&O===n(x)&&(u?(f(d),d=-1):u=!0,B(k,z-p))):(O.sortIndex=W,t(m,O),r||v||(r=!0,D(N))),O},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(O){var _=C;return function(){var z=C;C=_;try{return O.apply(this,arguments)}finally{C=z}}}})(Sh);Ch.exports=Sh;var nC=Ch.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=M,Vn=nC;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bh=new Set,zo={};function Tl(e,t){Ql(e,t),Ql(e+"Capture",t)}function Ql(e,t){for(zo[e]=t,e=0;e<t.length;e++)bh.add(t[e])}var Pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=Object.prototype.hasOwnProperty,lC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z0={},V0={};function oC(e){return Vs.call(V0,e)?!0:Vs.call(z0,e)?!1:lC.test(e)?V0[e]=!0:(z0[e]=!0,!1)}function rC(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function iC(e,t,n,a){if(t===null||typeof t>"u"||rC(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function En(e,t,n,a,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new En(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new En(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new En(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new En(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new En(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new En(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new En(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new En(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new En(e,5,!1,e.toLowerCase(),null,!1,!1)});var Du=/[\-:]([a-z])/g;function zu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Du,zu);sn[t]=new En(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Du,zu);sn[t]=new En(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Du,zu);sn[t]=new En(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new En(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new En(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vu(e,t,n,a){var o=sn.hasOwnProperty(t)?sn[t]:null;(o!==null?o.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(iC(t,n,o,a)&&(n=null),a||o===null?oC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,a=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var pa=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pr=Symbol.for("react.element"),jl=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),Yu=Symbol.for("react.strict_mode"),Ys=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),xh=Symbol.for("react.context"),Uu=Symbol.for("react.forward_ref"),Us=Symbol.for("react.suspense"),Hs=Symbol.for("react.suspense_list"),Hu=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),Eh=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=Y0&&e[Y0]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,hs;function Oo(e){if(hs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hs=t&&t[1]||""}return`
`+hs+e}var ms=!1;function gs(e,t){if(!e||ms)return"";ms=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var a=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){a=x}e.call(t.prototype)}else{try{throw Error()}catch(x){a=x}e()}}catch(x){if(x&&a&&typeof x.stack=="string"){for(var o=x.stack.split(`
`),i=a.stack.split(`
`),s=o.length-1,c=i.length-1;1<=s&&0<=c&&o[s]!==i[c];)c--;for(;1<=s&&0<=c;s--,c--)if(o[s]!==i[c]){if(s!==1||c!==1)do if(s--,c--,0>c||o[s]!==i[c]){var m=`
`+o[s].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=s&&0<=c);break}}}finally{ms=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oo(e):""}function sC(e){switch(e.tag){case 5:return Oo(e.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return e=gs(e.type,!1),e;case 11:return e=gs(e.type.render,!1),e;case 1:return e=gs(e.type,!0),e;default:return""}}function Ws(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Al:return"Fragment";case jl:return"Portal";case Ys:return"Profiler";case Yu:return"StrictMode";case Us:return"Suspense";case Hs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xh:return(e.displayName||"Context")+".Consumer";case Nh:return(e._context.displayName||"Context")+".Provider";case Uu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hu:return t=e.displayName||null,t!==null?t:Ws(e.type)||"Memo";case Ya:t=e._payload,e=e._init;try{return Ws(e(t))}catch{}}return null}function uC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ws(t);case 8:return t===Yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function al(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cC(e){var t=wh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){a=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rr(e){e._valueTracker||(e._valueTracker=cC(e))}function Th(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=wh(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gs(e,t){var n=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function U0(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=al(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oh(e,t){t=t.checked,t!=null&&Vu(e,"checked",t,!1)}function $s(e,t){Oh(e,t);var n=al(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xs(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xs(e,t.type,al(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xs(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function Wl(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+al(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ks(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ce(92));if(Io(n)){if(1<n.length)throw Error(ce(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:al(n)}}function Ih(e,t){var n=al(t.value),a=al(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function G0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jr,kh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dC=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(e){dC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fo[t]=Fo[e]})});function Fh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fo.hasOwnProperty(e)&&Fo[e]?(""+t).trim():t+"px"}function Ph(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,o=Fh(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,o):e[n]=o}}var fC=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(e,t){if(t){if(fC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function qs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Js=null;function Wu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eu=null,Gl=null,$l=null;function $0(e){if(e=sr(e)){if(typeof eu!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Bi(t),eu(e.stateNode,e.type,t))}}function Rh(e){Gl?$l?$l.push(e):$l=[e]:Gl=e}function jh(){if(Gl){var e=Gl,t=$l;if($l=Gl=null,$0(e),t)for(e=0;e<t.length;e++)$0(t[e])}}function Ah(e,t){return e(t)}function ph(){}var ys=!1;function Lh(e,t,n){if(ys)return e(t,n);ys=!0;try{return Ah(e,t,n)}finally{ys=!1,(Gl!==null||$l!==null)&&(ph(),jh())}}function Yo(e,t){var n=e.stateNode;if(n===null)return null;var a=Bi(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ce(231,t,typeof n));return n}var tu=!1;if(Pa)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){tu=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{tu=!1}function hC(e,t,n,a,o,i,s,c,m){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(h){this.onError(h)}}var Po=!1,ri=null,ii=!1,nu=null,mC={onError:function(e){Po=!0,ri=e}};function gC(e,t,n,a,o,i,s,c,m){Po=!1,ri=null,hC.apply(mC,arguments)}function yC(e,t,n,a,o,i,s,c,m){if(gC.apply(this,arguments),Po){if(Po){var x=ri;Po=!1,ri=null}else throw Error(ce(198));ii||(ii=!0,nu=x)}}function Ol(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function X0(e){if(Ol(e)!==e)throw Error(ce(188))}function vC(e){var t=e.alternate;if(!t){if(t=Ol(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(a=o.return,a!==null){n=a;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return X0(o),e;if(i===a)return X0(o),t;i=i.sibling}throw Error(ce(188))}if(n.return!==a.return)n=o,a=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,a=i;break}if(c===a){s=!0,a=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,a=o;break}if(c===a){s=!0,a=i,n=o;break}c=c.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==a)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?e:t}function Bh(e){return e=vC(e),e!==null?Dh(e):null}function Dh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dh(e);if(t!==null)return t;e=e.sibling}return null}var zh=Vn.unstable_scheduleCallback,K0=Vn.unstable_cancelCallback,CC=Vn.unstable_shouldYield,SC=Vn.unstable_requestPaint,_t=Vn.unstable_now,bC=Vn.unstable_getCurrentPriorityLevel,Gu=Vn.unstable_ImmediatePriority,Vh=Vn.unstable_UserBlockingPriority,si=Vn.unstable_NormalPriority,NC=Vn.unstable_LowPriority,Yh=Vn.unstable_IdlePriority,Ai=null,ga=null;function xC(e){if(ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(Ai,e,void 0,(e.current.flags&128)===128)}catch{}}var sa=Math.clz32?Math.clz32:TC,EC=Math.log,wC=Math.LN2;function TC(e){return e>>>=0,e===0?32:31-(EC(e)/wC|0)|0}var Ar=64,pr=4194304;function Mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var c=s&~o;c!==0?a=Mo(c):(i&=s,i!==0&&(a=Mo(i)))}else s=n&~o,s!==0?a=Mo(s):i!==0&&(a=Mo(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&o)&&(o=a&-a,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-sa(t),o=1<<n,a|=e[n],t&=~o;return a}function OC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IC(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-sa(i),c=1<<s,m=o[s];m===-1?(!(c&n)||c&a)&&(o[s]=OC(c,t)):m<=t&&(e.expiredLanes|=c),i&=~c}}function au(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uh(){var e=Ar;return Ar<<=1,!(Ar&4194240)&&(Ar=64),e}function vs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sa(t),e[t]=n}function MC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-sa(n),i=1<<o;t[o]=0,a[o]=-1,e[o]=-1,n&=~i}}function $u(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-sa(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}var it=0;function Hh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wh,Xu,Gh,$h,Xh,lu=!1,Lr=[],Ka=null,Za=null,Qa=null,Uo=new Map,Ho=new Map,Wa=[],kC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z0(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function So(e,t,n,a,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[o]},t!==null&&(t=sr(t),t!==null&&Xu(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function FC(e,t,n,a,o){switch(t){case"focusin":return Ka=So(Ka,e,t,n,a,o),!0;case"dragenter":return Za=So(Za,e,t,n,a,o),!0;case"mouseover":return Qa=So(Qa,e,t,n,a,o),!0;case"pointerover":var i=o.pointerId;return Uo.set(i,So(Uo.get(i)||null,e,t,n,a,o)),!0;case"gotpointercapture":return i=o.pointerId,Ho.set(i,So(Ho.get(i)||null,e,t,n,a,o)),!0}return!1}function Kh(e){var t=ml(e.target);if(t!==null){var n=Ol(t);if(n!==null){if(t=n.tag,t===13){if(t=_h(n),t!==null){e.blockedOn=t,Xh(e.priority,function(){Gh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ou(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Js=a,n.target.dispatchEvent(a),Js=null}else return t=sr(n),t!==null&&Xu(t),e.blockedOn=n,!1;t.shift()}return!0}function Q0(e,t,n){Kr(e)&&n.delete(t)}function PC(){lu=!1,Ka!==null&&Kr(Ka)&&(Ka=null),Za!==null&&Kr(Za)&&(Za=null),Qa!==null&&Kr(Qa)&&(Qa=null),Uo.forEach(Q0),Ho.forEach(Q0)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,PC)))}function Wo(e){function t(o){return bo(o,e)}if(0<Lr.length){bo(Lr[0],e);for(var n=1;n<Lr.length;n++){var a=Lr[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Ka!==null&&bo(Ka,e),Za!==null&&bo(Za,e),Qa!==null&&bo(Qa,e),Uo.forEach(t),Ho.forEach(t),n=0;n<Wa.length;n++)a=Wa[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Wa.length&&(n=Wa[0],n.blockedOn===null);)Kh(n),n.blockedOn===null&&Wa.shift()}var Xl=pa.ReactCurrentBatchConfig,ci=!0;function RC(e,t,n,a){var o=it,i=Xl.transition;Xl.transition=null;try{it=1,Ku(e,t,n,a)}finally{it=o,Xl.transition=i}}function jC(e,t,n,a){var o=it,i=Xl.transition;Xl.transition=null;try{it=4,Ku(e,t,n,a)}finally{it=o,Xl.transition=i}}function Ku(e,t,n,a){if(ci){var o=ou(e,t,n,a);if(o===null)Is(e,t,a,di,n),Z0(e,a);else if(FC(o,e,t,n,a))a.stopPropagation();else if(Z0(e,a),t&4&&-1<kC.indexOf(e)){for(;o!==null;){var i=sr(o);if(i!==null&&Wh(i),i=ou(e,t,n,a),i===null&&Is(e,t,a,di,n),i===o)break;o=i}o!==null&&a.stopPropagation()}else Is(e,t,a,null,n)}}var di=null;function ou(e,t,n,a){if(di=null,e=Wu(a),e=ml(e),e!==null)if(t=Ol(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function Zh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bC()){case Gu:return 1;case Vh:return 4;case si:case NC:return 16;case Yh:return 536870912;default:return 16}default:return 16}}var $a=null,Zu=null,Zr=null;function Qh(){if(Zr)return Zr;var e,t=Zu,n=t.length,a,o="value"in $a?$a.value:$a.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===o[i-a];a++);return Zr=o.slice(e,1<a?1-a:void 0)}function Qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function q0(){return!1}function Un(e){function t(n,a,o,i,s){this._reactName=n,this._targetInst=o,this.type=a,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_r:q0,this.isPropagationStopped=q0,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),t}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=Un(oo),ir=kt({},oo,{view:0,detail:0}),AC=Un(ir),Cs,Ss,No,pi=kt({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(Cs=e.screenX-No.screenX,Ss=e.screenY-No.screenY):Ss=Cs=0,No=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),J0=Un(pi),pC=kt({},pi,{dataTransfer:0}),LC=Un(pC),_C=kt({},ir,{relatedTarget:0}),bs=Un(_C),BC=kt({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),DC=Un(BC),zC=kt({},oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VC=Un(zC),YC=kt({},oo,{data:0}),ef=Un(YC),UC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WC[e])?!!t[e]:!1}function qu(){return GC}var $C=kt({},ir,{key:function(e){if(e.key){var t=UC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qu,charCode:function(e){return e.type==="keypress"?Qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XC=Un($C),KC=kt({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Un(KC),ZC=kt({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qu}),QC=Un(ZC),qC=kt({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JC=Un(qC),e2=kt({},pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t2=Un(e2),n2=[9,13,27,32],Ju=Pa&&"CompositionEvent"in window,Ro=null;Pa&&"documentMode"in document&&(Ro=document.documentMode);var a2=Pa&&"TextEvent"in window&&!Ro,qh=Pa&&(!Ju||Ro&&8<Ro&&11>=Ro),nf=" ",af=!1;function Jh(e,t){switch(e){case"keyup":return n2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pl=!1;function l2(e,t){switch(e){case"compositionend":return em(t);case"keypress":return t.which!==32?null:(af=!0,nf);case"textInput":return e=t.data,e===nf&&af?null:e;default:return null}}function o2(e,t){if(pl)return e==="compositionend"||!Ju&&Jh(e,t)?(e=Qh(),Zr=Zu=$a=null,pl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qh&&t.locale!=="ko"?null:t.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!r2[e.type]:t==="textarea"}function tm(e,t,n,a){Rh(a),t=fi(t,"onChange"),0<t.length&&(n=new Qu("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var jo=null,Go=null;function i2(e){fm(e,0)}function Li(e){var t=Bl(e);if(Th(t))return e}function s2(e,t){if(e==="change")return t}var nm=!1;if(Pa){var Ns;if(Pa){var xs="oninput"in document;if(!xs){var of=document.createElement("div");of.setAttribute("oninput","return;"),xs=typeof of.oninput=="function"}Ns=xs}else Ns=!1;nm=Ns&&(!document.documentMode||9<document.documentMode)}function rf(){jo&&(jo.detachEvent("onpropertychange",am),Go=jo=null)}function am(e){if(e.propertyName==="value"&&Li(Go)){var t=[];tm(t,Go,e,Wu(e)),Lh(i2,t)}}function u2(e,t,n){e==="focusin"?(rf(),jo=t,Go=n,jo.attachEvent("onpropertychange",am)):e==="focusout"&&rf()}function c2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li(Go)}function d2(e,t){if(e==="click")return Li(t)}function f2(e,t){if(e==="input"||e==="change")return Li(t)}function h2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ca=typeof Object.is=="function"?Object.is:h2;function $o(e,t){if(ca(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!Vs.call(t,o)||!ca(e[o],t[o]))return!1}return!0}function sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uf(e,t){var n=sf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sf(n)}}function lm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function om(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function m2(e){var t=om(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lm(n.ownerDocument.documentElement,n)){if(a!==null&&ec(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(a.start,o);a=a.end===void 0?i:Math.min(a.end,o),!e.extend&&i>a&&(o=a,a=i,i=o),o=uf(n,i);var s=uf(n,a);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g2=Pa&&"documentMode"in document&&11>=document.documentMode,Ll=null,ru=null,Ao=null,iu=!1;function cf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;iu||Ll==null||Ll!==oi(a)||(a=Ll,"selectionStart"in a&&ec(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ao&&$o(Ao,a)||(Ao=a,a=fi(ru,"onSelect"),0<a.length&&(t=new Qu("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ll)))}function Br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _l={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionend:Br("Transition","TransitionEnd")},Es={},rm={};Pa&&(rm=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function _i(e){if(Es[e])return Es[e];if(!_l[e])return e;var t=_l[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rm)return Es[e]=t[n];return e}var im=_i("animationend"),sm=_i("animationiteration"),um=_i("animationstart"),cm=_i("transitionend"),dm=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(e,t){dm.set(e,t),Tl(t,[e])}for(var ws=0;ws<df.length;ws++){var Ts=df[ws],y2=Ts.toLowerCase(),v2=Ts[0].toUpperCase()+Ts.slice(1);ol(y2,"on"+v2)}ol(im,"onAnimationEnd");ol(sm,"onAnimationIteration");ol(um,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(cm,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function ff(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,yC(a,t,void 0,e),e.currentTarget=null}function fm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var c=a[s],m=c.instance,x=c.currentTarget;if(c=c.listener,m!==i&&o.isPropagationStopped())break e;ff(o,c,x),i=m}else for(s=0;s<a.length;s++){if(c=a[s],m=c.instance,x=c.currentTarget,c=c.listener,m!==i&&o.isPropagationStopped())break e;ff(o,c,x),i=m}}}if(ii)throw e=nu,ii=!1,nu=null,e}function Ct(e,t){var n=t[fu];n===void 0&&(n=t[fu]=new Set);var a=e+"__bubble";n.has(a)||(hm(t,e,2,!1),n.add(a))}function Os(e,t,n){var a=0;t&&(a|=4),hm(n,e,a,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[Dr]){e[Dr]=!0,bh.forEach(function(n){n!=="selectionchange"&&(C2.has(n)||Os(n,!1,e),Os(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,Os("selectionchange",!1,t))}}function hm(e,t,n,a){switch(Zh(t)){case 1:var o=RC;break;case 4:o=jC;break;default:o=Ku}n=o.bind(null,t,n,e),o=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Is(e,t,n,a,o){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var c=a.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(s===4)for(s=a.return;s!==null;){var m=s.tag;if((m===3||m===4)&&(m=s.stateNode.containerInfo,m===o||m.nodeType===8&&m.parentNode===o))return;s=s.return}for(;c!==null;){if(s=ml(c),s===null)return;if(m=s.tag,m===5||m===6){a=i=s;continue e}c=c.parentNode}}a=a.return}Lh(function(){var x=i,h=Wu(n),b=[];e:{var C=dm.get(e);if(C!==void 0){var v=Qu,r=e;switch(e){case"keypress":if(Qr(n)===0)break e;case"keydown":case"keyup":v=XC;break;case"focusin":r="focus",v=bs;break;case"focusout":r="blur",v=bs;break;case"beforeblur":case"afterblur":v=bs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=J0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=LC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=QC;break;case im:case sm:case um:v=DC;break;case cm:v=JC;break;case"scroll":v=AC;break;case"wheel":v=t2;break;case"copy":case"cut":case"paste":v=VC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=tf}var u=(t&4)!==0,E=!u&&e==="scroll",f=u?C!==null?C+"Capture":null:C;u=[];for(var y=x,S;y!==null;){S=y;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,f!==null&&(k=Yo(y,f),k!=null&&u.push(Ko(y,k,S)))),E)break;y=y.return}0<u.length&&(C=new v(C,r,null,n,h),b.push({event:C,listeners:u}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",C&&n!==Js&&(r=n.relatedTarget||n.fromElement)&&(ml(r)||r[Ra]))break e;if((v||C)&&(C=h.window===h?h:(C=h.ownerDocument)?C.defaultView||C.parentWindow:window,v?(r=n.relatedTarget||n.toElement,v=x,r=r?ml(r):null,r!==null&&(E=Ol(r),r!==E||r.tag!==5&&r.tag!==6)&&(r=null)):(v=null,r=x),v!==r)){if(u=J0,k="onMouseLeave",f="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(u=tf,k="onPointerLeave",f="onPointerEnter",y="pointer"),E=v==null?C:Bl(v),S=r==null?C:Bl(r),C=new u(k,y+"leave",v,n,h),C.target=E,C.relatedTarget=S,k=null,ml(h)===x&&(u=new u(f,y+"enter",r,n,h),u.target=S,u.relatedTarget=E,k=u),E=k,v&&r)t:{for(u=v,f=r,y=0,S=u;S;S=Fl(S))y++;for(S=0,k=f;k;k=Fl(k))S++;for(;0<y-S;)u=Fl(u),y--;for(;0<S-y;)f=Fl(f),S--;for(;y--;){if(u===f||f!==null&&u===f.alternate)break t;u=Fl(u),f=Fl(f)}u=null}else u=null;v!==null&&hf(b,C,v,u,!1),r!==null&&E!==null&&hf(b,E,r,u,!0)}}e:{if(C=x?Bl(x):window,v=C.nodeName&&C.nodeName.toLowerCase(),v==="select"||v==="input"&&C.type==="file")var N=s2;else if(lf(C))if(nm)N=f2;else{N=c2;var j=u2}else(v=C.nodeName)&&v.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(N=d2);if(N&&(N=N(e,x))){tm(b,N,n,h);break e}j&&j(e,C,x),e==="focusout"&&(j=C._wrapperState)&&j.controlled&&C.type==="number"&&Xs(C,"number",C.value)}switch(j=x?Bl(x):window,e){case"focusin":(lf(j)||j.contentEditable==="true")&&(Ll=j,ru=x,Ao=null);break;case"focusout":Ao=ru=Ll=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,cf(b,n,h);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":cf(b,n,h)}var L;if(Ju)e:{switch(e){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else pl?Jh(e,n)&&(d="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(d="onCompositionStart");d&&(qh&&n.locale!=="ko"&&(pl||d!=="onCompositionStart"?d==="onCompositionEnd"&&pl&&(L=Qh()):($a=h,Zu="value"in $a?$a.value:$a.textContent,pl=!0)),j=fi(x,d),0<j.length&&(d=new ef(d,e,null,n,h),b.push({event:d,listeners:j}),L?d.data=L:(L=em(n),L!==null&&(d.data=L)))),(L=a2?l2(e,n):o2(e,n))&&(x=fi(x,"onBeforeInput"),0<x.length&&(h=new ef("onBeforeInput","beforeinput",null,n,h),b.push({event:h,listeners:x}),h.data=L))}fm(b,t)})}function Ko(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fi(e,t){for(var n=t+"Capture",a=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Yo(e,n),i!=null&&a.unshift(Ko(e,i,o)),i=Yo(e,t),i!=null&&a.push(Ko(e,i,o))),e=e.return}return a}function Fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hf(e,t,n,a,o){for(var i=t._reactName,s=[];n!==null&&n!==a;){var c=n,m=c.alternate,x=c.stateNode;if(m!==null&&m===a)break;c.tag===5&&x!==null&&(c=x,o?(m=Yo(n,i),m!=null&&s.unshift(Ko(n,m,c))):o||(m=Yo(n,i),m!=null&&s.push(Ko(n,m,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var S2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function mf(e){return(typeof e=="string"?e:""+e).replace(S2,`
`).replace(b2,"")}function zr(e,t,n){if(t=mf(t),mf(e)!==t&&n)throw Error(ce(425))}function hi(){}var su=null,uu=null;function cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,N2=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(e){return gf.resolve(null).then(e).catch(E2)}:du;function E2(e){setTimeout(function(){throw e})}function Ms(e,t){var n=t,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(a===0){e.removeChild(o),Wo(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=o}while(n);Wo(t)}function qa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),ma="__reactFiber$"+ro,Zo="__reactProps$"+ro,Ra="__reactContainer$"+ro,fu="__reactEvents$"+ro,w2="__reactListeners$"+ro,T2="__reactHandles$"+ro;function ml(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ra]||n[ma]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yf(e);e!==null;){if(n=e[ma])return n;e=yf(e)}return t}e=n,n=e.parentNode}return null}function sr(e){return e=e[ma]||e[Ra],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Bi(e){return e[Zo]||null}var hu=[],Dl=-1;function rl(e){return{current:e}}function St(e){0>Dl||(e.current=hu[Dl],hu[Dl]=null,Dl--)}function ft(e,t){Dl++,hu[Dl]=e.current,e.current=t}var ll={},mn=rl(ll),Fn=rl(!1),Sl=ll;function ql(e,t){var n=e.type.contextTypes;if(!n)return ll;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pn(e){return e=e.childContextTypes,e!=null}function mi(){St(Fn),St(mn)}function vf(e,t,n){if(mn.current!==ll)throw Error(ce(168));ft(mn,t),ft(Fn,n)}function mm(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var o in a)if(!(o in t))throw Error(ce(108,uC(e)||"Unknown",o));return kt({},n,a)}function gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ll,Sl=mn.current,ft(mn,e),ft(Fn,Fn.current),!0}function Cf(e,t,n){var a=e.stateNode;if(!a)throw Error(ce(169));n?(e=mm(e,t,Sl),a.__reactInternalMemoizedMergedChildContext=e,St(Fn),St(mn),ft(mn,e)):St(Fn),ft(Fn,n)}var Ia=null,Di=!1,ks=!1;function gm(e){Ia===null?Ia=[e]:Ia.push(e)}function O2(e){Di=!0,gm(e)}function il(){if(!ks&&Ia!==null){ks=!0;var e=0,t=it;try{var n=Ia;for(it=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Ia=null,Di=!1}catch(o){throw Ia!==null&&(Ia=Ia.slice(e+1)),zh(Gu,il),o}finally{it=t,ks=!1}}return null}var zl=[],Vl=0,yi=null,vi=0,Gn=[],$n=0,bl=null,Ma=1,ka="";function fl(e,t){zl[Vl++]=vi,zl[Vl++]=yi,yi=e,vi=t}function ym(e,t,n){Gn[$n++]=Ma,Gn[$n++]=ka,Gn[$n++]=bl,bl=e;var a=Ma;e=ka;var o=32-sa(a)-1;a&=~(1<<o),n+=1;var i=32-sa(t)+o;if(30<i){var s=o-o%5;i=(a&(1<<s)-1).toString(32),a>>=s,o-=s,Ma=1<<32-sa(t)+o|n<<o|a,ka=i+e}else Ma=1<<i|n<<o|a,ka=e}function tc(e){e.return!==null&&(fl(e,1),ym(e,1,0))}function nc(e){for(;e===yi;)yi=zl[--Vl],zl[Vl]=null,vi=zl[--Vl],zl[Vl]=null;for(;e===bl;)bl=Gn[--$n],Gn[$n]=null,ka=Gn[--$n],Gn[$n]=null,Ma=Gn[--$n],Gn[$n]=null}var zn=null,Dn=null,wt=!1,ra=null;function vm(e,t){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zn=e,Dn=qa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zn=e,Dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bl!==null?{id:Ma,overflow:ka}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zn=e,Dn=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gu(e){if(wt){var t=Dn;if(t){var n=t;if(!Sf(e,t)){if(mu(e))throw Error(ce(418));t=qa(n.nextSibling);var a=zn;t&&Sf(e,t)?vm(a,n):(e.flags=e.flags&-4097|2,wt=!1,zn=e)}}else{if(mu(e))throw Error(ce(418));e.flags=e.flags&-4097|2,wt=!1,zn=e}}}function bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zn=e}function Vr(e){if(e!==zn)return!1;if(!wt)return bf(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cu(e.type,e.memoizedProps)),t&&(t=Dn)){if(mu(e))throw Cm(),Error(ce(418));for(;t;)vm(e,t),t=qa(t.nextSibling)}if(bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dn=qa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dn=null}}else Dn=zn?qa(e.stateNode.nextSibling):null;return!0}function Cm(){for(var e=Dn;e;)e=qa(e.nextSibling)}function Jl(){Dn=zn=null,wt=!1}function ac(e){ra===null?ra=[e]:ra.push(e)}var I2=pa.ReactCurrentBatchConfig;function xo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var a=n.stateNode}if(!a)throw Error(ce(147,e));var o=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var c=o.refs;s===null?delete c[i]:c[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,e))}return e}function Yr(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nf(e){var t=e._init;return t(e._payload)}function Sm(e){function t(f,y){if(e){var S=f.deletions;S===null?(f.deletions=[y],f.flags|=16):S.push(y)}}function n(f,y){if(!e)return null;for(;y!==null;)t(f,y),y=y.sibling;return null}function a(f,y){for(f=new Map;y!==null;)y.key!==null?f.set(y.key,y):f.set(y.index,y),y=y.sibling;return f}function o(f,y){return f=nl(f,y),f.index=0,f.sibling=null,f}function i(f,y,S){return f.index=S,e?(S=f.alternate,S!==null?(S=S.index,S<y?(f.flags|=2,y):S):(f.flags|=2,y)):(f.flags|=1048576,y)}function s(f){return e&&f.alternate===null&&(f.flags|=2),f}function c(f,y,S,k){return y===null||y.tag!==6?(y=Ls(S,f.mode,k),y.return=f,y):(y=o(y,S),y.return=f,y)}function m(f,y,S,k){var N=S.type;return N===Al?h(f,y,S.props.children,k,S.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ya&&Nf(N)===y.type)?(k=o(y,S.props),k.ref=xo(f,y,S),k.return=f,k):(k=li(S.type,S.key,S.props,null,f.mode,k),k.ref=xo(f,y,S),k.return=f,k)}function x(f,y,S,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=_s(S,f.mode,k),y.return=f,y):(y=o(y,S.children||[]),y.return=f,y)}function h(f,y,S,k,N){return y===null||y.tag!==7?(y=Cl(S,f.mode,k,N),y.return=f,y):(y=o(y,S),y.return=f,y)}function b(f,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ls(""+y,f.mode,S),y.return=f,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pr:return S=li(y.type,y.key,y.props,null,f.mode,S),S.ref=xo(f,null,y),S.return=f,S;case jl:return y=_s(y,f.mode,S),y.return=f,y;case Ya:var k=y._init;return b(f,k(y._payload),S)}if(Io(y)||vo(y))return y=Cl(y,f.mode,S,null),y.return=f,y;Yr(f,y)}return null}function C(f,y,S,k){var N=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:c(f,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pr:return S.key===N?m(f,y,S,k):null;case jl:return S.key===N?x(f,y,S,k):null;case Ya:return N=S._init,C(f,y,N(S._payload),k)}if(Io(S)||vo(S))return N!==null?null:h(f,y,S,k,null);Yr(f,S)}return null}function v(f,y,S,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(S)||null,c(y,f,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Pr:return f=f.get(k.key===null?S:k.key)||null,m(y,f,k,N);case jl:return f=f.get(k.key===null?S:k.key)||null,x(y,f,k,N);case Ya:var j=k._init;return v(f,y,S,j(k._payload),N)}if(Io(k)||vo(k))return f=f.get(S)||null,h(y,f,k,N,null);Yr(y,k)}return null}function r(f,y,S,k){for(var N=null,j=null,L=y,d=y=0,I=null;L!==null&&d<S.length;d++){L.index>d?(I=L,L=null):I=L.sibling;var T=C(f,L,S[d],k);if(T===null){L===null&&(L=I);break}e&&L&&T.alternate===null&&t(f,L),y=i(T,y,d),j===null?N=T:j.sibling=T,j=T,L=I}if(d===S.length)return n(f,L),wt&&fl(f,d),N;if(L===null){for(;d<S.length;d++)L=b(f,S[d],k),L!==null&&(y=i(L,y,d),j===null?N=L:j.sibling=L,j=L);return wt&&fl(f,d),N}for(L=a(f,L);d<S.length;d++)I=v(L,f,d,S[d],k),I!==null&&(e&&I.alternate!==null&&L.delete(I.key===null?d:I.key),y=i(I,y,d),j===null?N=I:j.sibling=I,j=I);return e&&L.forEach(function(F){return t(f,F)}),wt&&fl(f,d),N}function u(f,y,S,k){var N=vo(S);if(typeof N!="function")throw Error(ce(150));if(S=N.call(S),S==null)throw Error(ce(151));for(var j=N=null,L=y,d=y=0,I=null,T=S.next();L!==null&&!T.done;d++,T=S.next()){L.index>d?(I=L,L=null):I=L.sibling;var F=C(f,L,T.value,k);if(F===null){L===null&&(L=I);break}e&&L&&F.alternate===null&&t(f,L),y=i(F,y,d),j===null?N=F:j.sibling=F,j=F,L=I}if(T.done)return n(f,L),wt&&fl(f,d),N;if(L===null){for(;!T.done;d++,T=S.next())T=b(f,T.value,k),T!==null&&(y=i(T,y,d),j===null?N=T:j.sibling=T,j=T);return wt&&fl(f,d),N}for(L=a(f,L);!T.done;d++,T=S.next())T=v(L,f,d,T.value,k),T!==null&&(e&&T.alternate!==null&&L.delete(T.key===null?d:T.key),y=i(T,y,d),j===null?N=T:j.sibling=T,j=T);return e&&L.forEach(function(w){return t(f,w)}),wt&&fl(f,d),N}function E(f,y,S,k){if(typeof S=="object"&&S!==null&&S.type===Al&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Pr:e:{for(var N=S.key,j=y;j!==null;){if(j.key===N){if(N=S.type,N===Al){if(j.tag===7){n(f,j.sibling),y=o(j,S.props.children),y.return=f,f=y;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ya&&Nf(N)===j.type){n(f,j.sibling),y=o(j,S.props),y.ref=xo(f,j,S),y.return=f,f=y;break e}n(f,j);break}else t(f,j);j=j.sibling}S.type===Al?(y=Cl(S.props.children,f.mode,k,S.key),y.return=f,f=y):(k=li(S.type,S.key,S.props,null,f.mode,k),k.ref=xo(f,y,S),k.return=f,f=k)}return s(f);case jl:e:{for(j=S.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(f,y.sibling),y=o(y,S.children||[]),y.return=f,f=y;break e}else{n(f,y);break}else t(f,y);y=y.sibling}y=_s(S,f.mode,k),y.return=f,f=y}return s(f);case Ya:return j=S._init,E(f,y,j(S._payload),k)}if(Io(S))return r(f,y,S,k);if(vo(S))return u(f,y,S,k);Yr(f,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(f,y.sibling),y=o(y,S),y.return=f,f=y):(n(f,y),y=Ls(S,f.mode,k),y.return=f,f=y),s(f)):n(f,y)}return E}var eo=Sm(!0),bm=Sm(!1),Ci=rl(null),Si=null,Yl=null,lc=null;function oc(){lc=Yl=Si=null}function rc(e){var t=Ci.current;St(Ci),e._currentValue=t}function yu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Kl(e,t){Si=e,lc=Yl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kn=!0),e.firstContext=null)}function Zn(e){var t=e._currentValue;if(lc!==e)if(e={context:e,memoizedValue:t,next:null},Yl===null){if(Si===null)throw Error(ce(308));Yl=e,Si.dependencies={lanes:0,firstContext:e}}else Yl=Yl.next=e;return t}var gl=null;function ic(e){gl===null?gl=[e]:gl.push(e)}function Nm(e,t,n,a){var o=t.interleaved;return o===null?(n.next=n,ic(t)):(n.next=o.next,o.next=n),t.interleaved=n,ja(e,a)}function ja(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ua=!1;function sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Je&2){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,ja(e,n)}return o=a.interleaved,o===null?(t.next=t,ic(a)):(t.next=o.next,o.next=t),a.interleaved=t,ja(e,n)}function qr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,$u(e,n)}}function xf(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bi(e,t,n,a){var o=e.updateQueue;Ua=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var m=c,x=m.next;m.next=null,s===null?i=x:s.next=x,s=m;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==s&&(c===null?h.firstBaseUpdate=x:c.next=x,h.lastBaseUpdate=m))}if(i!==null){var b=o.baseState;s=0,h=x=m=null,c=i;do{var C=c.lane,v=c.eventTime;if((a&C)===C){h!==null&&(h=h.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var r=e,u=c;switch(C=t,v=n,u.tag){case 1:if(r=u.payload,typeof r=="function"){b=r.call(v,b,C);break e}b=r;break e;case 3:r.flags=r.flags&-65537|128;case 0:if(r=u.payload,C=typeof r=="function"?r.call(v,b,C):r,C==null)break e;b=kt({},b,C);break e;case 2:Ua=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,C=o.effects,C===null?o.effects=[c]:C.push(c))}else v={eventTime:v,lane:C,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(x=h=v,m=b):h=h.next=v,s|=C;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;C=c,c=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);if(h===null&&(m=b),o.baseState=m,o.firstBaseUpdate=x,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);xl|=s,e.lanes=s,e.memoizedState=b}}function Ef(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],o=a.callback;if(o!==null){if(a.callback=null,a=n,typeof o!="function")throw Error(ce(191,o));o.call(a)}}}var ur={},ya=rl(ur),Qo=rl(ur),qo=rl(ur);function yl(e){if(e===ur)throw Error(ce(174));return e}function uc(e,t){switch(ft(qo,t),ft(Qo,e),ft(ya,ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zs(t,e)}St(ya),ft(ya,t)}function to(){St(ya),St(Qo),St(qo)}function Em(e){yl(qo.current);var t=yl(ya.current),n=Zs(t,e.type);t!==n&&(ft(Qo,e),ft(ya,n))}function cc(e){Qo.current===e&&(St(ya),St(Qo))}var It=rl(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=[];function dc(){for(var e=0;e<Fs.length;e++)Fs[e]._workInProgressVersionPrimary=null;Fs.length=0}var Jr=pa.ReactCurrentDispatcher,Ps=pa.ReactCurrentBatchConfig,Nl=0,Mt=null,Kt=null,en=null,xi=!1,po=!1,Jo=0,M2=0;function dn(){throw Error(ce(321))}function fc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ca(e[n],t[n]))return!1;return!0}function hc(e,t,n,a,o,i){if(Nl=i,Mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jr.current=e===null||e.memoizedState===null?R2:j2,e=n(a,o),po){i=0;do{if(po=!1,Jo=0,25<=i)throw Error(ce(301));i+=1,en=Kt=null,t.updateQueue=null,Jr.current=A2,e=n(a,o)}while(po)}if(Jr.current=Ei,t=Kt!==null&&Kt.next!==null,Nl=0,en=Kt=Mt=null,xi=!1,t)throw Error(ce(300));return e}function mc(){var e=Jo!==0;return Jo=0,e}function ha(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Mt.memoizedState=en=e:en=en.next=e,en}function Qn(){if(Kt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=en===null?Mt.memoizedState:en.next;if(t!==null)en=t,Kt=e;else{if(e===null)throw Error(ce(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},en===null?Mt.memoizedState=en=e:en=en.next=e}return en}function er(e,t){return typeof t=="function"?t(e):t}function Rs(e){var t=Qn(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var a=Kt,o=a.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}a.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,a=a.baseState;var c=s=null,m=null,x=i;do{var h=x.lane;if((Nl&h)===h)m!==null&&(m=m.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),a=x.hasEagerState?x.eagerState:e(a,x.action);else{var b={lane:h,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};m===null?(c=m=b,s=a):m=m.next=b,Mt.lanes|=h,xl|=h}x=x.next}while(x!==null&&x!==i);m===null?s=a:m.next=c,ca(a,t.memoizedState)||(kn=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=m,n.lastRenderedState=a}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Mt.lanes|=i,xl|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function js(e){var t=Qn(),n=t.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);ca(i,t.memoizedState)||(kn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function wm(){}function Tm(e,t){var n=Mt,a=Qn(),o=t(),i=!ca(a.memoizedState,o);if(i&&(a.memoizedState=o,kn=!0),a=a.queue,gc(Mm.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,tr(9,Im.bind(null,n,a,o,t),void 0,null),nn===null)throw Error(ce(349));Nl&30||Om(n,t,o)}return o}function Om(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Im(e,t,n,a){t.value=n,t.getSnapshot=a,km(t)&&Fm(e)}function Mm(e,t,n){return n(function(){km(t)&&Fm(e)})}function km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ca(e,n)}catch{return!0}}function Fm(e){var t=ja(e,1);t!==null&&ua(t,e,1,-1)}function wf(e){var t=ha();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},t.queue=e,e=e.dispatch=P2.bind(null,Mt,e),[t.memoizedState,e]}function tr(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Pm(){return Qn().memoizedState}function ei(e,t,n,a){var o=ha();Mt.flags|=e,o.memoizedState=tr(1|t,n,void 0,a===void 0?null:a)}function zi(e,t,n,a){var o=Qn();a=a===void 0?null:a;var i=void 0;if(Kt!==null){var s=Kt.memoizedState;if(i=s.destroy,a!==null&&fc(a,s.deps)){o.memoizedState=tr(t,n,i,a);return}}Mt.flags|=e,o.memoizedState=tr(1|t,n,i,a)}function Tf(e,t){return ei(8390656,8,e,t)}function gc(e,t){return zi(2048,8,e,t)}function Rm(e,t){return zi(4,2,e,t)}function jm(e,t){return zi(4,4,e,t)}function Am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pm(e,t,n){return n=n!=null?n.concat([e]):null,zi(4,4,Am.bind(null,t,e),n)}function yc(){}function Lm(e,t){var n=Qn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&fc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function _m(e,t){var n=Qn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&fc(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Bm(e,t,n){return Nl&21?(ca(n,t)||(n=Uh(),Mt.lanes|=n,xl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=n)}function k2(e,t){var n=it;it=n!==0&&4>n?n:4,e(!0);var a=Ps.transition;Ps.transition={};try{e(!1),t()}finally{it=n,Ps.transition=a}}function Dm(){return Qn().memoizedState}function F2(e,t,n){var a=tl(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},zm(e))Vm(t,n);else if(n=Nm(e,t,n,a),n!==null){var o=Nn();ua(n,e,a,o),Ym(n,t,a)}}function P2(e,t,n){var a=tl(e),o={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(zm(e))Vm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,c=i(s,n);if(o.hasEagerState=!0,o.eagerState=c,ca(c,s)){var m=t.interleaved;m===null?(o.next=o,ic(t)):(o.next=m.next,m.next=o),t.interleaved=o;return}}catch{}finally{}n=Nm(e,t,o,a),n!==null&&(o=Nn(),ua(n,e,a,o),Ym(n,t,a))}}function zm(e){var t=e.alternate;return e===Mt||t!==null&&t===Mt}function Vm(e,t){po=xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ym(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,$u(e,n)}}var Ei={readContext:Zn,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},R2={readContext:Zn,useCallback:function(e,t){return ha().memoizedState=[e,t===void 0?null:t],e},useContext:Zn,useEffect:Tf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ei(4194308,4,Am.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return ei(4,2,e,t)},useMemo:function(e,t){var n=ha();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=ha();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=F2.bind(null,Mt,e),[a.memoizedState,e]},useRef:function(e){var t=ha();return e={current:e},t.memoizedState=e},useState:wf,useDebugValue:yc,useDeferredValue:function(e){return ha().memoizedState=e},useTransition:function(){var e=wf(!1),t=e[0];return e=k2.bind(null,e[1]),ha().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Mt,o=ha();if(wt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=t(),nn===null)throw Error(ce(349));Nl&30||Om(a,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Tf(Mm.bind(null,a,i,e),[e]),a.flags|=2048,tr(9,Im.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=ha(),t=nn.identifierPrefix;if(wt){var n=ka,a=Ma;n=(a&~(1<<32-sa(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=M2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j2={readContext:Zn,useCallback:Lm,useContext:Zn,useEffect:gc,useImperativeHandle:pm,useInsertionEffect:Rm,useLayoutEffect:jm,useMemo:_m,useReducer:Rs,useRef:Pm,useState:function(){return Rs(er)},useDebugValue:yc,useDeferredValue:function(e){var t=Qn();return Bm(t,Kt.memoizedState,e)},useTransition:function(){var e=Rs(er)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Dm,unstable_isNewReconciler:!1},A2={readContext:Zn,useCallback:Lm,useContext:Zn,useEffect:gc,useImperativeHandle:pm,useInsertionEffect:Rm,useLayoutEffect:jm,useMemo:_m,useReducer:js,useRef:Pm,useState:function(){return js(er)},useDebugValue:yc,useDeferredValue:function(e){var t=Qn();return Kt===null?t.memoizedState=e:Bm(t,Kt.memoizedState,e)},useTransition:function(){var e=js(er)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Dm,unstable_isNewReconciler:!1};function la(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vu(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:kt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return(e=e._reactInternals)?Ol(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Nn(),o=tl(e),i=Fa(a,o);i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,o),t!==null&&(ua(t,e,o,a),qr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Nn(),o=tl(e),i=Fa(a,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ja(e,i,o),t!==null&&(ua(t,e,o,a),qr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nn(),a=tl(e),o=Fa(n,a);o.tag=2,t!=null&&(o.callback=t),t=Ja(e,o,a),t!==null&&(ua(t,e,a,n),qr(t,e,a))}};function Of(e,t,n,a,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,s):t.prototype&&t.prototype.isPureReactComponent?!$o(n,a)||!$o(o,i):!0}function Um(e,t,n){var a=!1,o=ll,i=t.contextType;return typeof i=="object"&&i!==null?i=Zn(i):(o=Pn(t)?Sl:mn.current,a=t.contextTypes,i=(a=a!=null)?ql(e,o):ll),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function If(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Cu(e,t,n,a){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},sc(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Zn(i):(i=Pn(t)?Sl:mn.current,o.context=ql(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vu(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Vi.enqueueReplaceState(o,o.state,null),bi(e,n,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var n="",a=t;do n+=sC(a),a=a.return;while(a);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function As(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Su(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var p2=typeof WeakMap=="function"?WeakMap:Map;function Hm(e,t,n){n=Fa(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ti||(Ti=!0,ku=a),Su(e,t)},n}function Wm(e,t,n){n=Fa(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=t.value;n.payload=function(){return a(o)},n.callback=function(){Su(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Su(e,t),typeof a!="function"&&(el===null?el=new Set([this]):el.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Mf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new p2;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(n)||(o.add(n),e=K2.bind(null,e,t,n),t.then(e,e))}function kf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ff(e,t,n,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fa(-1,1),t.tag=2,Ja(n,t,1))),n.lanes|=1),e)}var L2=pa.ReactCurrentOwner,kn=!1;function Sn(e,t,n,a){t.child=e===null?bm(t,null,n,a):eo(t,e.child,n,a)}function Pf(e,t,n,a,o){n=n.render;var i=t.ref;return Kl(t,o),a=hc(e,t,n,a,i,o),n=mc(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Aa(e,t,o)):(wt&&n&&tc(t),t.flags|=1,Sn(e,t,a,o),t.child)}function Rf(e,t,n,a,o){if(e===null){var i=n.type;return typeof i=="function"&&!wc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Gm(e,t,i,a,o)):(e=li(n.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:$o,n(s,a)&&e.ref===t.ref)return Aa(e,t,o)}return t.flags|=1,e=nl(i,a),e.ref=t.ref,e.return=t,t.child=e}function Gm(e,t,n,a,o){if(e!==null){var i=e.memoizedProps;if($o(i,a)&&e.ref===t.ref)if(kn=!1,t.pendingProps=a=i,(e.lanes&o)!==0)e.flags&131072&&(kn=!0);else return t.lanes=e.lanes,Aa(e,t,o)}return bu(e,t,n,a,o)}function $m(e,t,n){var a=t.pendingProps,o=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Hl,_n),_n|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ft(Hl,_n),_n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,ft(Hl,_n),_n|=a}else i!==null?(a=i.baseLanes|n,t.memoizedState=null):a=n,ft(Hl,_n),_n|=a;return Sn(e,t,o,n),t.child}function Xm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bu(e,t,n,a,o){var i=Pn(n)?Sl:mn.current;return i=ql(t,i),Kl(t,o),n=hc(e,t,n,a,i,o),a=mc(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Aa(e,t,o)):(wt&&a&&tc(t),t.flags|=1,Sn(e,t,n,o),t.child)}function jf(e,t,n,a,o){if(Pn(n)){var i=!0;gi(t)}else i=!1;if(Kl(t,o),t.stateNode===null)ti(e,t),Um(t,n,a),Cu(t,n,a,o),a=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var m=s.context,x=n.contextType;typeof x=="object"&&x!==null?x=Zn(x):(x=Pn(n)?Sl:mn.current,x=ql(t,x));var h=n.getDerivedStateFromProps,b=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";b||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==a||m!==x)&&If(t,s,a,x),Ua=!1;var C=t.memoizedState;s.state=C,bi(t,a,s,o),m=t.memoizedState,c!==a||C!==m||Fn.current||Ua?(typeof h=="function"&&(vu(t,n,h,a),m=t.memoizedState),(c=Ua||Of(t,n,c,a,C,m,x))?(b||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=x,a=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,xm(e,t),c=t.memoizedProps,x=t.type===t.elementType?c:la(t.type,c),s.props=x,b=t.pendingProps,C=s.context,m=n.contextType,typeof m=="object"&&m!==null?m=Zn(m):(m=Pn(n)?Sl:mn.current,m=ql(t,m));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==b||C!==m)&&If(t,s,a,m),Ua=!1,C=t.memoizedState,s.state=C,bi(t,a,s,o);var r=t.memoizedState;c!==b||C!==r||Fn.current||Ua?(typeof v=="function"&&(vu(t,n,v,a),r=t.memoizedState),(x=Ua||Of(t,n,x,a,C,r,m)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,r,m),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,r,m)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=r),s.props=a,s.state=r,s.context=m,a=x):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),a=!1)}return Nu(e,t,n,a,i,o)}function Nu(e,t,n,a,o,i){Xm(e,t);var s=(t.flags&128)!==0;if(!a&&!s)return o&&Cf(t,n,!1),Aa(e,t,i);a=t.stateNode,L2.current=t;var c=s&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&s?(t.child=eo(t,e.child,null,i),t.child=eo(t,null,c,i)):Sn(e,t,c,i),t.memoizedState=a.state,o&&Cf(t,n,!0),t.child}function Km(e){var t=e.stateNode;t.pendingContext?vf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vf(e,t.context,!1),uc(e,t.containerInfo)}function Af(e,t,n,a,o){return Jl(),ac(o),t.flags|=256,Sn(e,t,n,a),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zm(e,t,n){var a=t.pendingProps,o=It.current,i=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ft(It,o&1),e===null)return gu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=a.children,e=a.fallback,i?(a=t.mode,i=t.child,s={mode:"hidden",children:s},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Hi(s,a,0,null),e=Cl(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eu(n),t.memoizedState=xu,e):vc(t,s));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return _2(e,t,s,a,c,o,n);if(i){i=a.fallback,s=t.mode,o=e.child,c=o.sibling;var m={mode:"hidden",children:a.children};return!(s&1)&&t.child!==o?(a=t.child,a.childLanes=0,a.pendingProps=m,t.deletions=null):(a=nl(o,m),a.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=nl(c,i):(i=Cl(i,s,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,s=e.child.memoizedState,s=s===null?Eu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=xu,a}return i=e.child,e=i.sibling,a=nl(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function vc(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ur(e,t,n,a){return a!==null&&ac(a),eo(t,e.child,null,n),e=vc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _2(e,t,n,a,o,i,s){if(n)return t.flags&256?(t.flags&=-257,a=As(Error(ce(422))),Ur(e,t,s,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,o=t.mode,a=Hi({mode:"visible",children:a.children},o,0,null),i=Cl(i,o,s,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&eo(t,e.child,null,s),t.child.memoizedState=Eu(s),t.memoizedState=xu,i);if(!(t.mode&1))return Ur(e,t,s,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;return a=c,i=Error(ce(419)),a=As(i,a,void 0),Ur(e,t,s,a)}if(c=(s&e.childLanes)!==0,kn||c){if(a=nn,a!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ja(e,o),ua(a,e,o,-1))}return Ec(),a=As(Error(ce(421))),Ur(e,t,s,a)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Z2.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Dn=qa(o.nextSibling),zn=t,wt=!0,ra=null,e!==null&&(Gn[$n++]=Ma,Gn[$n++]=ka,Gn[$n++]=bl,Ma=e.id,ka=e.overflow,bl=t),t=vc(t,a.children),t.flags|=4096,t)}function pf(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),yu(e.return,t,n)}function ps(e,t,n,a,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=o)}function Qm(e,t,n){var a=t.pendingProps,o=a.revealOrder,i=a.tail;if(Sn(e,t,a.children,n),a=It.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pf(e,n,t);else if(e.tag===19)pf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ft(It,a),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ps(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ni(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ps(t,!0,n,null,i);break;case"together":ps(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ti(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Aa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function B2(e,t,n){switch(t.tag){case 3:Km(t),Jl();break;case 5:Em(t);break;case 1:Pn(t.type)&&gi(t);break;case 4:uc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,o=t.memoizedProps.value;ft(Ci,a._currentValue),a._currentValue=o;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ft(It,It.current&1),t.flags|=128,null):n&t.child.childLanes?Zm(e,t,n):(ft(It,It.current&1),e=Aa(e,t,n),e!==null?e.sibling:null);ft(It,It.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return Qm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ft(It,It.current),a)break;return null;case 22:case 23:return t.lanes=0,$m(e,t,n)}return Aa(e,t,n)}var qm,wu,Jm,eg;qm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wu=function(){};Jm=function(e,t,n,a){var o=e.memoizedProps;if(o!==a){e=t.stateNode,yl(ya.current);var i=null;switch(n){case"input":o=Gs(e,o),a=Gs(e,a),i=[];break;case"select":o=kt({},o,{value:void 0}),a=kt({},a,{value:void 0}),i=[];break;case"textarea":o=Ks(e,o),a=Ks(e,a),i=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=hi)}Qs(n,a);var s;n=null;for(x in o)if(!a.hasOwnProperty(x)&&o.hasOwnProperty(x)&&o[x]!=null)if(x==="style"){var c=o[x];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(zo.hasOwnProperty(x)?i||(i=[]):(i=i||[]).push(x,null));for(x in a){var m=a[x];if(c=o!=null?o[x]:void 0,a.hasOwnProperty(x)&&m!==c&&(m!=null||c!=null))if(x==="style")if(c){for(s in c)!c.hasOwnProperty(s)||m&&m.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in m)m.hasOwnProperty(s)&&c[s]!==m[s]&&(n||(n={}),n[s]=m[s])}else n||(i||(i=[]),i.push(x,n)),n=m;else x==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,c=c?c.__html:void 0,m!=null&&c!==m&&(i=i||[]).push(x,m)):x==="children"?typeof m!="string"&&typeof m!="number"||(i=i||[]).push(x,""+m):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(zo.hasOwnProperty(x)?(m!=null&&x==="onScroll"&&Ct("scroll",e),i||c===m||(i=[])):(i=i||[]).push(x,m))}n&&(i=i||[]).push("style",n);var x=i;(t.updateQueue=x)&&(t.flags|=4)}};eg=function(e,t,n,a){n!==a&&(t.flags|=4)};function Eo(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function D2(e,t,n){var a=t.pendingProps;switch(nc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Pn(t.type)&&mi(),fn(t),null;case 3:return a=t.stateNode,to(),St(Fn),St(mn),dc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ra!==null&&(Ru(ra),ra=null))),wu(e,t),fn(t),null;case 5:cc(t);var o=yl(qo.current);if(n=t.type,e!==null&&t.stateNode!=null)Jm(e,t,n,a,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(ce(166));return fn(t),null}if(e=yl(ya.current),Vr(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[ma]=t,a[Zo]=i,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",a),Ct("close",a);break;case"iframe":case"object":case"embed":Ct("load",a);break;case"video":case"audio":for(o=0;o<ko.length;o++)Ct(ko[o],a);break;case"source":Ct("error",a);break;case"img":case"image":case"link":Ct("error",a),Ct("load",a);break;case"details":Ct("toggle",a);break;case"input":U0(a,i),Ct("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",a);break;case"textarea":W0(a,i),Ct("invalid",a)}Qs(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="children"?typeof c=="string"?a.textContent!==c&&(i.suppressHydrationWarning!==!0&&zr(a.textContent,c,e),o=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&zr(a.textContent,c,e),o=["children",""+c]):zo.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Ct("scroll",a)}switch(n){case"input":Rr(a),H0(a,i,!0);break;case"textarea":Rr(a),G0(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=hi)}a=o,t.updateQueue=a,a!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=s.createElement(n,{is:a.is}):(e=s.createElement(n),n==="select"&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,n),e[ma]=t,e[Zo]=a,qm(e,t,!1,!1),t.stateNode=e;e:{switch(s=qs(n,a),n){case"dialog":Ct("cancel",e),Ct("close",e),o=a;break;case"iframe":case"object":case"embed":Ct("load",e),o=a;break;case"video":case"audio":for(o=0;o<ko.length;o++)Ct(ko[o],e);o=a;break;case"source":Ct("error",e),o=a;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),o=a;break;case"details":Ct("toggle",e),o=a;break;case"input":U0(e,a),o=Gs(e,a),Ct("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=kt({},a,{value:void 0}),Ct("invalid",e);break;case"textarea":W0(e,a),o=Ks(e,a),Ct("invalid",e);break;default:o=a}Qs(n,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var m=c[i];i==="style"?Ph(e,m):i==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&kh(e,m)):i==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&Vo(e,m):typeof m=="number"&&Vo(e,""+m):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zo.hasOwnProperty(i)?m!=null&&i==="onScroll"&&Ct("scroll",e):m!=null&&Vu(e,i,m,s))}switch(n){case"input":Rr(e),H0(e,a,!1);break;case"textarea":Rr(e),G0(e);break;case"option":a.value!=null&&e.setAttribute("value",""+al(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Wl(e,!!a.multiple,i,!1):a.defaultValue!=null&&Wl(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hi)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)eg(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(ce(166));if(n=yl(qo.current),yl(ya.current),Vr(t)){if(a=t.stateNode,n=t.memoizedProps,a[ma]=t,(i=a.nodeValue!==n)&&(e=zn,e!==null))switch(e.tag){case 3:zr(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zr(a.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[ma]=t,t.stateNode=a}return fn(t),null;case 13:if(St(It),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Dn!==null&&t.mode&1&&!(t.flags&128))Cm(),Jl(),t.flags|=98560,i=!1;else if(i=Vr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(ce(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[ma]=t}else Jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),i=!1}else ra!==null&&(Ru(ra),ra=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?Zt===0&&(Zt=3):Ec())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return to(),wu(e,t),e===null&&Xo(t.stateNode.containerInfo),fn(t),null;case 10:return rc(t.type._context),fn(t),null;case 17:return Pn(t.type)&&mi(),fn(t),null;case 19:if(St(It),i=t.memoizedState,i===null)return fn(t),null;if(a=(t.flags&128)!==0,s=i.rendering,s===null)if(a)Eo(i,!1);else{if(Zt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ni(e),s!==null){for(t.flags|=128,Eo(i,!1),a=s.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)i=n,e=a,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ft(It,It.current&1|2),t.child}e=e.sibling}i.tail!==null&&_t()>ao&&(t.flags|=128,a=!0,Eo(i,!1),t.lanes=4194304)}else{if(!a)if(e=Ni(s),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!wt)return fn(t),null}else 2*_t()-i.renderingStartTime>ao&&n!==1073741824&&(t.flags|=128,a=!0,Eo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_t(),t.sibling=null,n=It.current,ft(It,a?n&1|2:n&1),t):(fn(t),null);case 22:case 23:return xc(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?_n&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function z2(e,t){switch(nc(t),t.tag){case 1:return Pn(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return to(),St(Fn),St(mn),dc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cc(t),null;case 13:if(St(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St(It),null;case 4:return to(),null;case 10:return rc(t.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var Hr=!1,hn=!1,V2=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Ul(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){pt(e,t,a)}else n.current=null}function Tu(e,t,n){try{n()}catch(a){pt(e,t,a)}}var Lf=!1;function Y2(e,t){if(su=ci,e=om(),ec(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var o=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,c=-1,m=-1,x=0,h=0,b=e,C=null;t:for(;;){for(var v;b!==n||o!==0&&b.nodeType!==3||(c=s+o),b!==i||a!==0&&b.nodeType!==3||(m=s+a),b.nodeType===3&&(s+=b.nodeValue.length),(v=b.firstChild)!==null;)C=b,b=v;for(;;){if(b===e)break t;if(C===n&&++x===o&&(c=s),C===i&&++h===a&&(m=s),(v=b.nextSibling)!==null)break;b=C,C=b.parentNode}b=v}n=c===-1||m===-1?null:{start:c,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(uu={focusedElem:e,selectionRange:n},ci=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var r=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(r!==null){var u=r.memoizedProps,E=r.memoizedState,f=t.stateNode,y=f.getSnapshotBeforeUpdate(t.elementType===t.type?u:la(t.type,u),E);f.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(k){pt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return r=Lf,Lf=!1,r}function Lo(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Tu(t,n,i)}o=o.next}while(o!==a)}}function Yi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tg(e){var t=e.alternate;t!==null&&(e.alternate=null,tg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ma],delete t[Zo],delete t[fu],delete t[w2],delete t[T2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ng(e){return e.tag===5||e.tag===3||e.tag===4}function _f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ng(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hi));else if(a!==4&&(e=e.child,e!==null))for(Iu(e,t,n),e=e.sibling;e!==null;)Iu(e,t,n),e=e.sibling}function Mu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}var ln=null,oa=!1;function za(e,t,n){for(n=n.child;n!==null;)ag(e,t,n),n=n.sibling}function ag(e,t,n){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(Ai,n)}catch{}switch(n.tag){case 5:hn||Ul(n,t);case 6:var a=ln,o=oa;ln=null,za(e,t,n),ln=a,oa=o,ln!==null&&(oa?(e=ln,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(oa?(e=ln,n=n.stateNode,e.nodeType===8?Ms(e.parentNode,n):e.nodeType===1&&Ms(e,n),Wo(e)):Ms(ln,n.stateNode));break;case 4:a=ln,o=oa,ln=n.stateNode.containerInfo,oa=!0,za(e,t,n),ln=a,oa=o;break;case 0:case 11:case 14:case 15:if(!hn&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Tu(n,t,s),o=o.next}while(o!==a)}za(e,t,n);break;case 1:if(!hn&&(Ul(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(c){pt(n,t,c)}za(e,t,n);break;case 21:za(e,t,n);break;case 22:n.mode&1?(hn=(a=hn)||n.memoizedState!==null,za(e,t,n),hn=a):za(e,t,n);break;default:za(e,t,n)}}function Bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new V2),t.forEach(function(a){var o=Q2.bind(null,e,a);n.has(a)||(n.add(a),a.then(o,o))})}}function na(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];try{var i=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:ln=c.stateNode,oa=!1;break e;case 3:ln=c.stateNode.containerInfo,oa=!0;break e;case 4:ln=c.stateNode.containerInfo,oa=!0;break e}c=c.return}if(ln===null)throw Error(ce(160));ag(i,s,o),ln=null,oa=!1;var m=o.alternate;m!==null&&(m.return=null),o.return=null}catch(x){pt(o,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lg(t,e),t=t.sibling}function lg(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(na(t,e),fa(e),a&4){try{Lo(3,e,e.return),Yi(3,e)}catch(u){pt(e,e.return,u)}try{Lo(5,e,e.return)}catch(u){pt(e,e.return,u)}}break;case 1:na(t,e),fa(e),a&512&&n!==null&&Ul(n,n.return);break;case 5:if(na(t,e),fa(e),a&512&&n!==null&&Ul(n,n.return),e.flags&32){var o=e.stateNode;try{Vo(o,"")}catch(u){pt(e,e.return,u)}}if(a&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,c=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Oh(o,i),qs(c,s);var x=qs(c,i);for(s=0;s<m.length;s+=2){var h=m[s],b=m[s+1];h==="style"?Ph(o,b):h==="dangerouslySetInnerHTML"?kh(o,b):h==="children"?Vo(o,b):Vu(o,h,b,x)}switch(c){case"input":$s(o,i);break;case"textarea":Ih(o,i);break;case"select":var C=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wl(o,!!i.multiple,v,!1):C!==!!i.multiple&&(i.defaultValue!=null?Wl(o,!!i.multiple,i.defaultValue,!0):Wl(o,!!i.multiple,i.multiple?[]:"",!1))}o[Zo]=i}catch(u){pt(e,e.return,u)}}break;case 6:if(na(t,e),fa(e),a&4){if(e.stateNode===null)throw Error(ce(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(u){pt(e,e.return,u)}}break;case 3:if(na(t,e),fa(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(t.containerInfo)}catch(u){pt(e,e.return,u)}break;case 4:na(t,e),fa(e);break;case 13:na(t,e),fa(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(bc=_t())),a&4&&Bf(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(hn=(x=hn)||h,na(t,e),hn=x):na(t,e),fa(e),a&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!h&&e.mode&1)for(Ne=e,h=e.child;h!==null;){for(b=Ne=h;Ne!==null;){switch(C=Ne,v=C.child,C.tag){case 0:case 11:case 14:case 15:Lo(4,C,C.return);break;case 1:Ul(C,C.return);var r=C.stateNode;if(typeof r.componentWillUnmount=="function"){a=C,n=C.return;try{t=a,r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(u){pt(a,n,u)}}break;case 5:Ul(C,C.return);break;case 22:if(C.memoizedState!==null){zf(b);continue}}v!==null?(v.return=C,Ne=v):zf(b)}h=h.sibling}e:for(h=null,b=e;;){if(b.tag===5){if(h===null){h=b;try{o=b.stateNode,x?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=b.stateNode,m=b.memoizedProps.style,s=m!=null&&m.hasOwnProperty("display")?m.display:null,c.style.display=Fh("display",s))}catch(u){pt(e,e.return,u)}}}else if(b.tag===6){if(h===null)try{b.stateNode.nodeValue=x?"":b.memoizedProps}catch(u){pt(e,e.return,u)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;h===b&&(h=null),b=b.return}h===b&&(h=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:na(t,e),fa(e),a&4&&Bf(e);break;case 21:break;default:na(t,e),fa(e)}}function fa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ng(n)){var a=n;break e}n=n.return}throw Error(ce(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(Vo(o,""),a.flags&=-33);var i=_f(e);Mu(e,i,o);break;case 3:case 4:var s=a.stateNode.containerInfo,c=_f(e);Iu(e,c,s);break;default:throw Error(ce(161))}}catch(m){pt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U2(e,t,n){Ne=e,og(e)}function og(e,t,n){for(var a=(e.mode&1)!==0;Ne!==null;){var o=Ne,i=o.child;if(o.tag===22&&a){var s=o.memoizedState!==null||Hr;if(!s){var c=o.alternate,m=c!==null&&c.memoizedState!==null||hn;c=Hr;var x=hn;if(Hr=s,(hn=m)&&!x)for(Ne=o;Ne!==null;)s=Ne,m=s.child,s.tag===22&&s.memoizedState!==null?Vf(o):m!==null?(m.return=s,Ne=m):Vf(o);for(;i!==null;)Ne=i,og(i),i=i.sibling;Ne=o,Hr=c,hn=x}Df(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ne=i):Df(e)}}function Df(e){for(;Ne!==null;){var t=Ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hn||Yi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!hn)if(n===null)a.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:la(t.type,n.memoizedProps);a.componentDidUpdate(o,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ef(t,i,a);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ef(t,s,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var h=x.memoizedState;if(h!==null){var b=h.dehydrated;b!==null&&Wo(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}hn||t.flags&512&&Ou(t)}catch(C){pt(t,t.return,C)}}if(t===e){Ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function zf(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ne=n;break}Ne=t.return}}function Vf(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yi(4,t)}catch(m){pt(t,n,m)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var o=t.return;try{a.componentDidMount()}catch(m){pt(t,o,m)}}var i=t.return;try{Ou(t)}catch(m){pt(t,i,m)}break;case 5:var s=t.return;try{Ou(t)}catch(m){pt(t,s,m)}}}catch(m){pt(t,t.return,m)}if(t===e){Ne=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ne=c;break}Ne=t.return}}var H2=Math.ceil,wi=pa.ReactCurrentDispatcher,Cc=pa.ReactCurrentOwner,Kn=pa.ReactCurrentBatchConfig,Je=0,nn=null,Ht=null,rn=0,_n=0,Hl=rl(0),Zt=0,nr=null,xl=0,Ui=0,Sc=0,_o=null,Mn=null,bc=0,ao=1/0,Ta=null,Ti=!1,ku=null,el=null,Wr=!1,Xa=null,Oi=0,Bo=0,Fu=null,ni=-1,ai=0;function Nn(){return Je&6?_t():ni!==-1?ni:ni=_t()}function tl(e){return e.mode&1?Je&2&&rn!==0?rn&-rn:I2.transition!==null?(ai===0&&(ai=Uh()),ai):(e=it,e!==0||(e=window.event,e=e===void 0?16:Zh(e.type)),e):1}function ua(e,t,n,a){if(50<Bo)throw Bo=0,Fu=null,Error(ce(185));rr(e,n,a),(!(Je&2)||e!==nn)&&(e===nn&&(!(Je&2)&&(Ui|=n),Zt===4&&Ga(e,rn)),Rn(e,a),n===1&&Je===0&&!(t.mode&1)&&(ao=_t()+500,Di&&il()))}function Rn(e,t){var n=e.callbackNode;IC(e,t);var a=ui(e,e===nn?rn:0);if(a===0)n!==null&&K0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&K0(n),t===1)e.tag===0?O2(Yf.bind(null,e)):gm(Yf.bind(null,e)),x2(function(){!(Je&6)&&il()}),n=null;else{switch(Hh(a)){case 1:n=Gu;break;case 4:n=Vh;break;case 16:n=si;break;case 536870912:n=Yh;break;default:n=si}n=hg(n,rg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rg(e,t){if(ni=-1,ai=0,Je&6)throw Error(ce(327));var n=e.callbackNode;if(Zl()&&e.callbackNode!==n)return null;var a=ui(e,e===nn?rn:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Ii(e,a);else{t=a;var o=Je;Je|=2;var i=sg();(nn!==e||rn!==t)&&(Ta=null,ao=_t()+500,vl(e,t));do try{$2();break}catch(c){ig(e,c)}while(!0);oc(),wi.current=i,Je=o,Ht!==null?t=0:(nn=null,rn=0,t=Zt)}if(t!==0){if(t===2&&(o=au(e),o!==0&&(a=o,t=Pu(e,o))),t===1)throw n=nr,vl(e,0),Ga(e,a),Rn(e,_t()),n;if(t===6)Ga(e,a);else{if(o=e.current.alternate,!(a&30)&&!W2(o)&&(t=Ii(e,a),t===2&&(i=au(e),i!==0&&(a=i,t=Pu(e,i))),t===1))throw n=nr,vl(e,0),Ga(e,a),Rn(e,_t()),n;switch(e.finishedWork=o,e.finishedLanes=a,t){case 0:case 1:throw Error(ce(345));case 2:hl(e,Mn,Ta);break;case 3:if(Ga(e,a),(a&130023424)===a&&(t=bc+500-_t(),10<t)){if(ui(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){Nn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=du(hl.bind(null,e,Mn,Ta),t);break}hl(e,Mn,Ta);break;case 4:if(Ga(e,a),(a&4194240)===a)break;for(t=e.eventTimes,o=-1;0<a;){var s=31-sa(a);i=1<<s,s=t[s],s>o&&(o=s),a&=~i}if(a=o,a=_t()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*H2(a/1960))-a,10<a){e.timeoutHandle=du(hl.bind(null,e,Mn,Ta),a);break}hl(e,Mn,Ta);break;case 5:hl(e,Mn,Ta);break;default:throw Error(ce(329))}}}return Rn(e,_t()),e.callbackNode===n?rg.bind(null,e):null}function Pu(e,t){var n=_o;return e.current.memoizedState.isDehydrated&&(vl(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=Mn,Mn=n,t!==null&&Ru(t)),e}function Ru(e){Mn===null?Mn=e:Mn.push.apply(Mn,e)}function W2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var o=n[a],i=o.getSnapshot;o=o.value;try{if(!ca(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t){for(t&=~Sc,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sa(t),a=1<<n;e[n]=-1,t&=~a}}function Yf(e){if(Je&6)throw Error(ce(327));Zl();var t=ui(e,0);if(!(t&1))return Rn(e,_t()),null;var n=Ii(e,t);if(e.tag!==0&&n===2){var a=au(e);a!==0&&(t=a,n=Pu(e,a))}if(n===1)throw n=nr,vl(e,0),Ga(e,t),Rn(e,_t()),n;if(n===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hl(e,Mn,Ta),Rn(e,_t()),null}function Nc(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(ao=_t()+500,Di&&il())}}function El(e){Xa!==null&&Xa.tag===0&&!(Je&6)&&Zl();var t=Je;Je|=1;var n=Kn.transition,a=it;try{if(Kn.transition=null,it=1,e)return e()}finally{it=a,Kn.transition=n,Je=t,!(Je&6)&&il()}}function xc(){_n=Hl.current,St(Hl)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,N2(n)),Ht!==null)for(n=Ht.return;n!==null;){var a=n;switch(nc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&mi();break;case 3:to(),St(Fn),St(mn),dc();break;case 5:cc(a);break;case 4:to();break;case 13:St(It);break;case 19:St(It);break;case 10:rc(a.type._context);break;case 22:case 23:xc()}n=n.return}if(nn=e,Ht=e=nl(e.current,null),rn=_n=t,Zt=0,nr=null,Sc=Ui=xl=0,Mn=_o=null,gl!==null){for(t=0;t<gl.length;t++)if(n=gl[t],a=n.interleaved,a!==null){n.interleaved=null;var o=a.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,a.next=s}n.pending=a}gl=null}return e}function ig(e,t){do{var n=Ht;try{if(oc(),Jr.current=Ei,xi){for(var a=Mt.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}xi=!1}if(Nl=0,en=Kt=Mt=null,po=!1,Jo=0,Cc.current=null,n===null||n.return===null){Zt=1,nr=t,Ht=null;break}e:{var i=e,s=n.return,c=n,m=t;if(t=rn,c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var x=m,h=c,b=h.tag;if(!(h.mode&1)&&(b===0||b===11||b===15)){var C=h.alternate;C?(h.updateQueue=C.updateQueue,h.memoizedState=C.memoizedState,h.lanes=C.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=kf(s);if(v!==null){v.flags&=-257,Ff(v,s,c,i,t),v.mode&1&&Mf(i,x,t),t=v,m=x;var r=t.updateQueue;if(r===null){var u=new Set;u.add(m),t.updateQueue=u}else r.add(m);break e}else{if(!(t&1)){Mf(i,x,t),Ec();break e}m=Error(ce(426))}}else if(wt&&c.mode&1){var E=kf(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ff(E,s,c,i,t),ac(no(m,c));break e}}i=m=no(m,c),Zt!==4&&(Zt=2),_o===null?_o=[i]:_o.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Hm(i,m,t);xf(i,f);break e;case 1:c=m;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(el===null||!el.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Wm(i,c,t);xf(i,k);break e}}i=i.return}while(i!==null)}cg(n)}catch(N){t=N,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function sg(){var e=wi.current;return wi.current=Ei,e===null?Ei:e}function Ec(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),nn===null||!(xl&268435455)&&!(Ui&268435455)||Ga(nn,rn)}function Ii(e,t){var n=Je;Je|=2;var a=sg();(nn!==e||rn!==t)&&(Ta=null,vl(e,t));do try{G2();break}catch(o){ig(e,o)}while(!0);if(oc(),Je=n,wi.current=a,Ht!==null)throw Error(ce(261));return nn=null,rn=0,Zt}function G2(){for(;Ht!==null;)ug(Ht)}function $2(){for(;Ht!==null&&!CC();)ug(Ht)}function ug(e){var t=fg(e.alternate,e,_n);e.memoizedProps=e.pendingProps,t===null?cg(e):Ht=t,Cc.current=null}function cg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=z2(n,t),n!==null){n.flags&=32767,Ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zt=6,Ht=null;return}}else if(n=D2(n,t,_n),n!==null){Ht=n;return}if(t=t.sibling,t!==null){Ht=t;return}Ht=t=e}while(t!==null);Zt===0&&(Zt=5)}function hl(e,t,n){var a=it,o=Kn.transition;try{Kn.transition=null,it=1,X2(e,t,n,a)}finally{Kn.transition=o,it=a}return null}function X2(e,t,n,a){do Zl();while(Xa!==null);if(Je&6)throw Error(ce(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(MC(e,i),e===nn&&(Ht=nn=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wr||(Wr=!0,hg(si,function(){return Zl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Kn.transition,Kn.transition=null;var s=it;it=1;var c=Je;Je|=4,Cc.current=null,Y2(e,n),lg(n,e),m2(uu),ci=!!su,uu=su=null,e.current=n,U2(n),SC(),Je=c,it=s,Kn.transition=i}else e.current=n;if(Wr&&(Wr=!1,Xa=e,Oi=o),i=e.pendingLanes,i===0&&(el=null),xC(n.stateNode),Rn(e,_t()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],a(o.value,{componentStack:o.stack,digest:o.digest});if(Ti)throw Ti=!1,e=ku,ku=null,e;return Oi&1&&e.tag!==0&&Zl(),i=e.pendingLanes,i&1?e===Fu?Bo++:(Bo=0,Fu=e):Bo=0,il(),null}function Zl(){if(Xa!==null){var e=Hh(Oi),t=Kn.transition,n=it;try{if(Kn.transition=null,it=16>e?16:e,Xa===null)var a=!1;else{if(e=Xa,Xa=null,Oi=0,Je&6)throw Error(ce(331));var o=Je;for(Je|=4,Ne=e.current;Ne!==null;){var i=Ne,s=i.child;if(Ne.flags&16){var c=i.deletions;if(c!==null){for(var m=0;m<c.length;m++){var x=c[m];for(Ne=x;Ne!==null;){var h=Ne;switch(h.tag){case 0:case 11:case 15:Lo(8,h,i)}var b=h.child;if(b!==null)b.return=h,Ne=b;else for(;Ne!==null;){h=Ne;var C=h.sibling,v=h.return;if(tg(h),h===x){Ne=null;break}if(C!==null){C.return=v,Ne=C;break}Ne=v}}}var r=i.alternate;if(r!==null){var u=r.child;if(u!==null){r.child=null;do{var E=u.sibling;u.sibling=null,u=E}while(u!==null)}}Ne=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ne=s;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lo(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,Ne=f;break e}Ne=i.return}}var y=e.current;for(Ne=y;Ne!==null;){s=Ne;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,Ne=S;else e:for(s=y;Ne!==null;){if(c=Ne,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Yi(9,c)}}catch(N){pt(c,c.return,N)}if(c===s){Ne=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,Ne=k;break e}Ne=c.return}}if(Je=o,il(),ga&&typeof ga.onPostCommitFiberRoot=="function")try{ga.onPostCommitFiberRoot(Ai,e)}catch{}a=!0}return a}finally{it=n,Kn.transition=t}}return!1}function Uf(e,t,n){t=no(n,t),t=Hm(e,t,1),e=Ja(e,t,1),t=Nn(),e!==null&&(rr(e,1,t),Rn(e,t))}function pt(e,t,n){if(e.tag===3)Uf(e,e,n);else for(;t!==null;){if(t.tag===3){Uf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(el===null||!el.has(a))){e=no(n,e),e=Wm(t,e,1),t=Ja(t,e,1),e=Nn(),t!==null&&(rr(t,1,e),Rn(t,e));break}}t=t.return}}function K2(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&n,nn===e&&(rn&n)===n&&(Zt===4||Zt===3&&(rn&130023424)===rn&&500>_t()-bc?vl(e,0):Sc|=n),Rn(e,t)}function dg(e,t){t===0&&(e.mode&1?(t=pr,pr<<=1,!(pr&130023424)&&(pr=4194304)):t=1);var n=Nn();e=ja(e,t),e!==null&&(rr(e,t,n),Rn(e,n))}function Z2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dg(e,n)}function Q2(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ce(314))}a!==null&&a.delete(t),dg(e,n)}var fg;fg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kn=!1,B2(e,t,n);kn=!!(e.flags&131072)}else kn=!1,wt&&t.flags&1048576&&ym(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ti(e,t),e=t.pendingProps;var o=ql(t,mn.current);Kl(t,n),o=hc(null,t,a,e,o,n);var i=mc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pn(a)?(i=!0,gi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,sc(t),o.updater=Vi,t.stateNode=o,o._reactInternals=t,Cu(t,a,e,n),t=Nu(null,t,a,!0,i,n)):(t.tag=0,wt&&i&&tc(t),Sn(null,t,o,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ti(e,t),e=t.pendingProps,o=a._init,a=o(a._payload),t.type=a,o=t.tag=J2(a),e=la(a,e),o){case 0:t=bu(null,t,a,e,n);break e;case 1:t=jf(null,t,a,e,n);break e;case 11:t=Pf(null,t,a,e,n);break e;case 14:t=Rf(null,t,a,la(a.type,e),n);break e}throw Error(ce(306,a,""))}return t;case 0:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:la(a,o),bu(e,t,a,o,n);case 1:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:la(a,o),jf(e,t,a,o,n);case 3:e:{if(Km(t),e===null)throw Error(ce(387));a=t.pendingProps,i=t.memoizedState,o=i.element,xm(e,t),bi(t,a,null,n);var s=t.memoizedState;if(a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=no(Error(ce(423)),t),t=Af(e,t,a,n,o);break e}else if(a!==o){o=no(Error(ce(424)),t),t=Af(e,t,a,n,o);break e}else for(Dn=qa(t.stateNode.containerInfo.firstChild),zn=t,wt=!0,ra=null,n=bm(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jl(),a===o){t=Aa(e,t,n);break e}Sn(e,t,a,n)}t=t.child}return t;case 5:return Em(t),e===null&&gu(t),a=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,cu(a,o)?s=null:i!==null&&cu(a,i)&&(t.flags|=32),Xm(e,t),Sn(e,t,s,n),t.child;case 6:return e===null&&gu(t),null;case 13:return Zm(e,t,n);case 4:return uc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=eo(t,null,a,n):Sn(e,t,a,n),t.child;case 11:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:la(a,o),Pf(e,t,a,o,n);case 7:return Sn(e,t,t.pendingProps,n),t.child;case 8:return Sn(e,t,t.pendingProps.children,n),t.child;case 12:return Sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ft(Ci,a._currentValue),a._currentValue=s,i!==null)if(ca(i.value,s)){if(i.children===o.children&&!Fn.current){t=Aa(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){s=i.child;for(var m=c.firstContext;m!==null;){if(m.context===a){if(i.tag===1){m=Fa(-1,n&-n),m.tag=2;var x=i.updateQueue;if(x!==null){x=x.shared;var h=x.pending;h===null?m.next=m:(m.next=h.next,h.next=m),x.pending=m}}i.lanes|=n,m=i.alternate,m!==null&&(m.lanes|=n),yu(i.return,n,t),c.lanes|=n;break}m=m.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ce(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),yu(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Sn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps.children,Kl(t,n),o=Zn(o),a=a(o),t.flags|=1,Sn(e,t,a,n),t.child;case 14:return a=t.type,o=la(a,t.pendingProps),o=la(a.type,o),Rf(e,t,a,o,n);case 15:return Gm(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:la(a,o),ti(e,t),t.tag=1,Pn(a)?(e=!0,gi(t)):e=!1,Kl(t,n),Um(t,a,o),Cu(t,a,o,n),Nu(null,t,a,!0,e,n);case 19:return Qm(e,t,n);case 22:return $m(e,t,n)}throw Error(ce(156,t.tag))};function hg(e,t){return zh(e,t)}function q2(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,a){return new q2(e,t,n,a)}function wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function J2(e){if(typeof e=="function")return wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uu)return 11;if(e===Hu)return 14}return 2}function nl(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function li(e,t,n,a,o,i){var s=2;if(a=e,typeof e=="function")wc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Al:return Cl(n.children,o,i,t);case Yu:s=8,o|=8;break;case Ys:return e=Xn(12,n,t,o|2),e.elementType=Ys,e.lanes=i,e;case Us:return e=Xn(13,n,t,o),e.elementType=Us,e.lanes=i,e;case Hs:return e=Xn(19,n,t,o),e.elementType=Hs,e.lanes=i,e;case Eh:return Hi(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nh:s=10;break e;case xh:s=9;break e;case Uu:s=11;break e;case Hu:s=14;break e;case Ya:s=16,a=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Xn(s,n,t,o),t.elementType=e,t.type=a,t.lanes=i,t}function Cl(e,t,n,a){return e=Xn(7,e,a,t),e.lanes=n,e}function Hi(e,t,n,a){return e=Xn(22,e,a,t),e.elementType=Eh,e.lanes=n,e.stateNode={isHidden:!1},e}function Ls(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function _s(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eS(e,t,n,a,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Tc(e,t,n,a,o,i,s,c,m){return e=new eS(e,t,n,c,m),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sc(i),e}function tS(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function mg(e){if(!e)return ll;e=e._reactInternals;e:{if(Ol(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var n=e.type;if(Pn(n))return mm(e,n,t)}return t}function gg(e,t,n,a,o,i,s,c,m){return e=Tc(n,a,!0,e,o,i,s,c,m),e.context=mg(null),n=e.current,a=Nn(),o=tl(n),i=Fa(a,o),i.callback=t??null,Ja(n,i,o),e.current.lanes=o,rr(e,o,a),Rn(e,a),e}function Wi(e,t,n,a){var o=t.current,i=Nn(),s=tl(o);return n=mg(n),t.context===null?t.context=n:t.pendingContext=n,t=Fa(i,s),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Ja(o,t,s),e!==null&&(ua(e,o,s,i),qr(e,o,s)),s}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oc(e,t){Hf(e,t),(e=e.alternate)&&Hf(e,t)}function nS(){return null}var yg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ic(e){this._internalRoot=e}Gi.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Wi(e,t,null,null)};Gi.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;El(function(){Wi(null,e,null,null)}),t[Ra]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=$h();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wa.length&&t!==0&&t<Wa[n].priority;n++);Wa.splice(n,0,e),n===0&&Kh(e)}};function Mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wf(){}function aS(e,t,n,a,o){if(o){if(typeof a=="function"){var i=a;a=function(){var x=Mi(s);i.call(x)}}var s=gg(t,a,e,0,null,!1,!1,"",Wf);return e._reactRootContainer=s,e[Ra]=s.current,Xo(e.nodeType===8?e.parentNode:e),El(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var c=a;a=function(){var x=Mi(m);c.call(x)}}var m=Tc(e,0,!1,null,null,!1,!1,"",Wf);return e._reactRootContainer=m,e[Ra]=m.current,Xo(e.nodeType===8?e.parentNode:e),El(function(){Wi(t,m,n,a)}),m}function Xi(e,t,n,a,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var c=o;o=function(){var m=Mi(s);c.call(m)}}Wi(t,s,e,o)}else s=aS(n,t,e,o,a);return Mi(s)}Wh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mo(t.pendingLanes);n!==0&&($u(t,n|1),Rn(t,_t()),!(Je&6)&&(ao=_t()+500,il()))}break;case 13:El(function(){var a=ja(e,1);if(a!==null){var o=Nn();ua(a,e,1,o)}}),Oc(e,1)}};Xu=function(e){if(e.tag===13){var t=ja(e,134217728);if(t!==null){var n=Nn();ua(t,e,134217728,n)}Oc(e,134217728)}};Gh=function(e){if(e.tag===13){var t=tl(e),n=ja(e,t);if(n!==null){var a=Nn();ua(n,e,t,a)}Oc(e,t)}};$h=function(){return it};Xh=function(e,t){var n=it;try{return it=e,t()}finally{it=n}};eu=function(e,t,n){switch(t){case"input":if($s(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=Bi(a);if(!o)throw Error(ce(90));Th(a),$s(a,o)}}}break;case"textarea":Ih(e,n);break;case"select":t=n.value,t!=null&&Wl(e,!!n.multiple,t,!1)}};Ah=Nc;ph=El;var lS={usingClientEntryPoint:!1,Events:[sr,Bl,Bi,Rh,jh,Nc]},wo={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oS={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bh(e),e===null?null:e.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||nS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gr.isDisabled&&Gr.supportsFiber)try{Ai=Gr.inject(oS),ga=Gr}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lS;Yn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(t))throw Error(ce(200));return tS(e,t,null,n)};Yn.createRoot=function(e,t){if(!Mc(e))throw Error(ce(299));var n=!1,a="",o=yg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Tc(e,1,!1,null,null,n,!1,a,o),e[Ra]=t.current,Xo(e.nodeType===8?e.parentNode:e),new Ic(t)};Yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Bh(t),e=e===null?null:e.stateNode,e};Yn.flushSync=function(e){return El(e)};Yn.hydrate=function(e,t,n){if(!$i(t))throw Error(ce(200));return Xi(null,e,t,!0,n)};Yn.hydrateRoot=function(e,t,n){if(!Mc(e))throw Error(ce(405));var a=n!=null&&n.hydratedSources||null,o=!1,i="",s=yg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=gg(t,null,e,1,n??null,o,!1,i,s),e[Ra]=t.current,Xo(e),a)for(e=0;e<a.length;e++)n=a[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gi(t)};Yn.render=function(e,t,n){if(!$i(t))throw Error(ce(200));return Xi(null,e,t,!1,n)};Yn.unmountComponentAtNode=function(e){if(!$i(e))throw Error(ce(40));return e._reactRootContainer?(El(function(){Xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ra]=null})}),!0):!1};Yn.unstable_batchedUpdates=Nc;Yn.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!$i(n))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Xi(e,t,n,!1,a)};Yn.version="18.3.1-next-f1338f8080-20240426";function vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vg)}catch(e){console.error(e)}}vg(),vh.exports=Yn;var rS=vh.exports,Gf=rS;zs.createRoot=Gf.createRoot,zs.hydrateRoot=Gf.hydrateRoot;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})($f||($f={}));var Xf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Xf||(Xf={}));var Kf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Kf||(Kf={}));var Zf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Zf||(Zf={}));var ki;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(ki||(ki={}));var Qf;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Qf||(Qf={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class qf extends ar{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="https://generativelanguage.googleapis.com",sS="v1",uS="0.2.1",cS="genai-js";var wl;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(wl||(wl={}));class cr{constructor(t,n,a,o){this.model=t,this.task=n,this.apiKey=a,this.stream=o}toString(){let t=`${iS}/${sS}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function dS(){return`${cS}/${uS}`}async function dr(e,t,n){let a;try{if(a=await fetch(e.toString(),Object.assign(Object.assign({},fS(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":dS(),"x-goog-api-key":e.apiKey},body:t})),!a.ok){let o="";try{const i=await a.json();o=i.error.message,i.error.details&&(o+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${a.status} ${a.statusText}] ${o}`)}}catch(o){const i=new ar(`Error fetching from ${e.toString()}: ${o.message}`);throw i.stack=o.stack,i}return a}function fS(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,a=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=a}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Cg(e.candidates[0]))throw new qf(`${Fi(e)}`,e);return hS(e)}else if(e.promptFeedback)throw new qf(`Text not available. ${Fi(e)}`,e);return""},e}function hS(e){var t,n,a,o;return!((o=(a=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a[0])===null||o===void 0)&&o.text?e.candidates[0].content.parts[0].text:""}const mS=[ki.RECITATION,ki.SAFETY];function Cg(e){return!!e.finishReason&&mS.includes(e.finishReason)}function Fi(e){var t,n,a;let o="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)o+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((a=e.candidates)===null||a===void 0)&&a[0]){const i=e.candidates[0];Cg(i)&&(o+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(o+=`: ${i.finishMessage}`))}return o}function lr(e){return this instanceof lr?(this.v=e,this):new lr(e)}function gS(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(C){a[C]&&(o[C]=function(v){return new Promise(function(r,u){i.push([C,v,r,u])>1||c(C,v)})})}function c(C,v){try{m(a[C](v))}catch(r){b(i[0][3],r)}}function m(C){C.value instanceof lr?Promise.resolve(C.value.v).then(x,h):b(i[0][2],C)}function x(C){c("next",C)}function h(C){c("throw",C)}function b(C,v){C(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function yS(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=SS(t),[a,o]=n.tee();return{stream:CS(a),response:vS(o)}}async function vS(e){const t=[],n=e.getReader();for(;;){const{done:a,value:o}=await n.read();if(a)return kc(bS(t));t.push(o)}}function CS(e){return gS(this,arguments,function*(){const n=e.getReader();for(;;){const{value:a,done:o}=yield lr(n.read());if(o)break;yield yield lr(kc(a))}})}function SS(e){const t=e.getReader();return new ReadableStream({start(a){let o="";return i();function i(){return t.read().then(({value:s,done:c})=>{if(c){if(o.trim()){a.error(new ar("Failed to parse stream"));return}a.close();return}o+=s;let m=o.match(Jf),x;for(;m;){try{x=JSON.parse(m[1])}catch{a.error(new ar(`Error parsing JSON response: "${m[1]}"`));return}a.enqueue(x),o=o.substring(m[0].length),m=o.match(Jf)}return i()})}}})}function bS(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const a of e)if(a.candidates)for(const o of a.candidates){const i=o.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:o.index}),n.candidates[i].citationMetadata=o.citationMetadata,n.candidates[i].finishReason=o.finishReason,n.candidates[i].finishMessage=o.finishMessage,n.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[i].content||(n.candidates[i].content={role:o.content.role||"user",parts:[{text:""}]});for(const s of o.content.parts)s.text&&(n.candidates[i].content.parts[0].text+=s.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(e,t,n,a){const o=new cr(t,wl.STREAM_GENERATE_CONTENT,e,!0),i=await dr(o,JSON.stringify(n),a);return yS(i)}async function bg(e,t,n,a){const o=new cr(t,wl.GENERATE_CONTENT,e,!1),s=await(await dr(o,JSON.stringify(n),a)).json();return{response:kc(s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const a of e)typeof a=="string"?n.push({text:a}):n.push(a);return{role:t,parts:n}}function Bs(e){return e.contents?e:{contents:[Do(e,"user")]}}function NS(e){return typeof e=="string"||Array.isArray(e)?{content:Do(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="SILENT_ERROR";class xS{constructor(t,n,a,o){this.model=n,this.params=a,this.requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,a!=null&&a.history&&(this._history=a.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return Do(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,a;await this._sendPromise;const o=Do(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,contents:[...this._history,o]};let s;return this._sendPromise=this._sendPromise.then(()=>bg(this._apiKey,this.model,i,this.requestOptions)).then(c=>{var m;if(c.response.candidates&&c.response.candidates.length>0){this._history.push(o);const x=Object.assign({parts:[],role:"model"},(m=c.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(x)}else{const x=Fi(c.response);x&&console.warn(`sendMessage() was unsuccessful. ${x}. Inspect response object for details.`)}s=c}),await this._sendPromise,s}async sendMessageStream(t){var n,a;await this._sendPromise;const o=Do(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,contents:[...this._history,o]},s=Sg(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>s).catch(c=>{throw new Error(eh)}).then(c=>c.response).then(c=>{if(c.candidates&&c.candidates.length>0){this._history.push(o);const m=Object.assign({},c.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=Fi(c);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(c=>{c.message!==eh&&console.error(c)}),s}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(e,t,n,a){const o=new cr(t,wl.COUNT_TOKENS,e,!1);return(await dr(o,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),a)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(e,t,n,a){const o=new cr(t,wl.EMBED_CONTENT,e,!1);return(await dr(o,JSON.stringify(n),a)).json()}async function TS(e,t,n,a){const o=new cr(t,wl.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await dr(o,JSON.stringify({requests:i}),a)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,n,a){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=a||{}}async generateContent(t){const n=Bs(t);return bg(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=Bs(t);return Sg(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new xS(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=Bs(t);return ES(this.apiKey,this.model,n)}async embedContent(t){const n=NS(t);return wS(this.apiKey,this.model,n)}async batchEmbedContents(t){return TS(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new ar("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new OS(this.apiKey,t,n)}}var re=(e=>(e.MONSTERCAT="Monstercat",e.MONSTERCAT_V2="Monstercat ()",e.MONSTERCAT_GLITCH="Monstercat ()",e.NEBULA_WAVE="Nebula Wave",e.LUMINOUS_WAVE="Luminous Wave",e.FUSION="Fusion",e.TECH_WAVE=" (Quantum Pulse)",e.STELLAR_CORE="Stellar Core",e.WATER_RIPPLE=" (Water Ripple)",e.RADIAL_BARS="Radial Bars",e.PARTICLE_GALAXY=" (Full Galaxy)",e.LIQUID_METAL=" (Metal Flower)",e.CRT_GLITCH="CRT Glitch",e.GLITCH_WAVE="Glitch Wave",e.DATA_MOSH=" (Digital Mosh)",e.SIGNAL_SCRAMBLE=" (Signal Scramble)",e.PIXEL_SORT=" (Digital Storm)",e.REPULSOR_FIELD=" (Repulsion Field)",e.AUDIO_LANDSCAPE="",e.PIANO_VIRTUOSO="",e.GEOMETRIC_BARS="",e.Z_CUSTOM="Z",e.VINYL_RECORD="",e.CHINESE_CONTROL_CARD="",e.BASIC_WAVE="",e.LYRIC_PULSE_LINE=" (Lyric Pulse Line)",e.DYNAMIC_CONTROL_CARD="",e.FRAME_PIXELATION=" ",e.PHOTO_SHAKE="",e.CIRCULAR_WAVE="",e.BLURRED_EDGE="",e.KE_YE_CUSTOM_V2="",e))(re||{}),Pe=(e=>(e.BASIC="",e.ADVANCED="",e.EXPERIMENTAL="",e.SPECIAL="",e.DYNAMIC_CONTROL="",e))(Pe||{}),Et=(e=>(e.SNOW="snow",e.PARTICLES="particles",e.STARS="stars",e.RAIN="rain",e.CHERRY_BLOSSOM="cherry-blossom",e.LIGHTNING="lightning",e.GLITCH1="glitch1",e.GLITCH2="glitch2",e))(Et||{}),Yt=(e=>(e.FILLED="filled",e.OUTLINE="outline",e.TRANSPARENT="transparent",e))(Yt||{}),g=(e=>(e.POPPINS="Poppins",e.ORBITRON="Orbitron",e.LOBSTER="Lobster",e.BUNGEE="Bungee",e.PRESS_START_2P="Press Start 2P",e.PACIFICO="Pacifico",e.DANCING_SCRIPT="Dancing Script",e.ROCKNROLL_ONE="RocknRoll One",e.REGGAE_ONE="Reggae One",e.VT323="VT323",e.NOTO_SANS_TC="Noto Sans TC",e.SOURCE_HAN_SANS="Source Han Sans",e.CW_TEX_KAI="cwTeXKai",e.KLEE_ONE="Klee One",e.QINGSONG_1="QingSong 1",e.QINGSONG_2="QingSong 2",e.TAIPEI_SANS="Taipei Sans TC Beta",e.M_PLUS_ROUNDED="M PLUS Rounded 1c",e.HINA_MINCHO="Hina Mincho",e.RAMPART_ONE="Rampart One",e.ROBOTO_MONO="Roboto Mono",e.OPEN_SANS="Open Sans",e.LATO="Lato",e.MONTSERRAT="Montserrat",e.SOURCE_SANS_PRO="Source Sans Pro",e.RALEWAY="Raleway",e.UBUNTU="Ubuntu",e.PLAYFAIR_DISPLAY="Playfair Display",e.MERRIWEATHER="Merriweather",e.OSWALD="Oswald",e.CAVEAT="Caveat",e.KALAM="Kalam",e.COMFORTAA="Comfortaa",e.FREDOKA_ONE="Fredoka One",e.NUNITO="Nunito",e.QUICKSAND="Quicksand",e.RUBIK="Rubik",e.NOTO_SERIF_TC="Noto Serif TC",e.MA_SHAN_ZHENG="Ma Shan Zheng",e.ZHI_MANG_XING="Zhi Mang Xing",e.LONG_CANG="Long Cang",e.ZCOOL_KUAI_LE="ZCOOL KuaiLe",e.ZCOOL_QING_KE="ZCOOL QingKe HuangYou",e.LIU_JIAN_MAO_CAO="Liu Jian Mao Cao",e.ZCOOL_XIAO_WEI="ZCOOL XiaoWei",e.BAKUDAI="Bakudai",e.MASA_FONT="Masa Font",e))(g||{}),Oa=(e=>(e.BLACK="",e.GREEN="",e.WHITE="",e.TRANSPARENT="",e))(Oa||{}),Ie=(e=>(e.DEFAULT="",e.CYBERPUNK="",e.SUNSET="",e.GLACIER="",e.LAVA="",e.MIDNIGHT="",e.WHITE="",e.RAINBOW="",e.CUSTOM="",e))(Ie||{}),U=(e=>(e.NONE="",e.BOLD="",e.SHADOW="",e.NEON="",e.OUTLINE="",e.FAUX_3D="3D",e.GLITCH="",e))(U||{}),In=(e=>(e.P720="720p (1280x720)",e.P1080="1080p (1920x1080)",e.P4K="4K (3840x2160)",e.SQUARE_1080="1:1 (1080x1080)",e.SQUARE_4K="1:1 (2160x2160)",e.RATIO_2_1_4K="2:1 (4096x2048)",e.RATIO_2_1_1080="2:1 (1920x960)",e.RATIO_2_1_720="2:1 (1280x640)",e.CURRENT="",e))(In||{}),bn=(e=>(e.BOTTOM_RIGHT="",e.BOTTOM_LEFT="",e.TOP_RIGHT="",e.TOP_LEFT="",e.CENTER="",e))(bn||{}),an=(e=>(e.NONE="",e.TRANSPARENT="",e.BLACK="",e))(an||{}),Ut=(e=>(e.NONE="",e.CLASSIC="",e.LYRICS_SCROLL="",e.WORD_BY_WORD="",e.SLIDING_GROUP="",e.FADE_LINES="",e.PARTIAL_BLUR="",e))(Ut||{}),Bn=(e=>(e.BRACKET=" [00:00.00]",e.SRT="SRT 00:00:14,676 --> 00:00:19,347",e))(Bn||{}),ia=(e=>(e.CHINESE="",e.ENGLISH="English",e.KOREAN="",e.JAPANESE="",e))(ia||{}),on=(e=>(e.HORIZONTAL="",e.VERTICAL="",e))(on||{}),de=(e=>(e.TV_STATIC="",e.FADE="",e.SLIDE_LEFT="",e.SLIDE_RIGHT="",e.SLIDE_UP="",e.SLIDE_DOWN="",e.ZOOM_IN="",e.ZOOM_OUT="",e.SPIRAL="",e.WAVE="",e.DIAMOND="",e.CIRCLE="",e.BLINDS="",e.CHECKERBOARD="",e.RANDOM_PIXELS="",e))(de||{});const un={[g.POPPINS]:"Poppins",[g.ORBITRON]:"Orbitron",[g.LOBSTER]:"Lobster",[g.BUNGEE]:"Bungee",[g.PRESS_START_2P]:"Press Start 2P",[g.PACIFICO]:"Pacifico",[g.DANCING_SCRIPT]:"Dancing Script",[g.ROCKNROLL_ONE]:"RocknRoll One",[g.REGGAE_ONE]:"Reggae One",[g.VT323]:"VT323",[g.NOTO_SANS_TC]:"Noto Sans TC",[g.SOURCE_HAN_SANS]:"Source Han Sans TC",[g.CW_TEX_KAI]:"cwTeXKai",[g.KLEE_ONE]:"Klee One",[g.QINGSONG_1]:"Jason Handwriting 1",[g.QINGSONG_2]:"Jason Handwriting 2",[g.TAIPEI_SANS]:"Taipei Sans TC Beta",[g.M_PLUS_ROUNDED]:"M PLUS Rounded 1c",[g.HINA_MINCHO]:"Hina Mincho",[g.RAMPART_ONE]:"Rampart One",[g.ROBOTO_MONO]:"Roboto Mono",[g.OPEN_SANS]:"Open Sans",[g.LATO]:"Lato",[g.MONTSERRAT]:"Montserrat",[g.SOURCE_SANS_PRO]:"Source Sans Pro",[g.RALEWAY]:"Raleway",[g.UBUNTU]:"Ubuntu",[g.PLAYFAIR_DISPLAY]:"Playfair Display",[g.MERRIWEATHER]:"Merriweather",[g.OSWALD]:"Oswald",[g.CAVEAT]:"Caveat",[g.KALAM]:"Kalam",[g.COMFORTAA]:"Comfortaa",[g.FREDOKA_ONE]:"Fredoka One",[g.NUNITO]:"Nunito",[g.QUICKSAND]:"Quicksand",[g.RUBIK]:"Rubik",[g.NOTO_SERIF_TC]:"Noto Serif TC",[g.MA_SHAN_ZHENG]:"Ma Shan Zheng",[g.ZHI_MANG_XING]:"Zhi Mang Xing",[g.LONG_CANG]:"Long Cang",[g.ZCOOL_KUAI_LE]:"ZCOOL KuaiLe",[g.ZCOOL_QING_KE]:"ZCOOL QingKe HuangYou",[g.LIU_JIAN_MAO_CAO]:"Liu Jian Mao Cao",[g.ZCOOL_XIAO_WEI]:"ZCOOL XiaoWei",[g.BAKUDAI]:"Bakudai",[g.MASA_FONT]:"Masa Font"};let he=null,Va={cx:0,cy:0,scale:1,initialized:!1};const ve=(e,t)=>{const n=Math.max(0,Math.min(1,t));if(e.startsWith("hsl"))return e.replace("hsl","hsla").replace(")",`, ${n})`);const a=Math.round(n*255).toString(16).padStart(2,"0");return`${e.substring(0,7)}${a}`};let Pl=[],MS=.1,th=0,To=[],kS=.08,Ds=0;const tn=(e,t,n,a,o,i)=>{a<2*i&&(i=a/2),o<2*i&&(i=o/2),i<0&&(i=0),e.beginPath(),e.moveTo(t+i,n),e.arcTo(t+a,n,t+a,n+o,i),e.arcTo(t+a,n+o,t,n+o,i),e.arcTo(t,n+o,t,n,i),e.arcTo(t,n,t+a,n,i),e.closePath()},Ng=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=64,b=h*2,C=n/b,v=n/2,r=a/2,u=a*.45,E=Math.floor(t.length*.7),[f,y]=s.hueRange,S=y-f;x&&(e.strokeStyle="rgba(0,0,0,0.4)",e.lineWidth=1.5);for(let k=0;k<h;k++){const N=Math.floor(k/h*E),j=t[N]/255,L=Math.pow(j,2.5)*u*i;if(L<2)continue;let d;if(s.name===Ie.WHITE)d=`hsl(220, 10%, ${85+j*15}%)`;else{const A=f+k/h*S,P=m?100:90,V=60+j*10;d=`hsl(${A}, ${P}%, ${V}%)`}e.shadowColor=d,e.shadowBlur=m?10:5,e.fillStyle=d;const I=2,T=C-I,F=Math.min(4,T/3),w=A=>{tn(e,A,r-L,T,L,F),e.fill(),x&&e.stroke(),tn(e,A,r,T,L,F),e.fill(),x&&e.stroke()};w(v-(k+1)*C+I/2),w(v+k*C+I/2)}e.restore()},FS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=a*.35,v=e.createLinearGradient(0,b,n,b);v.addColorStop(0,"rgba(0, 255, 255, 0)"),v.addColorStop(.2,ve(s.accent,64/255)),v.addColorStop(.5,s.accent),v.addColorStop(.8,ve(s.accent,64/255)),v.addColorStop(1,"rgba(0, 255, 255, 0)"),e.fillStyle=v,e.shadowBlur=30,e.shadowColor=s.accent,e.fillRect(0,b-2,n,4);const r=e.createLinearGradient(h,b-C,h,b+C);r.addColorStop(0,ve(s.secondary,204/255)),r.addColorStop(.4,s.primary),r.addColorStop(.5,s.accent),r.addColorStop(.6,s.primary),r.addColorStop(1,ve(s.secondary,204/255));const u=E=>{const y=t.length*.5,S=[],k=[];for(let j=0;j<=128;j++){const L=j/128,d=Math.floor(L*y),I=E==="left"?h-L*h:h+L*h,T=t[d]/255*C*i,F=Math.sin(j*.1+o*.05)*5*(T/C);S.push({x:I,y:b-(T+F)}),k.push({x:I,y:b+(T+F)})}const N=j=>{if(!(j.length<2)){e.beginPath(),e.moveTo(j[0].x,j[0].y);for(let L=1;L<j.length-1;L++){const d=(j[L].x+j[L+1].x)/2,I=(j[L].y+j[L+1].y)/2;e.quadraticCurveTo(j[L].x,j[L].y,d,I)}e.quadraticCurveTo(j[j.length-1].x,j[j.length-1].y,j[j.length-1].x,j[j.length-1].y),e.stroke()}};x&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",N(S),N(k),e.restore()),e.strokeStyle=r,e.lineWidth=2.5,e.shadowBlur=15,e.shadowColor=s.primary,N(S),N(k)};u("left"),u("right"),e.restore()},nh=(e,t,n,a,o,i,s,c,m,x,h,b,C,v)=>{if(!t)return;e.save();const r=n/2,u=a/2,E=a*.15,f=t.slice(0,Math.floor(t.length*.1)),S=f.reduce((B,O)=>B+O,0)/f.length>150,k=S?Math.sin(o*.3)*8:0,N=t.reduce((B,O)=>B+O,0)/t.length,j=Math.min(N/120,1),L=800,d=n*.8,I=r-d/2;Pl.length!==L+1&&(Pl=new Array(L+1).fill(0));const T=performance.now()/1e3,F=T-th;th=T;const w=Math.exp(-F/MS),A=[],P=[],V=12;for(let B=0;B<=L;B++){const O=B/L,_=I+O*d,z=Math.floor(O*t.length);let p=0,W=0;for(let $=-V;$<=V;$++){const K=Math.max(0,Math.min(t.length-1,z+$));p+=t[K],W++}const G=p/W/255,q=Math.pow(G,.5)*E*i*j*3,ie=Pl[B]||0;q>ie?Pl[B]=q:Pl[B]=ie*w;const Z=Pl[B],H=Math.sin(O*Math.PI*2+o*.01)*2,ae=S?Math.sin(O*Math.PI*4+o*.05)*k*.2:0,ee=u-Z-H-ae,te=u+Z*.3+H+ae;A.push({x:_,y:ee}),P.push({x:_,y:te})}const D=6;for(let B=0;B<A.length;B++){let O=0,_=0;for(let z=-D;z<=D;z++){const p=Math.max(0,Math.min(A.length-1,B+z));O+=A[p].y,_++}A[B].y=O/_,O=0,_=0;for(let z=-D;z<=D;z++){const p=Math.max(0,Math.min(P.length-1,B+z));O+=P[p].y,_++}P[B].y=O/_}e.beginPath(),e.moveTo(A[0].x,A[0].y);for(let B=0;B<A.length-1;B++){const O=A[B],_=A[B+1],z=_.x-O.x,p=_.y-O.y,W=O.x+z*.33,G=O.y+p*.05,X=O.x+z*.67,ne=_.y-p*.05;e.bezierCurveTo(W,G,X,ne,_.x,_.y)}e.strokeStyle="#ffffff",e.lineWidth=4,e.shadowBlur=12,e.shadowColor="#ffffff",e.stroke(),e.beginPath(),e.moveTo(A[0].x,A[0].y);for(let B=0;B<A.length-1;B++){const O=A[B],_=A[B+1],z=_.x-O.x,p=_.y-O.y,W=O.x+z*.33,G=O.y+p*.05,X=O.x+z*.67,ne=_.y-p*.05;e.bezierCurveTo(W,G,X,ne,_.x,_.y)}if(e.lineTo(A[A.length-1].x,u),e.lineTo(A[0].x,u),e.closePath(),e.fillStyle="#ffffff",e.fill(),S){e.save(),e.globalAlpha=.4,e.strokeStyle=s.accent,e.lineWidth=3,e.shadowBlur=20,e.shadowColor=s.accent;for(let B=0;B<2;B++){const O=o%20*2+B*10;e.beginPath(),e.arc(r,u,O,0,Math.PI*2),e.stroke()}e.restore()}e.restore()},xg=(e,t,n,a,o,i,s,c,m,x,h)=>{if(!t)return;e.save();const b=n/2,C=a/2,v=t.slice(0,32).reduce((P,V)=>P+V,0)/32;t.slice(32,128).reduce((P,V)=>P+V,0)/96,t.slice(128,256).reduce((P,V)=>P+V,0)/128;const r=v/255;he!=null&&he.bassEnhancementBlurIntensity;const E=1+r*2;e.fillStyle=s.primary,e.font=`bold ${24+r*8}px Arial`,e.textAlign="center",e.textBaseline="middle",he!=null&&he.bassEnhancementCurveIntensity;const y=a*.3*E,S=n*.3*E,k=b-S/2,N=C,j=3;if(e.beginPath(),e.moveTo(k,N),e.lineTo(k+S,N),s.name===Ie.RAINBOW){const P=e.createLinearGradient(k,N,k+S,N),[V,D]=s.hueRange,B=D-V;for(let _=0;_<=10;_++){const z=_/10,p=V+z*B;P.addColorStop(z,`hsl(${p}, 80%, 70%)`)}e.strokeStyle=P;const O=V+B/2;e.shadowColor=`hsl(${O}, 80%, 70%)`}else e.strokeStyle="#FFFFFF",e.shadowColor="#FFFFFF";e.lineWidth=j*E,e.shadowBlur=15*E,e.stroke(),e.shadowBlur=0,e.shadowColor="transparent";const L=40;for(let P=0;P<L;P++){let V,D;const O=[{freq:[0,.2],amp:1.8,width:1.5},{freq:[.2,.6],amp:1.2,width:.9},{freq:[.6,1],amp:1,width:.7},{freq:[0,.15],amp:2,width:1.8},{freq:[.3,.7],amp:1.1,width:1},{freq:[.1,.3],amp:1.6,width:1.3},{freq:[.4,.8],amp:.9,width:.8},{freq:[0,.25],amp:1.9,width:1.6},{freq:[.2,.4],amp:1.3,width:1.1},{freq:[.7,1],amp:.8,width:.6},{freq:[.5,.9],amp:1,width:.9},{freq:[0,.2],amp:1.7,width:1.4},{freq:[.8,1],amp:.7,width:.5},{freq:[.15,.35],amp:1.4,width:1.2},{freq:[.6,.8],amp:1.1,width:.8},{freq:[.05,.25],amp:1.8,width:1.5},{freq:[.3,.5],amp:1.2,width:1},{freq:[.9,1],amp:.6,width:.4},{freq:[.4,.6],amp:1.3,width:1.1},{freq:[.1,.3],amp:1.6,width:1.3},{freq:[0,.18],amp:1.7,width:1.4},{freq:[.25,.65],amp:1.1,width:.8},{freq:[.65,1],amp:.9,width:.6},{freq:[.02,.12],amp:1.9,width:1.7},{freq:[.35,.75],amp:1,width:.9},{freq:[.08,.28],amp:1.5,width:1.2},{freq:[.45,.85],amp:.8,width:.7},{freq:[0,.22],amp:1.8,width:1.5},{freq:[.18,.38],amp:1.2,width:1},{freq:[.72,1],amp:.7,width:.5},{freq:[.52,.92],amp:.9,width:.8},{freq:[0,.19],amp:1.6,width:1.3},{freq:[.82,1],amp:.6,width:.4},{freq:[.12,.32],amp:1.3,width:1.1},{freq:[.62,.82],amp:1,width:.7},{freq:[.03,.23],amp:1.7,width:1.4},{freq:[.28,.48],amp:1.1,width:.9},{freq:[.88,1],amp:.5,width:.3},{freq:[.38,.58],amp:1.2,width:1},{freq:[.07,.27],amp:1.5,width:1.2}][P];V=O.freq[0],D=O.freq[1],O.amp,O.width;const _=Math.floor(V*t.length),z=Math.floor(D*t.length);let p=0;for(let W=_;W<z&&W<t.length;W++)p+=t[W]}if(t){const V=k+20,D=S-20*2,B=N,O=64,_=(G,X,ne)=>{if(!t)return .5;const q=t.length,ie=Math.max(0,Math.min(q-1,Math.floor(X*q))),Z=Math.max(ie+1,Math.min(q,Math.floor(ne*q))),H=ie+Math.floor(G*(Z-ie-1));return t[H]/255},z=O+1,p=Math.max(2,D/z*.6);for(let G=0;G<z;G++){const X=G/(z-1),ne=_(X,.05,.35),q=Math.max(0,ne-.2),ie=Math.pow(q,1.2)*y*2.4,H=V+X*D-p/2,ae=B-ie;if(ie>0){const ee=e.createLinearGradient(0,ae,0,B);if(s.name===Ie.RAINBOW){const[te,$]=s.hueRange,K=$-te,fe=te+X*K;ee.addColorStop(0,`hsla(${fe}, 70%, 60%, 0.85)`),ee.addColorStop(1,`hsla(${fe}, 70%, 60%, 0.15)`)}else ee.addColorStop(0,s.primary+"85"),ee.addColorStop(1,s.primary+"15");if(e.fillStyle=ee,e.fillRect(H,ae,p,ie),s.name===Ie.RAINBOW){const[te,$]=s.hueRange,K=$-te,fe=te+X*K;e.fillStyle=`hsla(${fe}, 80%, 70%, 0.25)`}else e.fillStyle=s.primary+"25";e.fillRect(H,ae,p,2)}}const W=y*1.8;e.beginPath();for(let G=0;G<=O;G++){const X=G/O,ne=_(X,.25,.6),q=Math.max(0,ne-.3),ie=B-Math.pow(q,1.15)*W,Z=V+X*D;G===0?e.moveTo(Z,ie):e.lineTo(Z,ie)}if(s.name===Ie.RAINBOW){const G=e.createLinearGradient(V,B,V+D,B),[X,ne]=s.hueRange,q=ne-X;for(let ie=0;ie<=10;ie++){const Z=ie/10,H=X+Z*q;G.addColorStop(Z,`hsla(${H}, 70%, 60%, 0.92)`)}e.strokeStyle=G}else e.strokeStyle="rgba(255,255,255,0.92)";e.lineWidth=2,e.stroke()}const d=h==null?void 0:h.bassEnhancementText,I=(h==null?void 0:h.bassEnhancementTextColor)||"#FFFFFF",T=un[(h==null?void 0:h.bassEnhancementTextFont)||g.POPPINS],F=Math.min(n,a)*(((h==null?void 0:h.bassEnhancementTextSize)||4)/100),w=typeof(h==null?void 0:h.bassEnhancementTextBgOpacity)=="number"?h.bassEnhancementTextBgOpacity:.5,A=C+a*.15;if(d&&d.trim()){e.font=`bold ${F}px ${T}`,e.textAlign="center",e.textBaseline="middle";const V=e.measureText(d).width,D=F*1.2;if(w>0){const B=F*.3,O=F*.2,_=V+B*2,z=D+O*2,p=b-_/2,W=A-D/2-O;e.fillStyle=`rgba(0, 0, 0, ${w})`,tn(e,p,W,_,z,F*.1),e.fill()}e.fillStyle=I,e.font=`bold ${F}px ${T}`,e.textAlign="center",e.textBaseline="middle",e.shadowBlur=10,e.shadowColor=I,e.fillText(d,b,A),e.shadowBlur=0,e.shadowColor="transparent"}e.restore()},Eg=(e,t,n,a,o,i,s,c,m,x,h)=>{if(!t)return;e.save();const b=n/2,C=a/2,v=Math.pow(t[0]/255,2),r=Math.pow(t[Math.floor(t.length*.3)]/255,2),u=Math.pow(t[Math.floor(t.length*.7)]/255,2),E=n*.7,f=a*.7,y=b-E/2,S=C-f/2;e.save();const k=(h==null?void 0:h.bassEnhancementBlurIntensity)||.5,N=.6+r*.2;e.globalAlpha=N;const j=Math.max(n,a)*.5,L=Math.max(12,Math.floor(24-v*12*k));e.fillStyle="rgba(20, 20, 30, 0.6)";for(let ne=-j;ne<n+j;ne+=L)for(let q=-j;q<a+j;q+=L){if(ne>=y&&ne<y+E&&q>=S&&q<S+f)continue;const ie=.3+Math.random()*.3;e.globalAlpha=ie*N,e.fillStyle="rgba(15, 15, 25, 0.7)",e.fillRect(ne,q,L,L)}e.restore();const d=v*12,I=Math.sin(o*.1)*d,T=Math.cos(o*.08)*d,w=1+v*.15+Math.sin(o*.05)*v*.05,A=E*w,P=f*w,V=b-A/2+I,D=C-P/2+T;e.save();const B=(h==null?void 0:h.bassEnhancementCenterOpacity)??.3;e.globalAlpha=B,e.fillStyle=`rgba(25, 25, 35, ${B})`,e.shadowBlur=25*w,e.shadowColor="#FFFFFF";const O=15*w;e.beginPath(),e.moveTo(V+O,D),e.lineTo(V+A-O,D),e.quadraticCurveTo(V+A,D,V+A,D+O),e.lineTo(V+A,D+P-O),e.quadraticCurveTo(V+A,D+P,V+A-O,D+P),e.lineTo(V+O,D+P),e.quadraticCurveTo(V,D+P,V,D+P-O),e.lineTo(V,D+O),e.quadraticCurveTo(V,D,V+O,D),e.fill(),e.restore(),e.strokeStyle=s.accent,e.lineWidth=(2+u)*w,e.shadowBlur=10*w,e.shadowColor=s.accent,e.stroke(),h!=null&&h.bassEnhancementCurveIntensity;const _=P*.6,z=A*.3,p=V+A*.1,W=D+P*.7,G=3,X=p;if(e.beginPath(),e.moveTo(X,W),e.lineTo(X+z,W),e.strokeStyle="#FFFFFF",e.lineWidth=G,e.shadowBlur=10,e.shadowColor="#FFFFFF",e.stroke(),e.shadowBlur=0,e.shadowColor="transparent",t){const q=p+20,ie=z-20*2,Z=W,H=64,ae=(K,fe,ge)=>{if(!t)return .5;const se=t.length,oe=Math.max(0,Math.min(se-1,Math.floor(fe*se))),Se=Math.max(oe+1,Math.min(se,Math.floor(ge*se))),Fe=oe+Math.floor(K*(Se-oe-1));return t[Fe]/255},ee=H+1,te=Math.max(2,ie/ee*.6);for(let K=0;K<ee;K++){const fe=K/(ee-1),ge=ae(fe,.05,.35),se=Math.max(0,ge-.2),oe=Math.pow(se,1.2)*_*2.4,Fe=q+fe*ie-te/2,ke=Z-oe;if(oe>0){const Ce=e.createLinearGradient(0,ke,0,Z);Ce.addColorStop(0,"rgba(255,255,255,0.9)"),Ce.addColorStop(1,"rgba(255,255,255,0.3)"),e.fillStyle=Ce,e.shadowBlur=8,e.shadowColor="#FFFFFF",e.fillRect(Fe,ke,te,oe)}}const $=_*1.8;e.beginPath();for(let K=0;K<=H;K++){const fe=K/H,ge=ae(fe,.25,.6),se=Math.max(0,ge-.3),oe=Z-Math.pow(se,1.15)*$,Se=q+fe*ie;K===0?e.moveTo(Se,oe):e.lineTo(Se,oe)}e.strokeStyle="rgba(255,255,255,0.92)",e.lineWidth=2,e.stroke()}e.restore()},PS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=a/2,b=n/2,[C,v]=s.hueRange,r=v-C,u=(he==null?void 0:he.fusionCenterOpacity)??1,E=128,f=n/E;for(let F=0;F<E;F++){const w=Math.floor(F*(t.length*.7/E)),A=Math.pow(t[w]/255,2)*a*.8*i;if(A<1)continue;let P;s.name===Ie.WHITE?P=`hsl(220, 5%, ${80+t[w]/255*20}%)`:P=`hsl(${C+F/E*r}, 80%, 60%)`,e.fillStyle=P,e.shadowColor=P,e.shadowBlur=5;const V=F*f+f/2,D=8,B=Math.floor(A/D);for(let O=0;O<B;O++){const _=a-O*D,z=1-Math.pow(O/B,2);e.globalAlpha=z;const p=1+t[w]/255*1.5;e.beginPath(),e.arc(V,_-D/2,p,0,Math.PI*2),e.fill()}}e.globalAlpha=1,e.shadowBlur=0;const y=Math.floor(n/2),S=t.length*.35,k=[];for(let F=0;F<=y/2;F++){const w=F/(y/2),A=b-w*b,P=Math.floor(w*S),V=Math.pow(t[P]/255,2)*150*i;k.push({x:A,y_amp:V})}const N=k.slice(1).reverse().map(F=>({x:n-F.x,y_amp:F.y_amp})),j=[...k,...N];e.save(),e.globalAlpha*=Math.max(0,Math.min(1,u));const L=.6,d=1.2;e.beginPath();const I=j[0],T=Math.sin(I.x*.05+o*.02)*5;e.moveTo(I.x,h+I.y_amp*L+T);for(const F of j){const w=Math.sin(F.x*.05+o*.02)*5;e.lineTo(F.x,h+F.y_amp*L+w)}x&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.beginPath();for(let F=j.length-1;F>=0;F--){const w=j[F],A=Math.sin(w.x*.05+o*.02)*5;F===j.length-1?e.moveTo(w.x,h-w.y_amp*L+A):e.lineTo(w.x,h-w.y_amp*L+A)}x&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.fillStyle=s.secondary,e.shadowColor=s.secondary,e.shadowBlur=10;for(const F of j){const w=Math.sin(F.x*.08+o*-.03)*8,A=h+F.y_amp*d+w,P=h-F.y_amp*d+w;e.beginPath(),e.arc(F.x,A,1.5,0,Math.PI*2),e.fill(),e.beginPath(),e.arc(F.x,P,1.5,0,Math.PI*2),e.fill()}e.restore(),e.restore()},RS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=a/2,b=n/2,C=Math.floor(n/2),v=t.length*.35,r=[];for(let N=0;N<=C/2;N++){const j=N/(C/2),L=b-j*b,d=Math.floor(j*v),I=Math.pow(t[d]/255,2)*150*i;r.push({x:L,y_amp:I})}const u=r.slice(1).reverse().map(N=>({x:n-N.x,y_amp:N.y_amp})),E=[...r,...u],f=.6,y=1.2;e.beginPath();const S=E[0],k=Math.sin(S.x*.05+o*.02)*5;e.moveTo(S.x,h+S.y_amp*f+k);for(const N of E){const j=Math.sin(N.x*.05+o*.02)*5;e.lineTo(N.x,h+N.y_amp*f+j)}x&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.beginPath();for(let N=E.length-1;N>=0;N--){const j=E[N],L=Math.sin(j.x*.05+o*.02)*5;N===E.length-1?e.moveTo(j.x,h-j.y_amp*f+L):e.lineTo(j.x,h-j.y_amp*f+L)}x&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.fillStyle=s.secondary,e.shadowColor=s.secondary,e.shadowBlur=10;for(const N of E){const j=Math.sin(N.x*.08+o*-.03)*8,L=h+N.y_amp*y+j,d=h-N.y_amp*y+j;e.beginPath(),e.arc(N.x,L,1.5,0,Math.PI*2),e.fill(),e.beginPath(),e.arc(N.x,d,1.5,0,Math.PI*2),e.fill()}e.restore()},jS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=t.slice(0,16).reduce((B,O)=>B+O,0)/16,v=t.slice(200,256).reduce((B,O)=>B+O,0)/56,r=t.slice(150,200).reduce((B,O)=>B+O,0)/50,u=t.slice(100,150).reduce((B,O)=>B+O,0)/50,E=t.slice(64,100).reduce((B,O)=>B+O,0)/36,f=t.slice(32,64).reduce((B,O)=>B+O,0)/32,y=t.slice(16,32).reduce((B,O)=>B+O,0)/16,S=t.slice(8,16).reduce((B,O)=>B+O,0)/8,k=t.slice(4,8).reduce((B,O)=>B+O,0)/4,N=t.slice(0,4).reduce((B,O)=>B+O,0)/4,j=Math.pow(C/255,1.5)*i,L=Math.pow(v/255,1.2)*i,d=Math.pow(r/255,1.3)*i,I=Math.pow(u/255,1.4)*i,T=Math.pow(E/255,1.3)*i,F=Math.pow(f/255,1.5)*i,w=Math.pow(y/255,1.4)*i,A=Math.pow(S/255,1.6)*i,P=Math.pow(k/255,1.7)*i,V=Math.pow(N/255,1.8)*i,D=[{name:"Sun",radius:25,distance:0,color:"#FFD700",audio:j,speed:.01,glow:!0},{name:"Mercury",radius:8,distance:60,color:"#A0522D",audio:L,speed:.03,glow:!1},{name:"Venus",radius:12,distance:90,color:"#FFA500",audio:d,speed:.025,glow:!1},{name:"Earth",radius:13,distance:130,color:"#4169E1",audio:I,speed:.02,glow:!1},{name:"Mars",radius:10,distance:170,color:"#DC143C",audio:T,speed:.018,glow:!1},{name:"Jupiter",radius:20,distance:220,color:"#DAA520",audio:F,speed:.015,glow:!1},{name:"Saturn",radius:18,distance:280,color:"#F4A460",audio:w,speed:.012,glow:!1},{name:"Uranus",radius:15,distance:340,color:"#40E0D0",audio:A,speed:.01,glow:!1},{name:"Neptune",radius:14,distance:400,color:"#1E90FF",audio:P,speed:.008,glow:!1},{name:"Pluto",radius:6,distance:450,color:"#696969",audio:V,speed:.005,glow:!1}];e.strokeStyle="rgba(255, 255, 255, 0.1)",e.lineWidth=1,D.forEach(B=>{B.distance>0&&(e.beginPath(),e.arc(h,b,B.distance,0,Math.PI*2),e.stroke())}),D.forEach((B,O)=>{if(B.distance>0&&B.audio>.1){const _=o*B.speed+O*Math.PI/5,z=h+Math.cos(_)*B.distance,p=b+Math.sin(_)*B.distance,W=B.radius*2.5+B.audio*20,G=8;e.beginPath();const X=0,ne=z+Math.cos(X)*W,q=p+Math.sin(X)*W;e.moveTo(ne,q);for(let ae=0;ae<=G;ae++){const te=ae/G*Math.PI*2,$=Math.sin(o*.05+ae*.8)*(B.audio*8),K=W+$,fe=z+Math.cos(te)*K,ge=p+Math.sin(te)*K;if(ae!==0)if(ae===G)e.lineTo(ne,q);else{const se=(ae-1)/G*Math.PI*2,oe=W+Math.sin(o*.05+(ae-1)*.8)*(B.audio*8),Se=z+Math.cos(se)*oe,Fe=p+Math.sin(se)*oe,ke=(Se+fe)/2,Ce=(Fe+ge)/2;e.quadraticCurveTo(Se,Fe,ke,Ce)}}const ie=e.createRadialGradient(z,p,0,z,p,W),Z=B.color,H=B.audio*.3;ie.addColorStop(0,ve(Z,H*.8)),ie.addColorStop(.5,ve(Z,H*.4)),ie.addColorStop(1,"transparent"),e.fillStyle=ie,e.fill(),e.strokeStyle=ve(Z,H*.6),e.lineWidth=1,e.stroke()}}),D.forEach((B,O)=>{const _=o*B.speed+O*Math.PI/5,z=h+Math.cos(_)*B.distance,p=b+Math.sin(_)*B.distance,W=1+B.audio*1.5,G=B.radius*W;if(B.glow){const q=e.createRadialGradient(z,p,0,z,p,G*3);q.addColorStop(0,B.color),q.addColorStop(.3,ve(B.color,.8)),q.addColorStop(.7,ve(B.color,.4)),q.addColorStop(1,"transparent"),e.fillStyle=q,e.beginPath(),e.arc(z,p,G*3,0,Math.PI*2),e.fill()}const X=e.createRadialGradient(z,p,0,z,p,G),ne=B.audio>.3?"#FFFFFF":B.color;if(X.addColorStop(0,ne),X.addColorStop(.7,ve(ne,.9)),X.addColorStop(1,ve(ne,.7)),e.fillStyle=X,e.shadowColor=B.color,e.shadowBlur=B.glow?30:15,e.beginPath(),e.arc(z,p,G,0,Math.PI*2),e.fill(),B.name==="Saturn"){const q=e.createRadialGradient(z,p,G,z,p,G*1.8);q.addColorStop(0,"transparent"),q.addColorStop(.3,ve(B.color,.4)),q.addColorStop(.7,ve(B.color,.6)),q.addColorStop(1,"transparent"),e.fillStyle=q,e.beginPath(),e.ellipse(z,p,G*1.8,G*.3,_,0,Math.PI*2),e.fill()}if(B.name==="Earth"){const q=e.createRadialGradient(z,p,G,z,p,G*1.3);q.addColorStop(0,"transparent"),q.addColorStop(.5,ve("#87CEEB",.3)),q.addColorStop(1,"transparent"),e.fillStyle=q,e.beginPath(),e.arc(z,p,G*1.3,0,Math.PI*2),e.fill()}}),e.restore()},AS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=t.slice(0,32).reduce((w,A)=>w+A,0)/32,v=t.slice(32,96).reduce((w,A)=>w+A,0)/64,r=t.slice(96,128).reduce((w,A)=>w+A,0)/32,u=C/255,E=v/255,f=r/255,y=Math.min(n,a)*.5,S=e.createRadialGradient(h,b,0,h,b,y);S.addColorStop(0,ve(s.primary,.08)),S.addColorStop(1,"transparent"),e.fillStyle=S,e.fillRect(0,0,n,a);const k=8;for(let w=0;w<k;w++){const A=w/k*Math.PI*2+o*.015,P=y*.6,V=h+Math.cos(A)*P,D=b+Math.sin(A)*P,B=6+u*4*i,O=w%3===0?s.primary:w%3===1?s.secondary:s.accent;if(e.fillStyle=O,e.shadowColor=O,e.shadowBlur=12,e.beginPath(),e.arc(V,D,B,0,Math.PI*2),e.fill(),w%2===0){const X=B+8+E*8*i,ne=.3;e.strokeStyle=ve(O,ne),e.lineWidth=1.5,e.setLineDash([4,4]),e.beginPath(),e.arc(V,D,X,0,Math.PI*2),e.stroke()}e.setLineDash([]);const z=(w+1)%k/k*Math.PI*2+o*.015,p=h+Math.cos(z)*P,W=b+Math.sin(z)*P,G=.2+f*.3;e.strokeStyle=ve(s.accent,G),e.lineWidth=1,e.setLineDash([2,2]),e.beginPath(),e.moveTo(V,D),e.lineTo(p,W),e.stroke()}e.setLineDash([]);const N=20+u*30*i,j=2;for(let w=0;w<j;w++){const A=N+w*10,P=.6-w*.3,V=w%2===0?s.primary:s.secondary,D=e.createRadialGradient(h,b,0,h,b,A);D.addColorStop(0,ve(V,P)),D.addColorStop(1,"transparent"),e.fillStyle=D,e.shadowColor=V,e.shadowBlur=15,e.beginPath(),e.arc(h,b,A,0,Math.PI*2),e.fill()}const L=4;for(let w=0;w<L;w++){const A=w/L*Math.PI*2+o*.008,P=40+E*60*i,V=2+f*3;e.strokeStyle=ve(s.accent,.5),e.lineWidth=1.5,e.shadowColor=s.accent,e.shadowBlur=8,e.beginPath();for(let D=0;D<n;D+=6){const B=D/n,O=Math.sin(B*V*Math.PI+o*.015)*P,_=h+(D-h)*Math.cos(A)-O*Math.sin(A),z=b+(D-h)*Math.sin(A)+O*Math.cos(A);D===0?e.moveTo(_,z):e.lineTo(_,z)}e.stroke()}const d=32,I=n/d;for(let w=0;w<d;w++){const A=Math.floor(w/d*t.length),P=t[A]/255,V=Math.pow(P,1.3)*a*.25*i;if(V<3)continue;const D=w*I,B=a-V,O=m&&Math.random()>.9?(Math.random()-.5)*4:0,_=m&&Math.random()>.95?Math.random()*8:0;let z;w<d*.33?z=ve(s.primary,.7+P*.2):w<d*.66?z=ve(s.secondary,.7+P*.2):z=ve(s.accent,.7+P*.2),e.fillStyle=z;const p=D+O,W=B,G=V+_;e.fillRect(p,W,I-1,G)}const T=40+u*60*i;for(let w=0;w<T;w++){const A=w/T*Math.PI*2+o*.003,P=30+Math.sin(o*.02+w*.05)*40,V=h+Math.cos(A)*P,D=b+Math.sin(A)*P,B=1.5+E*2*i,O=.6+f*.2;e.fillStyle=ve(s.accent,O),e.shadowColor=s.accent,e.shadowBlur=8,e.beginPath(),e.arc(V,D,B,0,Math.PI*2),e.fill()}const F=6;for(let w=0;w<F;w++){const A=w/F*Math.PI*2+o*.01,P=y*.3+u*40*i;e.strokeStyle=ve(s.primary,.3),e.lineWidth=1.5,e.setLineDash([8,8]),e.beginPath(),e.moveTo(h,b),e.lineTo(h+Math.cos(A)*P,b+Math.sin(A)*P),e.stroke()}e.setLineDash([]),e.restore()},pS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=(he==null?void 0:he.stellarCoreInnerOpacity)??1,v=(he==null?void 0:he.stellarCoreTentaclesOpacity)??1,r=t.slice(0,32).reduce((F,w)=>F+w,0)/32,u=t.slice(32,128).reduce((F,w)=>F+w,0)/96,E=t.slice(128,256).reduce((F,w)=>F+w,0)/128,f=r/255,y=u/255,S=E/255;e.save();const k=4,N=Math.min(n,a)*.5;for(let F=0;F<k;F++){const w=(o+F*20)%100,A=w/100*N,P=Math.max(0,1-w/100)*.8;if(P>.05){const V=(f*.5+y*.3+S*.2)*i,D=m?s.accent:s.primary;e.strokeStyle=ve(D,P*V),e.lineWidth=Math.max(2,6-F*1),e.shadowBlur=15,e.shadowColor=D,e.beginPath(),e.arc(h,b,A,0,Math.PI*2),e.stroke(),F%3===0&&(e.strokeStyle=ve(s.secondary,P*V*.5),e.lineWidth=Math.max(1,3-F*.5),e.shadowBlur=8,e.shadowColor=s.secondary,e.beginPath(),e.arc(h,b,A+3,0,Math.PI*2),e.stroke())}}if(m&&Math.random()>.5)for(let w=0;w<2;w++){const A=(o+w*30)%60,P=A/60*N*.6,V=Math.max(0,1-A/60)*.7;V>.08&&(e.strokeStyle=ve(s.accent,V),e.lineWidth=4,e.shadowBlur=20,e.shadowColor=s.accent,e.beginPath(),e.arc(h,b,P,0,Math.PI*2),e.stroke())}const j=8;for(let F=0;F<j;F++){const w=F/j*Math.PI*2+o*.02,A=Math.min(n,a)*.25,P=h+Math.cos(w)*A,V=b+Math.sin(w)*A,D=t[Math.floor(F/j*t.length)]/255;if(D>.12){const B=D*25*i,O=s.secondary,_=B*2,z=D*.4;z>.08&&(e.strokeStyle=ve(O,z),e.lineWidth=2,e.shadowBlur=8,e.shadowColor=O,e.beginPath(),e.arc(P,V,_,0,Math.PI*2),e.stroke()),e.fillStyle=ve(O,D*1),e.shadowBlur=15,e.shadowColor=O,e.beginPath(),e.arc(P,V,B,0,Math.PI*2),e.fill(),e.shadowBlur=20,e.fillStyle=ve(O,D*.2),e.beginPath(),e.arc(P,V,B*1.3,0,Math.PI*2),e.fill()}}e.save(),e.globalAlpha*=Math.max(0,Math.min(1,v));const L=90,d=Math.min(n,a)*.12;for(let F=0;F<L;F++){const w=Math.floor(F/L*(t.length*.5)),A=Math.pow(t[w]/255,1.5)*120*i;if(A<2)continue;const P=F/L*Math.PI*2,V=h+Math.cos(P)*d,D=b+Math.sin(P)*d,B=h+Math.cos(P)*(d+A),O=b+Math.sin(P)*(d+A),_=d+A/2,z=A/15+Math.sin(o*.03+F*.05)*8,p=h+Math.cos(P)*_,W=b+Math.sin(P)*_+Math.sin(o*.03+F*.05)*z,G=()=>{e.beginPath(),e.moveTo(V,D),e.quadraticCurveTo(p,W,B,O),e.stroke()};if(x&&(e.save(),e.lineWidth=4,e.strokeStyle="rgba(0,0,0,0.6)",e.shadowBlur=0,e.shadowColor="transparent",G(),e.restore()),e.strokeStyle=s.primary,e.shadowColor=s.primary,e.shadowBlur=6,e.lineWidth=3,G(),A>60&&F%30===0){const X=Math.min(12,A*.08),ne=A/120*.5;e.strokeStyle=ve(s.accent,ne),e.lineWidth=1.5,e.shadowBlur=4,e.shadowColor=s.accent,e.beginPath(),e.arc(B,O,X,0,Math.PI*2),e.stroke()}}e.restore(),e.save(),e.globalAlpha*=Math.max(0,Math.min(1,C));const I=Math.min(n,a)*.05+f*40,T=e.createRadialGradient(h,b,0,h,b,I);if(T.addColorStop(0,s.accent),T.addColorStop(.4,s.primary),T.addColorStop(1,"rgba(0, 150, 200, 0)"),e.shadowBlur=30,e.shadowColor=s.primary,e.fillStyle=T,e.beginPath(),e.arc(h,b,I,0,Math.PI*2),e.fill(),m&&Math.random()>.6)for(let w=0;w<3;w++){const A=(o+w*15)%60,P=I+A/60*30,V=Math.max(0,1-A/60)*.6;V>.08&&(e.strokeStyle=ve(s.accent,V),e.lineWidth=3,e.shadowBlur=15,e.shadowColor=s.accent,e.beginPath(),e.arc(h,b,P,0,Math.PI*2),e.stroke())}if(m&&Math.random()>.7)for(let w=0;w<2;w++){const A=(o+w*25)%50,P=I+A/50*40,V=Math.max(0,1-A/50)*.5;V>.08&&(e.strokeStyle=ve(s.accent,V),e.lineWidth=4,e.shadowBlur=20,e.shadowColor=s.accent,e.beginPath(),e.arc(h,b,P,0,Math.PI*2),e.stroke())}e.restore(),e.restore()},LS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=t.slice(0,32).reduce((L,d)=>L+d,0)/32,v=t.slice(32,128).reduce((L,d)=>L+d,0)/96,r=t.slice(128,256).reduce((L,d)=>L+d,0)/128,u=C/255,E=v/255,f=r/255,y=5,S=Math.min(n,a)*.45;for(let L=0;L<y;L++){const d=(o+L*15)%100,I=d/100*S,T=Math.max(0,1-d/100)*.7;if(T>.05){const F=(u*.5+E*.3+f*.2)*i,w=m?s.accent:s.primary;if(e.strokeStyle=ve(w,T*F),e.lineWidth=Math.max(1,4-L*.6),e.shadowBlur=20,e.shadowColor=w,e.beginPath(),e.arc(h,b,I,0,Math.PI*2),e.stroke(),L===0&&m)for(let P=0;P<12;P++){const V=P/12*Math.PI*2,D=I+Math.sin(o*.15+P)*8,B=h+Math.cos(V)*D,O=b+Math.sin(V)*D;e.beginPath(),e.arc(B,O,3,0,Math.PI*2),e.fillStyle=ve(w,T*.9),e.fill()}}}const k=Math.min(n,a)*.08+u*40,N=e.createRadialGradient(h,b,0,h,b,k);N.addColorStop(0,s.accent),N.addColorStop(.4,s.primary),N.addColorStop(1,"rgba(0, 150, 200, 0)"),e.shadowBlur=50,e.shadowColor=s.primary,e.fillStyle=N,e.beginPath(),e.arc(h,b,k,0,Math.PI*2),e.fill();const j=8;for(let L=0;L<j;L++){const d=L/j*Math.PI*2+o*.02,I=Math.min(n,a)*.25,T=h+Math.cos(d)*I,F=b+Math.sin(d)*I,w=t[Math.floor(L/j*t.length)]/255;if(w>.1){const A=w*20*i,P=s.secondary;e.fillStyle=ve(P,w*.8),e.shadowBlur=15,e.shadowColor=P,e.beginPath(),e.arc(T,F,A,0,Math.PI*2),e.fill()}}e.restore()},_S=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=Math.min(n,a)*.22,v=C+n*.015,r=(u,E,f,y,S,k,N)=>{const j=m?s.accent:s.primary;for(let L=0;L<E;L++){const d=Math.floor(y+L/E*(S-y)),I=Math.pow(t[d]/255,2)*f*i;if(I<1)continue;const T=L/E*Math.PI*2-Math.PI/2,F=h+Math.cos(T)*u,w=b+Math.sin(T)*u,A=h+Math.cos(T)*(u+I*k),P=b+Math.sin(T)*(u+I*k),V=()=>{e.beginPath(),e.moveTo(F,w),e.lineTo(A,P),e.stroke()};x&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=N+2,e.shadowBlur=0,e.shadowColor="transparent",V(),e.restore()),e.strokeStyle=j,e.shadowBlur=10,e.shadowColor=j,e.lineWidth=N,V()}};r(C,128,Math.min(n,a)*.08,0,64,-1,2),r(v,128,Math.min(n,a)*.28,100,t.length/4,1,2),e.restore()},BS=(e,t,n,a,o,i,s,c,m)=>{if(!t)return;e.save();const x=n/2,h=a/2,b=t.slice(0,16).reduce((d,I)=>d+I,0)/16,C=t.slice(16,64).reduce((d,I)=>d+I,0)/48,v=t.slice(64,128).reduce((d,I)=>d+I,0)/64,r=b/255,u=C/255,E=v/255,f=6+Math.floor(u*2*i),S=Math.min(n,a)*.15+r*80*i;for(let d=0;d<f;d++){const I=d/f*Math.PI*2+o*.008,T=d%2===0?s.primary:s.secondary,F=x+Math.cos(I)*15,w=h+Math.sin(I)*15,A=x+Math.cos(I)*S,P=h+Math.sin(I)*S,V=F+Math.cos(I+.2)*S*.4,D=w+Math.sin(I+.2)*S*.4,B=F+Math.cos(I-.2)*S*.4,O=w+Math.sin(I-.2)*S*.4,_=4+u*6*i,z=e.createLinearGradient(F,w,A,P);z.addColorStop(0,ve(T,.8)),z.addColorStop(.5,ve(T,.6)),z.addColorStop(1,ve(T,.3)),e.strokeStyle=z,e.lineWidth=_,e.lineCap="round",e.shadowColor=T,e.shadowBlur=8+r*8*i,e.beginPath(),e.moveTo(F,w),e.bezierCurveTo(V,D,B,O,A,P),e.stroke()}const k=20+r*40*i,N=e.createRadialGradient(x,h,0,x,h,k);N.addColorStop(0,s.accent),N.addColorStop(.6,s.primary),N.addColorStop(1,"transparent"),e.fillStyle=N,e.shadowColor=s.accent,e.shadowBlur=15+r*10*i,e.beginPath(),e.arc(x,h,k,0,Math.PI*2),e.fill();const j=2+Math.floor(u*i);for(let d=0;d<j;d++){const I=k+20+d*15+r*20*i,T=o*(.015+d*.008),F=.5-d*.2+E*.1;e.strokeStyle=ve(s.accent,F),e.lineWidth=2+u*i,e.setLineDash([10,10]);const w=4+Math.floor(u*2*i);for(let A=0;A<w;A++){const P=A/w*Math.PI*2+T,V=(A+1)/w*Math.PI*2+T;e.beginPath(),e.arc(x,h,I,P,V),e.stroke()}}e.setLineDash([]);const L=8+E*20*i;for(let d=0;d<L;d++){const I=d/L*Math.PI*2+o*.003,T=60+Math.sin(o*.02+d*.1)*30+r*20*i,F=x+Math.cos(I)*T,w=h+Math.sin(I)*T,A=2+u*4*i,P=e.createRadialGradient(F,w,0,F,w,A);P.addColorStop(0,s.accent),P.addColorStop(1,"transparent"),e.fillStyle=P,e.shadowColor=s.accent,e.shadowBlur=8+u*5*i,e.beginPath(),e.arc(F,w,A,0,Math.PI*2),e.fill()}m&&Math.random()>.6&&(e.fillStyle=ve(s.primary,.2),e.beginPath(),e.arc(x,h,k*1.5,0,Math.PI*2),e.fill()),e.restore()},DS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=a/2,b=new Path2D,C=n/(t.length*.5);let v=0;for(let r=0;r<t.length*.5;r++){const u=Math.pow(t[r]/255,1.5)*a*.3*i,E=h+u;r===0?b.moveTo(v,E):b.lineTo(v,E),v+=C}x&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(b),e.restore(),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=10,e.stroke(b)),e.fillStyle="rgba(0, 0, 0, 0.1)";for(let r=0;r<a;r+=12)e.fillRect(0,r,n,1);if(m&&Math.random()>.6){const r=Math.floor(Math.random()*3)+1;for(let u=0;u<r;u++){const E=Math.random()*a,f=Math.random()*a/15+3,y=0,S=n,k=(Math.random()-.5)*25,N=E;try{e.drawImage(e.canvas,y,E,S,f,k,N,S,f)}catch{}}}e.restore()},zS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=a/2,b=(C,v=0,r=0,u)=>{e.strokeStyle=C,u&&(e.lineWidth=u),e.beginPath();const E=n/(t.length*.5);let f=0;for(let y=0;y<t.length*.5;y++){const S=Math.pow(t[y]/255,1.5)*a*.3*i,k=h+S+r;y===0?e.moveTo(f,k):e.lineTo(f,k),f+=E}e.stroke()};if(e.globalCompositeOperation="source-over",x){if(m&&Math.random()>.5){e.globalCompositeOperation="lighter";const v=6;b("rgba(255, 0, 100, 0.5)",(Math.random()-.5)*v,0,2),b("rgba(0, 255, 255, 0.5)",(Math.random()-.5)*v,0,2)}e.globalCompositeOperation="source-over",e.save(),e.shadowBlur=0,e.shadowColor="transparent",b("rgba(0,0,0,0.7)",0,0,4.5),e.restore(),e.shadowColor=s.primary,e.shadowBlur=10,b(s.primary,0,0,2.5)}e.fillStyle="rgba(0, 0, 0, 0.15)";for(let C=0;C<a;C+=8)e.fillRect(0,C,n,1);if(m&&Math.random()>.7){const C=Math.floor(Math.random()*2)+1;for(let v=0;v<C;v++){const r=Math.random()*n*.8,u=Math.random()*a*.8,E=Math.random()*n*.2+8,f=Math.random()*a*.08+3,y=r+(Math.random()-.5)*30,S=u+(Math.random()-.5)*15;try{e.drawImage(e.canvas,r,u,E,f,y,S,E,f)}catch{}}}e.restore()},wg=(e,t,n,a,o,i,s,c,m,x,h)=>{e.save();const b=n/2,C=a/2,v=8,r=.015,u=Math.sin(o*r)*v+Math.sin(o*r*1.3)*v*.5,E=Math.cos(o*r*.8)*v+Math.sin(o*r*1.7)*v*.3;if(h!=null&&h.backgroundImage){const _=new Image;if(_.crossOrigin="anonymous",_.src=h.backgroundImage,_.complete&&_.naturalWidth>0){const z=_.naturalWidth/_.naturalHeight,p=n/a;let W,G;z>p?(W=n+v*4,G=W/z):(G=a+v*4,W=G*z),W<n+v*4&&(W=n+v*4,G=W/z),G<a+v*4&&(G=a+v*4,W=G*z);const X=b-W/2+u,ne=C-G/2+E;e.drawImage(_,X,ne,W,G)}}const f=a*.4,y=C-f/2,S=typeof(h==null?void 0:h.photoShakeOverlayOpacity)=="number"?h.photoShakeOverlayOpacity:.4;e.fillStyle=`rgba(0, 0, 0, ${S})`,e.fillRect(0,y,n,f);const k=(h==null?void 0:h.photoShakeSongTitle)||"",N=(h==null?void 0:h.photoShakeSubtitle)||"",L=typeof(h==null?void 0:h.photoShakeFontSize)=="number"?h.photoShakeFontSize:60;e.fillStyle="#FFFFFF",e.strokeStyle="#000000",e.lineWidth=3;const d=L;e.font=`bold ${d}px "${un[(h==null?void 0:h.photoShakeFontFamily)||g.POPPINS]}", "Noto Sans TC", sans-serif`,e.textAlign="center",e.textBaseline="middle",e.strokeText(k,b,y+f*.15),e.fillText(k,b,y+f*.15),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillText(k,b+2,y+f*.15+2),e.fillStyle="#FFFFFF",e.fillText(k,b,y+f*.15),e.fillStyle="#FFFFFF",e.strokeStyle="#000000",e.lineWidth=2,e.font=`${L*.6}px "${un[(h==null?void 0:h.photoShakeFontFamily)||g.POPPINS]}", "Noto Sans TC", sans-serif`,e.strokeText(N,b,y+f*.45),e.fillText(N,b,y+f*.45),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillText(N,b+1,y+f*.45+1),e.fillStyle="#FFFFFF",e.fillText(N,b,y+f*.45);const I=6,T=3,F=f*.3,w=n*.4,A=Math.floor(w/(I+T)),P=b-w/2,V=y+f*.7;h!=null&&h.photoShakeDecaySpeed,window.photoShakeAmplitudes||(window.photoShakeAmplitudes=new Array(A).fill(0)),e.strokeStyle=s.primary||"#67E8F9",e.lineWidth=2,e.beginPath(),e.moveTo(P,V),e.lineTo(P+w,V),e.stroke(),t&&Math.min(t.length*.8,A);const D=Math.floor(A/2),B=[],O=(_,z,p)=>{if(!t)return 0;const W=t.length,G=Math.max(0,Math.min(W-1,Math.floor(z*W))),X=Math.max(G+1,Math.min(W,Math.floor(p*W))),ne=G+Math.floor(_*(X-G-1));return t[ne]/255};for(let _=0;_<D;_++){const z=_/(D-1),p=O(z,.05,.35),W=Math.max(0,p-.2),G=Math.pow(W,1.2)*F*i*2.4;B.push(G)}for(let _=0;_<D;_++){const z=P+_*(I+T),p=B[_];if(p>0){let W,G;if(s.name===Ie.RAINBOW){const[ne,q]=s.hueRange,ie=q-ne,Z=ne+_/D*ie;W=`hsl(${Z}, 70%, 60%)`,G=`hsl(${Z}, 80%, 70%)`}else W=s.primary||"#FFFFFF",G=s.accent||s.primary||"#FFFFFF";const X=e.createLinearGradient(z,V,z,V+p);if(s.name===Ie.RAINBOW){const[ne,q]=s.hueRange,ie=q-ne,Z=ne+_/D*ie;X.addColorStop(0,`hsl(${Z}, 80%, 70%)`),X.addColorStop(.5,`hsl(${Z}, 70%, 60%)`),X.addColorStop(1,`hsl(${Z}, 60%, 50%)`)}else X.addColorStop(0,G),X.addColorStop(.5,W),X.addColorStop(1,W);e.fillStyle=X,e.shadowColor=G,e.shadowBlur=8,e.fillRect(z,V,I,p),e.shadowBlur=0,e.shadowColor="transparent"}}for(let _=0;_<=D;_++){const z=D-1-_,p=B[Math.max(0,z)],W=P+(D+_)*(I+T);if(W+I<=P+w&&p>0){const G=D+_;let X,ne;if(s.name===Ie.RAINBOW){const[ie,Z]=s.hueRange,H=Z-ie,ae=ie+G/A*H;X=`hsl(${ae}, 70%, 60%)`,ne=`hsl(${ae}, 80%, 70%)`}else X=s.primary||"#FFFFFF",ne=s.accent||s.primary||"#FFFFFF";const q=e.createLinearGradient(W,V,W,V+p);if(s.name===Ie.RAINBOW){const[ie,Z]=s.hueRange,H=Z-ie,ae=ie+G/A*H;q.addColorStop(0,`hsl(${ae}, 80%, 70%)`),q.addColorStop(.5,`hsl(${ae}, 70%, 60%)`),q.addColorStop(1,`hsl(${ae}, 60%, 50%)`)}else q.addColorStop(0,ne),q.addColorStop(.5,X),q.addColorStop(1,X);e.fillStyle=q,e.shadowColor=ne,e.shadowBlur=8,e.fillRect(W,V,I,p),e.shadowBlur=0,e.shadowColor="transparent"}}e.shadowBlur=0,e.shadowColor="transparent",e.restore()},Tg=(e,t,n,a,o,i,s,c,m,x,h)=>{e.save();const b=n/2,C=a/2,v=Math.min(n,a)*.25;if(h!=null&&h.circularWaveImage){const Z=Au("circularWave",h.circularWaveImage);if(Z&&Z.complete&&Z.naturalWidth>0){e.save(),e.beginPath(),e.arc(b,C,v,0,Math.PI*2),e.clip();const H=Z.naturalWidth/Z.naturalHeight,ae=v*2;let ee=ae,te=ae;H>1?(te=ae,ee=ae*H):H<1?(ee=ae,te=ae/H):(ee=ae,te=ae),e.drawImage(Z,b-ee/2,C-te/2,ee,te),e.restore()}}const r=-30*Math.PI/180,u=15,E=v*.3*10,f=5,y=v*.02,S=3,k=(Z,H,ae)=>{if(!t)return 0;const ee=t.length,te=Math.max(0,Math.min(ee-1,Math.floor(H*ee))),$=Math.max(te+1,Math.min(ee,Math.floor(ae*ee))),K=te+Math.floor(Z*($-te-1));return t[K]/255};e.strokeStyle=s.primary||"#FFFFFF",e.lineWidth=f,e.shadowColor=s.accent||s.primary||"#FFFFFF",e.shadowBlur=8;const N=(Z,H)=>s.name===Ie.RAINBOW?`hsl(${Z/H*360}, 90%, 60%)`:s.name===Ie.WHITE?"#FFFFFF":s.primary||"#FFFFFF",j=(Z,H)=>s.name===Ie.RAINBOW?`hsl(${Z/H*360}, 100%, 80%)`:s.accent||s.primary||"#FFFFFF",L=[];for(let Z=0;Z<u;Z++){const H=Z/(u-1),ae=k(H,.05,.35),ee=Math.max(0,ae-.2),te=Math.pow(ee,1.2)*E*i*1.5;L.push(te)}const d=[...L],I=[...d].reverse(),T=[...L].reverse(),F=(Z,H,ae,ee)=>{for(let te=0;te<u;te++){const $=te/(u-1),K=Z+$*(H-Z)+r,fe=ae[te],ge=b+Math.cos(K)*v,se=C+Math.sin(K)*v,oe=te+ee*u,Se=u*4;if(fe<y)e.fillStyle=N(oe,Se),e.beginPath(),e.arc(ge,se,S/2,0,Math.PI*2),e.fill();else{const Fe=b+Math.cos(K)*(v+fe),ke=C+Math.sin(K)*(v+fe);e.strokeStyle=N(oe,Se),e.shadowColor=j(oe,Se),e.beginPath(),e.moveTo(ge,se),e.lineTo(Fe,ke),e.stroke()}}};F(-Math.PI/2,0,L,0),F(-Math.PI,-Math.PI/2,d,1),F(Math.PI/2,Math.PI,I,2),F(0,Math.PI/2,T,3);const w=f,A=4,P=a*.35,V=n*.5,D=P*.05,B=Math.floor(V/(w+A)),O=Math.floor(B/2),_=C,z=v*.1,p=b-v-z-V,W=b-v-z,G=b+v+z,X=b+v+z+V,ne=[];for(let Z=0;Z<O;Z++){const H=Z/(O-1),ae=k(H,.05,.35),ee=Math.max(0,ae-.2),te=Math.max(D,Math.pow(ee,1.2)*P*i*2.4);ne.push(te)}const q=(W-p)/O;for(let Z=0;Z<O;Z++){const H=p+Z*q,ae=ne[Z];let ee;if(s.name===Ie.RAINBOW){const te=Z/O*360,$=`hsl(${te}, 90%, 60%)`,K=`hsl(${(te+40)%360}, 100%, 80%)`;ee=e.createLinearGradient(H,_-ae,H,_+ae),ee.addColorStop(0,K),ee.addColorStop(.5,$),ee.addColorStop(1,$),e.shadowColor=K}else{const te=s.primary||"#FFFFFF",$=s.accent||s.primary||"#FFFFFF";ee=e.createLinearGradient(H,_-ae,H,_+ae),ee.addColorStop(0,$),ee.addColorStop(.5,te),ee.addColorStop(1,te),e.shadowColor=$}e.fillStyle=ee,e.shadowBlur=8,e.fillRect(H,_-ae,w,ae*2)}const ie=(X-G)/O;for(let Z=0;Z<O;Z++){const H=O-1-Z,ae=ne[Math.max(0,H)],ee=G+Z*ie;let te;if(s.name===Ie.RAINBOW){const $=H/O*360,K=`hsl(${$}, 90%, 60%)`,fe=`hsl(${($+40)%360}, 100%, 80%)`;te=e.createLinearGradient(ee,_-ae,ee,_+ae),te.addColorStop(0,fe),te.addColorStop(.5,K),te.addColorStop(1,K),e.shadowColor=fe}else{const $=s.primary||"#FFFFFF",K=s.accent||s.primary||"#FFFFFF";te=e.createLinearGradient(ee,_-ae,ee,_+ae),te.addColorStop(0,K),te.addColorStop(.5,$),te.addColorStop(1,$),e.shadowColor=K}e.fillStyle=te,e.shadowBlur=8,e.fillRect(ee,_-ae,w,ae*2)}e.shadowBlur=0,e.shadowColor="transparent",e.restore()},Og=(e,t,n,a,o,i,s,c,m,x,h)=>{e.save();const b=n/2,C=a*.175,v=0,r=(h==null?void 0:h.blurredEdgeSinger)||"",u=(h==null?void 0:h.blurredEdgeSongTitle)||"",E=typeof(h==null?void 0:h.blurredEdgeBgOpacity)=="number"?h.blurredEdgeBgOpacity:.5,f=(h==null?void 0:h.blurredEdgeTextColor)||"#FFFFFF",y=(h==null?void 0:h.blurredEdgeFontFamily)||g.POPPINS,S=typeof(h==null?void 0:h.blurredEdgeFontSize)=="number"?h.blurredEdgeFontSize:40;E>0&&(r||u)&&(e.fillStyle=`rgba(0, 0, 0, ${E})`,e.fillRect(0,v,n,C)),(r||u)&&(e.fillStyle=f,e.strokeStyle="rgba(0, 0, 0, 1)",e.textAlign="center",e.textBaseline="middle",e.lineWidth=S*.1,r&&(e.font=`bold ${S}px "${un[y]}", "Noto Sans TC", sans-serif`,e.strokeText(r,b,C*.35),e.fillText(r,b,C*.35)),u&&(e.font=`bold ${S}px "${un[y]}", "Noto Sans TC", sans-serif`,e.strokeText(u,b,C*.65),e.fillText(u,b,C*.65)));const k=C+a*.025,N=a*.005,j=e.createLinearGradient(0,k,0,k+N);j.addColorStop(0,"rgba(220, 200, 180, 0.9)"),j.addColorStop(.5,"rgba(240, 220, 200, 1.0)"),j.addColorStop(1,"rgba(200, 180, 160, 0.9)"),e.fillStyle=j,e.fillRect(0,k,n,N),e.fillStyle="rgba(255, 255, 255, 0.3)",e.fillRect(0,k,n,N*.3);const d=k+N-a*.01,T=(a-d)*.35;if(t){const w=n/40,A=w*.1,P=w-A,V=O=>{const _=O/40,z=t.length,p=Math.floor(_*z*.8);return(t[p]||0)/255};let D,B;s.name===Ie.RAINBOW?(D="hsl(50, 100%, 60%)",B="hsl(55, 100%, 80%)"):(D=s.accent||s.primary||"#FFD700",B=s.accent||s.primary||"#FFEB3B");for(let O=0;O<40;O++){const _=O*w+A/2,z=V(O),p=.2,W=1,G=Math.min(W,p+(W-p)*Math.pow(z,.8)*i*1.5),X=d,ne=X+T,q=e.createLinearGradient(_,X,_,ne);q.addColorStop(0,ve(B,0)),q.addColorStop(.1,ve(B,.3*G)),q.addColorStop(.2,ve(D,.6*G)),q.addColorStop(.4,ve(D,G)),q.addColorStop(.5,ve(D,G)),q.addColorStop(.6,ve(D,G)),q.addColorStop(.8,ve(D,.6*G)),q.addColorStop(.9,ve(D,.3*G)),q.addColorStop(1,ve(D,0)),e.fillStyle=q,e.shadowColor=ve(B,G),e.shadowBlur=15;const ie=Math.min(P/4,4);tn(e,_,X,P,T,ie),e.fill(),e.shadowBlur=0}}e.restore()},Ig=(e,t,n,a,o,i,s,c,m,x,h)=>{e.save();const b=n/2,C=typeof(h==null?void 0:h.keYeCustomV2BoxOpacity)=="number"?h.keYeCustomV2BoxOpacity:.5,v=(h==null?void 0:h.keYeCustomV2BoxColor)||"#FFFFFF",r=(h==null?void 0:h.keYeCustomV2VisualizerColor)||"#FFFFFF",u=(h==null?void 0:h.keYeCustomV2Text1)||"",E=(h==null?void 0:h.keYeCustomV2Text2)||"",f=(h==null?void 0:h.keYeCustomV2Text1Font)||g.POPPINS,y=(h==null?void 0:h.keYeCustomV2Text2Font)||g.POPPINS,S=typeof(h==null?void 0:h.keYeCustomV2Text1Size)=="number"?h.keYeCustomV2Text1Size:40,k=typeof(h==null?void 0:h.keYeCustomV2Text2Size)=="number"?h.keYeCustomV2Text2Size:30,N=(h==null?void 0:h.keYeCustomV2Text1Color)||"#000000",j=(h==null?void 0:h.keYeCustomV2Text2Color)||"#000000",L=(h==null?void 0:h.keYeCustomV2Text1Effect)||U.NONE,d=(h==null?void 0:h.keYeCustomV2Text2Effect)||U.NONE,I=(h==null?void 0:h.keYeCustomV2Text1StrokeColor)||"#FFFFFF",T=(h==null?void 0:h.keYeCustomV2Text2StrokeColor)||"#FFFFFF",F=n*.8,w=a*.2,A=b-F/2,P=a-w-a*.05,V=w/2;e.fillStyle=ve(v,C),e.beginPath(),e.moveTo(A+V,P),e.lineTo(A+F-V,P),e.arcTo(A+F,P,A+F,P+V,V),e.lineTo(A+F,P+w-V),e.arcTo(A+F,P+w,A+F-V,P+w,V),e.lineTo(A+V,P+w),e.arcTo(A,P+w,A,P+w-V,V),e.lineTo(A,P+V),e.arcTo(A,P,A+V,P,V),e.closePath(),e.fill(),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.lineWidth=2,e.stroke(),e.strokeStyle="rgba(255, 255, 255, 1)",e.lineWidth=2;const D=2;e.beginPath(),e.moveTo(A-D+V,P-D),e.lineTo(A+F+D-V,P-D),e.arcTo(A+F+D,P-D,A+F+D,P-D+V,V),e.lineTo(A+F+D,P+w+D-V),e.arcTo(A+F+D,P+w+D,A+F+D-V,P+w+D,V),e.lineTo(A-D+V,P+w+D),e.arcTo(A-D,P+w+D,A-D,P+w+D-V,V),e.lineTo(A-D,P-D+V),e.arcTo(A-D,P-D,A-D+V,P-D,V),e.closePath(),e.stroke(),e.textAlign="center",e.textBaseline="middle";const B=(G,X,ne,q,ie,Z,H,ae)=>{if(!G)return;e.save();const ee=un[ie]||"Poppins",te=H===U.BOLD?"900":"800";if(e.font=`${te} ${q}px "${ee}", "Noto Sans TC", sans-serif`,e.fillStyle=Z,e.textAlign="center",e.textBaseline="middle",e.lineJoin="round",e.miterLimit=2,H===U.NEON?(e.shadowColor=Z,e.shadowBlur=18):H===U.SHADOW&&(e.shadowColor="rgba(0,0,0,0.6)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4),H===U.OUTLINE&&(e.strokeStyle=ae,e.lineWidth=Math.max(2,q/18),e.strokeText(G,X,ne)),H===U.FAUX_3D){const $=Math.max(1,Math.floor(q/28));e.fillStyle="rgba(0,0,0,0.35)";for(let K=1;K<=$;K++)e.fillText(G,X+K,ne+K);e.fillStyle=Z}if(e.fillText(G,X,ne),H===U.GLITCH&&m){const $=Math.max(2,q/20),K=(Math.random()-.5)*$,fe=(Math.random()-.5)*$;e.globalCompositeOperation="lighter",e.fillStyle="rgba(255,0,0,0.55)",e.fillText(G,X+K,ne+fe),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(G,X-K,ne-fe),e.globalCompositeOperation="source-over"}e.restore()};if(u){const G=P+w*.2;B(u,b,G,S,f,N,L,I)}if(E){const G=P+w*.6;B(E,b,G,k,y,j,d,T)}const O=w*.25;let _=P+w-O-w*.03;_=Math.max(0,Math.min(_,a-O));const z=65,p=A+z,W=F-z*2;if(t){const X=W/40,ne=X*.1,q=X-ne,ie=O*.8,Z=ae=>{const ee=ae/40,te=t.length,$=Math.floor(ee*te*.8);return(t[$]||0)/255};let H;if(s.name===Ie.RAINBOW){const[ae,ee]=s.hueRange,te=ee-ae;H=`hsl(${ae+o*.5%te}, 70%, 50%)`}else H=r.trim()?r:s.accent||s.primary||"#000000";for(let ae=0;ae<40;ae++){const ee=p+ae*X+ne/2,te=Z(ae),$=Math.pow(te,1.5)*ie*i*2,fe=Math.max(3,$),ge=_+O-fe;if(ee+q>p+W||ee<p)continue;if(s.name===Ie.RAINBOW){const[oe,Se]=s.hueRange,Fe=Se-oe;H=`hsl(${oe+ae/40*Fe}, 70%, 50%)`}e.fillStyle=H;const se=Math.min(q/4,2);tn(e,ee,ge,q,fe,se),e.fill()}}else{const X=W/40,ne=X*.1,q=X-ne,ie=3;let Z;if(s.name===Ie.RAINBOW){const[H,ae]=s.hueRange,ee=ae-H;Z=`hsl(${H+o*.5%ee}, 70%, 50%)`}else Z=r.trim()?r:s.accent||s.primary||"#000000";e.fillStyle=Z;for(let H=0;H<40;H++){const ae=p+H*X+ne/2+q/2,ee=_+O-ie/2;if(!(ae+ie/2>p+W)&&!(ae-ie/2<p)){if(s.name===Ie.RAINBOW){const[te,$]=s.hueRange,K=$-te;Z=`hsl(${te+H/40*K}, 70%, 50%)`,e.fillStyle=Z}e.beginPath(),e.arc(ae,ee,ie/2,0,Math.PI*2),e.fill()}}}e.restore()},VS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=a/2,b=n/2,C=a*.4,v=20,r=8,u=t.some(j=>j>0),E=h,f=Math.floor(n/(r+v)),y=j=>{e.fillStyle="rgba(255, 255, 255, 0.9)",e.beginPath(),e.arc(j,E,r/2,0,Math.PI*2),e.fill()},S=t.length*.6,k=(j,L,d,I)=>{if(d<1)return;let T;if(s.name===Ie.WHITE){const P=70+Math.sin(I*.3+o*.02)*10;T=`hsla(${220+Math.sin(I*.2)*20}, 15%, ${P}%, 0.9)`}else{const[P,V]=s.hueRange,D=V-P,B=P+I/f*D,O=70+Math.sin(I*.2+o*.01)*20,_=50+Math.sin(I*.15+o*.015)*15;T=`hsla(${B}, ${O}%, ${_}%, 0.9)`}e.fillStyle=T,e.shadowColor=T,e.shadowBlur=8;const F=j-r/2;tn(e,F,L,r,d,2),e.fill()},N=Math.floor(f/2);for(let j=0;j<N;j++){const L=j*(r+v)+r/2,d=Math.floor(j/N*S),I=t[d]/255;let T;if(u&&I>.01){if(T=Math.pow(I,1.8)*C*i,T<3)continue}else{const w=C*.03,A=Math.sin(o*.02+j*.15)*.03+1;T=w*A}k(L,E-T,T,j),k(L,E,T,j),y(L);const F=n-L;k(F,E-T,T,f-j-1),k(F,E,T,f-j-1),y(F)}for(let j=0;j<N;j++){const L=b+j*(r+v)+r/2,d=Math.floor((N-j-1)/N)*S,I=t[d]/255;let T;if(u&&I>.01){if(T=Math.pow(I,1.8)*C*i,T<3)continue}else{const w=C*.03,A=Math.sin(o*.02+j*.15)*.03+1;T=w*A}k(L,E-T,T,N+j),k(L,E,T,N+j),y(L);const F=b-j*(r+v)-r/2;k(F,E-T,T,N-j-1),k(F,E,T,N-j-1),y(F)}e.restore()},YS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=a*.62,b=1.6,C=Math.max(5,Math.floor(n/240)),v=Math.floor(n/C);To.length!==v&&(To=new Array(v).fill(0),Ds=performance.now()/1e3);const r=performance.now()/1e3,u=Math.max(0,r-Ds);Ds=r;const E=Math.exp(-u/kS),f=s.primary||"#FFD700",y=s.secondary||f,S=Math.floor(t.length*.05),k=Math.floor(t.length*.45),N=Math.max(1,k-S),j=a*.1,L=2;e.globalAlpha=.85,e.fillStyle=ve(f,.85);for(let d=0;d<v;d++){const I=d*C+C*.5;e.beginPath(),e.arc(I,h,b,0,Math.PI*2),e.fill()}e.globalAlpha=1,e.lineWidth=2,e.lineCap="round",e.shadowBlur=14,e.shadowColor=y,e.strokeStyle=ve(f,.9);for(let d=0;d<v;d++){const I=d/Math.max(1,v-1),T=S+Math.floor(I*N),F=t[Math.min(t.length-1,T)]/255,w=Math.pow(Math.max(0,F-.03),2.2),A=Math.min(j,w*j*i*2.2),P=To[d]||0;To[d]=A>P?A:P*E;const V=To[d];if(V<L)continue;const D=d*C+C*.5,B=V,O=V*.35;e.beginPath(),e.moveTo(D,h-B),e.lineTo(D,h+O),e.stroke()}e.restore()},US=(e,t,n,a,o,i,s,c,m,x)=>{if(t&&(Ng(e,t,n,a,o,i,s,c,m,x),m)){e.save(),Math.random()>.7&&(e.filter=`hue-rotate(${(Math.random()-.5)*30}deg) saturate(${1.2+Math.random()*.3})`);const h=Math.floor(Math.random()*3)+1;for(let b=0;b<h;b++){const C=Math.random()*n*.8,v=Math.random()*a*.8,r=Math.random()*n*.15+8,u=Math.random()*a*.08+4,E=C+(Math.random()-.5)*20,f=v;try{e.drawImage(e.canvas,C,v,r,u,E,f,r,u)}catch{}}e.restore()}},Ha={imageData:null,framesLeft:0},HS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=t.slice(0,32).reduce((I,T)=>I+T,0)/32,v=t.slice(32,96).reduce((I,T)=>I+T,0)/64,r=t.slice(96,128).reduce((I,T)=>I+T,0)/32,u=C/255,E=v/255,f=r/255;Ha.framesLeft>0&&Ha.imageData&&o%3===0&&(e.globalAlpha=.2,e.putImageData(Ha.imageData,0,0),Ha.framesLeft--,e.globalAlpha=1);const y=(I,T,F)=>{e.strokeStyle=F,e.lineWidth=2,e.shadowColor=F,e.shadowBlur=8,e.beginPath();for(let w=0;w<n;w+=4){const A=w/n,P=o*.01,V=Math.sin(A*T*Math.PI+P)*I,D=b+V;w===0?e.moveTo(w,D):e.lineTo(w,D)}e.stroke()},S=a*.12*i;y(S*u,2,s.primary);const k=64,N=n/k;for(let I=0;I<k;I++){const T=Math.floor(I/k*t.length),F=t[T]/255,w=Math.pow(F,1.5)*a*.3*i;if(w<4)continue;const A=I*N,P=a-w,V=m&&Math.random()>.85?(Math.random()-.5)*8:0,D=m&&Math.random()>.9?(Math.random()-.5)*10:0;I<k*.33?ve(s.primary,.7+F*.3):I<k*.66?ve(s.secondary,.7+F*.3):ve(s.accent,.7+F*.3);const B=I/k*60-30,O=80+F*20,_=50+F*30,z=`hsla(${200+B+o*.5%360}, ${O}%, ${_}%, ${.8+F*.2})`;e.fillStyle=z;const p=A+V,W=P+D,G=Math.min(N*.3,w*.2);if(e.beginPath(),e.moveTo(p+G,W),e.lineTo(p+N-G,W),e.quadraticCurveTo(p+N,W,p+N,W+G),e.lineTo(p+N,W+w-G),e.quadraticCurveTo(p+N,W+w,p+N-G,W+w),e.lineTo(p+G,W+w),e.quadraticCurveTo(p,W+w,p,W+w-G),e.lineTo(p,W+G),e.quadraticCurveTo(p,W,p+G,W),e.closePath(),e.fill(),e.shadowColor=z,e.shadowBlur=3,e.fill(),e.shadowBlur=0,m&&Math.random()>.92){e.fillStyle="#FF00FF";const X=1,ne=W+Math.random()*w;e.beginPath(),e.moveTo(p+G,ne),e.lineTo(p+N-G,ne),e.quadraticCurveTo(p+N,ne,p+N,ne+G),e.lineTo(p+N,ne+X-G),e.quadraticCurveTo(p+N,ne+X,p+N-G,ne+X),e.lineTo(p+G,ne+X),e.quadraticCurveTo(p,ne+X,p,ne+X-G),e.lineTo(p,ne+G),e.quadraticCurveTo(p,ne,p+G,ne),e.closePath(),e.fill()}}const j=30+u*50*i;e.fillStyle=s.primary,e.shadowColor=s.accent,e.shadowBlur=20,e.beginPath(),e.arc(h,b,j,0,Math.PI*2),e.fill();const L=2;for(let I=0;I<L;I++){const T=j+20+I*15,F=o*(.02+I*.01),w=.4-I*.2;e.strokeStyle=ve(s.accent,w),e.lineWidth=2;const A=8;for(let P=0;P<A;P++){const V=P/A*Math.PI*2+F,D=(P+1)/A*Math.PI*2+F;e.beginPath(),e.arc(h,b,T,V,D),e.stroke()}}const d=20+u*40*i;for(let I=0;I<d;I++){const T=I/d*Math.PI*2+o*.005,F=50+Math.sin(o*.01+I*.1)*20,w=h+Math.cos(T)*F,A=b+Math.sin(T)*F,P=1.5+E*3*i,V=.5+f*.3;e.fillStyle=ve(s.accent,V),e.beginPath(),e.arc(w,A,P,0,Math.PI*2),e.fill()}if(o%2===0){e.strokeStyle=ve(s.primary,.08),e.lineWidth=1;for(let I=0;I<a;I+=8)e.beginPath(),e.moveTo(0,I),e.lineTo(n,I),e.stroke()}if(m&&Math.random()>.85)try{Ha.imageData=e.getImageData(0,0,n,a),Ha.framesLeft=3+Math.floor(Math.random()*5)}catch{}e.restore()},WS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=a/2;e.globalCompositeOperation="lighter";const b=m?15:5,C=(E,f)=>{e.strokeStyle=E,e.lineWidth=2,e.beginPath();const y=n/(t.length*.5);let S=0;for(let k=0;k<t.length*.5;k++){const N=Math.pow(t[k]/255,1.5)*a*.3*i;e.lineTo(S,h+N+(Math.random()-.5)*f),S+=y}e.stroke()};C("rgba(255, 0, 100, 0.6)",b),C("rgba(0, 255, 255, 0.6)",b),e.globalCompositeOperation="source-over",e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=10;const v=new Path2D;let r=0;const u=n/(t.length*.5);for(let E=0;E<t.length*.5;E++){const f=Math.pow(t[E]/255,1.5)*a*.3*i;v.lineTo(r,h+f),r+=u}e.stroke(v),e.fillStyle="rgba(255, 255, 255, 0.08)";for(let E=0;E<200;E++)e.fillRect(Math.random()*n,Math.random()*a,Math.random()*2,Math.random()*2);e.strokeStyle="rgba(255, 255, 255, 0.05)",e.lineWidth=1;for(let E=0;E<3;E++){const f=a*Math.random();e.beginPath(),e.moveTo(0,f),e.lineTo(n,f),e.stroke()}if(m&&Math.random()>.5){const E=Math.random()*a,f=Math.random()*50+20,y=(Math.random()-.5)*80;try{e.drawImage(e.canvas,0,E,n,f,y,E,n,f)}catch{}}e.restore()},GS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a/2,C=t.slice(0,16).reduce((I,T)=>I+T,0)/16,v=t.slice(16,64).reduce((I,T)=>I+T,0)/48,r=t.slice(64,128).reduce((I,T)=>I+T,0)/64,u=C/255,E=v/255,f=r/255,y=(u+E+f)/3;for(let I=0;I<8;I++){const T=I/8*n+Math.sin(o*.02+I)*50,F=a*.2+Math.sin(o*.01+I*.5)*30,w=80+u*100*i;e.fillStyle=ve(s.primary,.1+y*.2),e.beginPath(),e.arc(T,F,w,0,Math.PI*2),e.fill()}if(m&&Math.random()>.6){const I=Math.floor(Math.random()*3)+1;for(let T=0;T<I;T++){const F=Math.random()*n,w=0,A=F+(Math.random()-.5)*200,P=a;e.strokeStyle="#FFFFFF",e.lineWidth=3,e.shadowColor="#00FFFF",e.shadowBlur=20,e.beginPath(),e.moveTo(F,w);let V=F,D=w;const B=8;for(let O=1;O<=B;O++){const _=O/B,z=F+(A-F)*_,p=w+(P-w)*_,W=(Math.random()-.5)*40;V=z+W,D=p,e.lineTo(V,D)}e.stroke()}}const S=200;for(let I=0;I<S;I++){const T=I*37%n,F=(o*2+I*2)%(a+100),w=10+f*20*i,A=.3+f*.4;e.strokeStyle=ve(s.accent,A),e.lineWidth=1,e.beginPath(),e.moveTo(T,F),e.lineTo(T,F+w),e.stroke()}const k=64,N=n/k;for(let I=0;I<k;I++){const T=Math.floor(I/k*t.length),F=t[T]/255,w=Math.pow(F,1.5)*a*.6*i;if(w<2)continue;const A=I*N,P=a-w,V=m&&Math.random()>.8?(Math.random()-.5)*10:0,D=m&&Math.random()>.9?Math.random()*20:0;I<k*.33?ve(s.primary,.8+F*.2):I<k*.66?ve(s.secondary,.8+F*.2):ve(s.accent,.8+F*.2);const B=I/k*80-40,O=85+F*15,_=55+F*25,z=`hsla(${200+B+o*.3%360}, ${O}%, ${_}%, ${.9+F*.1})`;e.fillStyle=z;const p=A+V,W=P,G=Math.min(N*.25,w*.15);if(e.beginPath(),e.moveTo(p+G,W),e.lineTo(p+N-1-G,W),e.quadraticCurveTo(p+N-1,W,p+N-1,W+G),e.lineTo(p+N-1,W+w-G),e.quadraticCurveTo(p+N-1,W+w,p+N-1-G,W+w),e.lineTo(p+G,W+w),e.quadraticCurveTo(p,W+w,p,W+w-G),e.lineTo(p,W+G),e.quadraticCurveTo(p,W,p+G,W),e.closePath(),e.fill(),e.shadowColor=z,e.shadowBlur=4,e.fill(),e.shadowBlur=0,D>0){e.fillStyle="#FF00FF";const X=W+D;e.beginPath(),e.moveTo(p+G,X),e.lineTo(p+N-1-G,X),e.quadraticCurveTo(p+N-1,X,p+N-1,X+G),e.lineTo(p+N-1,X+2-G),e.quadraticCurveTo(p+N-1,X+2,p+N-1-G,X+2),e.lineTo(p+G,X+2),e.quadraticCurveTo(p,X+2,p,X+2-G),e.lineTo(p,X+G),e.quadraticCurveTo(p,X,p+G,X),e.closePath(),e.fill()}if(I%4===0){e.strokeStyle=ve("#00FFFF",.4),e.lineWidth=1;const X=Math.min(N*.2,2);e.beginPath(),e.moveTo(p+X,P),e.lineTo(p+N-1-X,P),e.quadraticCurveTo(p+N-1,P,p+N-1,P+X),e.lineTo(p+N-1,P+w-X),e.quadraticCurveTo(p+N-1,P+w,p+N-1-X,P+w),e.lineTo(p+X,P+w),e.quadraticCurveTo(p,P+w,p,P+w-X),e.lineTo(p,P+X),e.quadraticCurveTo(p,P,p+X,P),e.closePath(),e.stroke()}}const j=30+u*60*i,L=e.createRadialGradient(h,b,0,h,b,j);L.addColorStop(0,"#FFFFFF"),L.addColorStop(.3,s.accent),L.addColorStop(.7,s.primary),L.addColorStop(1,"transparent"),e.fillStyle=L,e.shadowColor=s.accent,e.shadowBlur=30,e.beginPath(),e.arc(h,b,j,0,Math.PI*2),e.fill();const d=3;for(let I=0;I<d;I++){const T=j+20+I*15,F=o*(.02+I*.01),w=.4-I*.1;e.strokeStyle=ve(s.accent,w),e.lineWidth=2,e.setLineDash([10,10]);const A=8;for(let P=0;P<A;P++){const V=P/A*Math.PI*2+F,D=(P+1)/A*Math.PI*2+F;e.beginPath(),e.arc(h,b,T,V,D),e.stroke()}}e.setLineDash([]),e.restore()},$S=(e,t,n,a,o,i,s,c,m,x,h)=>{if(!t)return;e.save();const b=n/2,C=a/2,v=Math.min(n,a)*.35,u=t.slice(0,32).reduce((N,j)=>N+j,0)/32/255,E=v+u*20*i;for(let N=0;N<3;N++){const j=E-N*8,L=.4-N*.1,d=3-N*.5;e.strokeStyle=ve(s.accent,L),e.lineWidth=d,e.setLineDash([8,8]),e.beginPath(),e.arc(b,C,j,0,Math.PI*2),e.stroke()}e.setLineDash([]);const f=12;for(let N=0;N<f;N++){const j=N/f*Math.PI*2+o*.01,L=v*.3+u*50*i;e.strokeStyle=ve(s.primary,.3),e.lineWidth=2,e.beginPath(),e.moveTo(b,C),e.lineTo(b+Math.cos(j)*L,C+Math.sin(j)*L),e.stroke()}h&&h.forEach(N=>{const j=Math.sqrt((N.x-b)**2+(N.y-C)**2),L=1+u*3*i;if(N.vx*=L,N.vy*=L,j>v){const d=Math.atan2(N.y-C,N.x-b);N.x=b+Math.cos(d)*v,N.y=C+Math.sin(d)*v;const I=Math.cos(d),T=Math.sin(d),F=N.vx*I+N.vy*T;N.vx=(N.vx-2*F*I)*.8,N.vy=(N.vy-2*F*T)*.8}e.save(),e.shadowColor=N.color,e.shadowBlur=15,e.beginPath(),e.arc(N.x,N.y,N.radius,0,Math.PI*2),e.fillStyle=ve(N.color,N.opacity*.9),e.fill(),e.beginPath(),e.arc(N.x,N.y,N.radius*1.5,0,Math.PI*2),e.fillStyle=ve(N.color,N.opacity*.3),e.fill(),e.restore()});const y=n*.02+u*50*i,S=e.createRadialGradient(b,C,0,b,C,y);S.addColorStop(0,"#FFFFFF"),S.addColorStop(.3,ve(s.accent,.9)),S.addColorStop(.7,ve(s.primary,.7)),S.addColorStop(1,"transparent"),e.fillStyle=S,e.shadowColor=s.primary,e.shadowBlur=m?50:25,e.beginPath(),e.arc(b,C,y*1.2,0,Math.PI*2),e.fill();const k=y*2+u*30*i;e.strokeStyle=ve(s.accent,.6),e.lineWidth=4,e.shadowBlur=20,e.beginPath(),e.arc(b,C,k,0,Math.PI*2),e.stroke(),e.restore()},XS=(e,t,n,a,o,i,s,c,m,x)=>{if(!t)return;e.save();const h=n/2,b=a*.6,C=n*.8,v=40,r=30,u=n/v*1.2,E=a*.2,f=o*.002,y=(S,k,N)=>{const j=S*Math.cos(f)-N*Math.sin(f),L=S*Math.sin(f)+N*Math.cos(f),d=C/(C+L),I=j*d+h,T=k*d+b;return{x:I,y:T,scale:d}};e.strokeStyle=s.primary,e.shadowColor=s.primary,e.shadowBlur=5,e.lineWidth=1.5;for(let S=0;S<r;S++){e.beginPath();let k=null;for(let N=0;N<v;N++){const j=Math.floor(N/v*(t.length*.6)),L=Math.pow(t[j]/255,2)*E*i,d=(N-v/2)*u,I=-L,T=(S-r/2)*u,F=y(d,I,T);F.scale<=0||(k===null?(e.moveTo(F.x,F.y),k=F):e.lineTo(F.x,F.y))}if(k){const N=S/r,[j,L]=s.hueRange,d=j+N*(L-j),I=40+N*30;e.strokeStyle=`hsla(${d}, 90%, ${I}%, ${1-N*.7})`,e.shadowColor=`hsla(${d}, 90%, ${I}%, ${1-N*.7})`,e.stroke()}}e.restore()},ju=(e,t,n,a,o,i,s,c,m,x,h,b,C,v,r,u,E,f,y,S,k,N)=>{var ae,ee,te,$;if(!t)return;e.save();const j=n/2,L=a*.4,d=t.slice(0,32).reduce((K,fe)=>K+fe,0)/32;t.slice(32,96).reduce((K,fe)=>K+fe,0)/64,t.slice(96,128).reduce((K,fe)=>K+fe,0)/32;const I=d/255,T=Math.min(n*.4,a*.5),F=j-T/2,w=L-T/2;b?e.drawImage(b,F,w,T,T):(e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(F,w,T,T));const A=t?t[0]/255:0,P=t?t[Math.floor(t.length*.3)]/255:0,V=t?t[Math.floor(t.length*.7)]/255:0,D=8,B=A*D,O=P*D*.7,_=V*D*.5;e.strokeStyle="#ffffff",e.lineWidth=2,e.beginPath(),e.moveTo(F+10+_,w+_),e.bezierCurveTo(F+_,w+_,F+_,w+_,F+_,w+10+_),e.lineTo(F+O,w+T-10+O),e.bezierCurveTo(F+O,w+T+O,F+O,w+T+O,F+10+O,w+T+O),e.lineTo(F+T-10+B,w+T+B),e.bezierCurveTo(F+T+B,w+T+B,F+T+B,w+T+B,F+T+B,w+T-10+B),e.lineTo(F+T+O,w+10+O),e.bezierCurveTo(F+T+O,w+O,F+T+O,w+O,F+T-10+O,w+O),e.lineTo(F+10+_,w+_),e.stroke();const z=T/2,p=F+T,W=L;e.save(),e.beginPath(),e.arc(p,W,z,-Math.PI/2,Math.PI/2),e.clip(),e.translate(p,W),e.rotate(o*.01%(Math.PI*2)),C?e.drawImage(C,-z,-z,z*2,z*2):(e.fillStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.arc(0,0,z,0,Math.PI*2),e.fill()),e.restore(),e.strokeStyle="#ffffff",e.lineWidth=2,e.beginPath(),e.arc(p,W,z,-Math.PI/2,Math.PI/2),e.stroke();const G=18,X=Math.max(12,T/G*.8),ne=T*.9,q=F,ie=w+T,H=T/G;for(let K=0;K<G;K++){const fe=Math.floor(K/G*t.length),ge=t[fe]/255,se=Math.pow(ge,1.2)*ne*i;if(se<3)continue;const oe=ie-(K*H+H/2);let Se;if(s.name===Ie.WHITE)Se=`hsla(220, 10%, ${85+ge*15}%, ${.8+ge*.2})`;else if(s.name===Ie.RAINBOW){const Ce=K/G*360,xe=85+ge*15,je=55+ge*25;Se=`hsla(${Ce}, ${xe}%, ${je}%, ${.8+ge*.2})`}else{const[Ce,xe]=s.hueRange,je=xe-Ce,Ze=Ce+K/G*je,Te=85+ge*15,tt=55+ge*25;Se=`hsla(${Ze}, ${Te}%, ${tt}%, ${.8+ge*.2})`}e.fillStyle=Se;const Fe=q-se,ke=Math.min(X*.4,8);if(tn(e,Fe,oe-X/2,se,X,ke),e.fill(),ge>.5){const Ce=Se.match(/hsl\(([^,]+)/),xe=Ce?parseFloat(Ce[1]):220,je=85+ge*15,Ze=55+ge*25;e.shadowColor=`hsla(${xe}, ${je}%, ${Ze+20}%, 0.6)`,e.shadowBlur=Math.max(5,ge*20),e.fill(),e.shadowBlur=0}if(m&&ge>.8){const Ce=Se.match(/hsl\(([^,]+)/),xe=Ce?parseFloat(Ce[1]):220,je=85+ge*15,Ze=55+ge*25;e.fillStyle=`hsla(${xe}, ${je}%, ${Ze+30}%, 0.9)`,tn(e,Fe,oe-X/2,se,X,ke),e.fill()}}if(!C){const K=z*.6,fe=z*.3;e.save(),e.beginPath(),e.arc(p,W,z,-Math.PI/2,Math.PI/2),e.clip(),e.translate(p,W),e.rotate(o*.01%(Math.PI*2)),e.fillStyle="#ffffff",e.globalAlpha=.8,e.beginPath(),e.arc(fe,0,K,0,Math.PI*2),e.arc(0,0,K,0,Math.PI*2),e.fill("evenodd"),e.globalAlpha=1,e.restore()}if(r!==!1){const K=T,se=Math.min(u||24,100),oe=Math.max(1,se/24),Se=Math.min(K*oe,n*.8),Fe=a*.18,ke=Math.max(1.2,se/20);let Ce=Math.min(Fe*ke,a*.45);const xe=j-Se/2,je=a*.7,Ze=(se-24)*.3;let Te=Math.max(a*.55,Math.min(je-Ze,a*.8));if(Te+Ce>a-10){const De=a-Ce-10;if(De<a*.6){const Vt=a*.25,jt=Math.min(Ce,Vt);Te=a-jt-10,Ce=jt}else Te=De}const He=Math.sin(o*.1)*1.5+Math.sin(o*.07)*.8,Ke=Math.cos(o*.13)*1.2,at=E||Yt.FILLED,ue=y||"rgba(100, 120, 100, 0.9)",Ge=f||"#ffffff";if(at===Yt.FILLED||at===Yt.OUTLINE){at===Yt.FILLED?e.fillStyle=ue:(e.strokeStyle=Ge,e.lineWidth=2),e.beginPath();const De=16+Math.sin(o*.05)*1;e.moveTo(xe+De+He,Te+Ke),e.lineTo(xe+Se-De+He,Te+Ke),e.quadraticCurveTo(xe+Se+He,Te+Ke,xe+Se+He,Te+De+Ke),e.lineTo(xe+Se+He,Te+Ce-De+Ke),e.quadraticCurveTo(xe+Se+He,Te+Ce+Ke,xe+Se-De+He,Te+Ce+Ke),e.lineTo(xe+De+He,Te+Ce+Ke),e.quadraticCurveTo(xe+He,Te+Ce+Ke,xe+He,Te+Ce-De+Ke),e.lineTo(xe+He,Te+De+Ke),e.quadraticCurveTo(xe+He,Te+Ke,xe+De+He,Te+Ke),at===Yt.FILLED?e.fill():e.stroke()}const Be=Ce*.12,lt=xe+Se*.05+He,Re=Te+Ce*.02+Ke;let Ft=.6;at===Yt.OUTLINE?Ft=.3:at===Yt.TRANSPARENT&&(Ft=.4);let Qe;if(ue.startsWith("rgba")){const De=ue.match(/rgba?\(([^)]+)\)/);if(De){const Vt=De[1].split(",").map(mr=>parseFloat(mr.trim())),[jt,ea,pn]=Vt,Cn=Math.max(0,Math.min(255,jt*.8+20)),xa=Math.max(0,Math.min(255,ea*.8+20)),hr=Math.max(0,Math.min(255,pn*.8+20));Qe=`rgba(${Cn}, ${xa}, ${hr}, ${Ft})`}else Qe=ue.replace(/[\d\.]+\)$/g,`${Ft})`)}else if(ue.startsWith("rgb")){const De=ue.match(/rgb\(([^)]+)\)/);if(De){const Vt=De[1].split(",").map(mr=>parseInt(mr.trim())),[jt,ea,pn]=Vt,Cn=Math.max(0,Math.min(255,Math.floor(jt*.8+20))),xa=Math.max(0,Math.min(255,Math.floor(ea*.8+20))),hr=Math.max(0,Math.min(255,Math.floor(pn*.8+20)));Qe=`rgba(${Cn}, ${xa}, ${hr}, ${Ft})`}else Qe=ue.replace("rgb(","rgba(").replace(")",`, ${Ft})`)}else{const De=ue.replace("#",""),Vt=parseInt(De.substr(0,2),16),jt=parseInt(De.substr(2,2),16),ea=parseInt(De.substr(4,2),16),pn=Math.max(0,Math.min(255,Math.floor(Vt*.8+20))),Cn=Math.max(0,Math.min(255,Math.floor(jt*.8+20))),xa=Math.max(0,Math.min(255,Math.floor(ea*.8+20)));Qe=`rgba(${pn}, ${Cn}, ${xa}, ${Ft})`}e.fillStyle=Qe,e.beginPath();const we=8+Math.sin(o*.03)*.5;e.moveTo(lt+we,Re),e.lineTo(lt+Be-we,Re),e.quadraticCurveTo(lt+Be,Re,lt+Be,Re+we),e.lineTo(lt+Be,Re+Be-we),e.quadraticCurveTo(lt+Be,Re+Be,lt+Be-we,Re+Be),e.lineTo(lt+we,Re+Be),e.quadraticCurveTo(lt,Re+Be,lt,Re+Be-we),e.lineTo(lt,Re+we),e.quadraticCurveTo(lt,Re,lt+we,Re),e.fill(),e.fillStyle=Ge,e.strokeStyle=Ge,e.beginPath();for(let De=0;De<Be;De+=2){const Vt=lt+De,jt=Re+Be*.3+Math.sin(De*.1+o*.05)*8;De===0?e.moveTo(Vt,jt):e.lineTo(Vt,jt)}e.lineWidth=3,e.stroke();for(let De=0;De<3;De++){const Vt=lt+Be*.2+De*Be*.3,jt=Re+Be*.7;e.beginPath(),e.arc(Vt,jt,3,0,Math.PI*2),e.fill()}const Ee=lt+Be+Se*.05,Wt=Te+Ce*.18,Lt=Ce*.08;e.fillStyle=Ge;const et=Math.min(se+2,Ce*.2),We=un[S||g.POPPINS]||"Poppins",ht=k||U.NONE,gn=N||"#000000",st=ht===U.BOLD?"900":"bold";e.font=`${st} ${et}px "${We}", sans-serif`,e.textAlign="left";const yn=v.geometricSongName||"Name of the song",Gt=Wt+Math.cos(o*.03)*.3,mt=Math.min(se+2,60),Pt=Te+mt+15,Rt=Math.max(Gt,Pt),Me=(De,Vt,jt,ea)=>{if(e.save(),e.lineJoin="round",e.miterLimit=2,ht===U.NEON?(e.shadowColor=Ge,e.shadowBlur=16):ht===U.SHADOW&&(e.shadowColor="rgba(0,0,0,0.6)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4),ht===U.OUTLINE&&(e.strokeStyle=gn,e.lineWidth=Math.max(2,ea/18),e.strokeText(De,Vt,jt)),ht===U.FAUX_3D){const pn=Math.max(1,Math.floor(ea/28));e.fillStyle="rgba(0,0,0,0.35)";for(let Cn=1;Cn<=pn;Cn++)e.fillText(De,Vt+Cn,jt+Cn);e.fillStyle=Ge}if(e.fillStyle=ht===U.NEON?"#FFFFFF":Ge,e.fillText(De,Vt,jt),ht===U.GLITCH&&m){e.globalCompositeOperation="lighter";const pn=Math.max(2,ea/20),Cn=(Math.random()-.5)*pn,xa=(Math.random()-.5)*pn;e.fillStyle="rgba(255,0,0,0.55)",e.fillText(De,Vt+Cn,jt+xa),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(De,Vt-Cn,jt-xa),e.globalCompositeOperation="source-over"}e.restore()};Me(yn,Ee+Math.sin(o*.02)*.5,Rt,et);const be=Math.min(se,Ce*.15);e.font=`${ht===U.BOLD?"800":"600"} ${be}px "${We}", sans-serif`,e.fillStyle=at===Yt.OUTLINE?Ge:"rgba(255, 255, 255, 0.8)";const Oe=v.geometricArtistName||"Artist",Le=Rt+Lt+Math.cos(o*.035)*.2,ze=Math.min(se,55),Tt=Te+mt+ze+25,dt=Math.max(Le,Tt);Me(Oe,Ee+Math.sin(o*.025)*.3,dt,be);const Bt=Math.max(80,se*1.5),Dt=xe+Se-Bt+He,qn=Math.max(Rt,Re+25)+Ke,va=v.geometricSongName||"Name of the song",Q=e.measureText(va).width,pe=Dt-Ee-20,Ye=Q>pe?Ee+Q+30:Dt;e.fillStyle=Ge,e.font=`${Math.min(se+4,70)}px Arial`,e.textAlign="center",e.fillText("",Ye+Math.sin(o*.04)*.3,qn+Math.cos(o*.05)*.2);const ot=Math.max(40,se*.8);e.fillText("",Ye+ot+Math.sin(o*.06)*.2,qn+Math.cos(o*.04)*.2);const Ve=Se*.9,nt=Ce*.06,Ae=xe+Se*.05+He,ut=Te+Ce*.55+Ke,Ot=Te+Ce*.72;e.fillStyle=(at===Yt.OUTLINE,"rgba(255, 255, 255, 0.3)"),e.fillRect(Ae,ut,Ve,nt);const $t=((ee=(ae=v.audioRef)==null?void 0:ae.current)==null?void 0:ee.currentTime)||0,zt=(($=(te=v.audioRef)==null?void 0:te.current)==null?void 0:$.duration)||240,wn=zt>0?Math.min($t/zt,1):0,Qt=Ve*wn;e.fillStyle=Ge,e.fillRect(Ae,ut,Qt,nt),e.fillStyle=Ge;const sl=Math.min(se*.6,Ce*.1);e.font=`${sl}px Arial`;const gt=Ot;e.textAlign="left";const Ca=Math.floor($t/60),Sa=Math.floor($t%60),ba=Math.floor(zt/60),La=Math.floor(zt%60);e.fillText(`${Ca}:${Sa.toString().padStart(2,"0")}`,Ae+Math.sin(o*.02)*.3,gt+Math.cos(o*.03)*.2),e.textAlign="right",e.fillText(`${ba}:${La.toString().padStart(2,"0")}`,Ae+Ve+Math.sin(o*.025)*.3,gt+Math.cos(o*.035)*.2);const vn=Te+Ce*.9+Ke,Tn=Se*.08,jn=xe+Se/2-Tn*2+He,da=Math.min(se+2,Ce*.12);e.font=`${da}px Arial`,e.textAlign="center";const Na=jn;e.fillStyle=Ge,e.fillText("",Na+Math.sin(o*.03)*.3,vn+Math.cos(o*.04)*.2);const Hn=jn+Tn;e.fillText("",Hn+Math.sin(o*.035)*.2,vn+Math.cos(o*.045)*.2);const An=jn+Tn*2,_a=Math.max(20,Math.min(se*.8,80))+Math.sin(o*.08)*1;e.fillStyle=Ge,e.beginPath(),e.arc(An,vn,_a,0,Math.PI*2),e.fill();const Jn=Math.max(3,Math.min(se*.15,15)),ul=Math.max(16,Math.min(se*.7,70));e.fillStyle=at===Yt.OUTLINE?Ge:ue,e.fillRect(An-Jn*2,vn-ul/2,Jn,ul),e.fillRect(An+Jn,vn-ul/2,Jn,ul);const fr=jn+Tn*3;e.fillStyle=Ge,e.fillText("",fr+Math.sin(o*.04)*.2,vn+Math.cos(o*.05)*.2);const Ki=jn+Tn*4;e.fillText("",Ki+Math.sin(o*.045)*.3,vn+Math.cos(o*.055)*.2)}if(m){const K=w+o*2%T;e.strokeStyle="#ffffff",e.lineWidth=1,e.globalAlpha=.6,e.beginPath(),e.moveTo(F,K),e.lineTo(F+T,K),e.stroke(),e.globalAlpha=1}if(!C&&I>.5){const K=z*(.8+I*.2);e.save(),e.beginPath(),e.arc(p,W,z,-Math.PI/2,Math.PI/2),e.clip(),e.translate(p,W),e.rotate(o*.01%(Math.PI*2)),e.strokeStyle="#ffffff",e.lineWidth=1,e.globalAlpha=.4,e.beginPath(),e.arc(0,0,K,0,Math.PI*2),e.stroke(),e.globalAlpha=1,e.restore()}e.restore()},KS=(e,t,n,a,o,i,s,c,m,x,h,b=.5,C=.5,v)=>{const r=a.split(""),u=o*1.2,E=u*r.length,f=t*.1,y=f+(t-2*f)*b+h.x,S=f+(n-2*f-E)*C+h.y;e.save();const k=c===U.BOLD?"900":"bold";if(e.font=`${k} ${o}px "${i}", sans-serif`,e.textAlign="center",e.textBaseline="middle",m!==an.NONE){const N=o*.6,j=o*.4,L=o+N*2,d=E+j*2,I=y-L/2,T=S-j;e.fillStyle=m===an.BLACK?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.5)",tn(e,I,T,L,d,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,o/20),e.miterLimit=2,r.forEach((N,j)=>{const L=S+j*u+u/2;if(c===U.FAUX_3D){const d=Math.max(1,Math.floor(o/30)),I=s.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=I;for(let T=1;T<=d;T++)e.fillText(N,y+T,L+T)}if(c===U.NEON?e.fillStyle="#FFFFFF":e.fillStyle=s,c===U.NEON?(e.shadowColor=s,e.shadowBlur=15):c===U.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),c===U.OUTLINE&&(e.strokeStyle=v||s,e.lineWidth=Math.max(2,o/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(N,y-1,L-1),e.strokeText(N,y+1,L-1),e.strokeText(N,y-1,L+1),e.strokeText(N,y+1,L+1),e.strokeText(N,y,L)),e.fillText(N,y,L),c===U.NEON&&(e.shadowBlur=30,e.fillText(N,y,L)),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,c===U.GLITCH&&x){e.save(),e.globalCompositeOperation="lighter";const d=8,I=(Math.random()-.5)*d,T=(Math.random()-.5)*d;e.fillStyle="rgba(255, 0, 0, 0.7)",e.fillText(N,y+I,L+T),e.fillStyle="rgba(0, 0, 255, 0.7)",e.fillText(N,y-I,L-T),e.fillStyle="rgba(0, 255, 0, 0.7)",e.fillText(N,y+I*.5,L-T*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=s,e.fillText(N,y,L)}}),e.restore()},Pi=(e,t,n,a,{fontSizeVw:o,fontFamily:i,color:s,effect:c,bgStyle:m,isBeat:x,dragOffset:h={x:0,y:0},orientation:b=on.HORIZONTAL,strokeColor:C})=>{if(!a||!a.text)return;e.save();const{text:v}=a,r=o/100*t,u=un[i]||"Poppins",E=c===U.BOLD?"900":"bold";if(e.font=`${E} ${r}px "${u}", sans-serif`,b===on.VERTICAL){const T=(he==null?void 0:he.verticalSubtitlePosition)??.5,F=(he==null?void 0:he.verticalSubtitleVerticalPosition)??.5;KS(e,t,n,v,r,u,s,c,m,x,h,T,F,C),e.restore();return}e.textAlign="center",e.textBaseline="bottom";const f=(he==null?void 0:he.horizontalSubtitlePosition)??.5,y=(he==null?void 0:he.horizontalSubtitleVerticalPosition)??.2,S=t*.1,k=S+(t-2*S)*f+h.x,N=S+(n-2*S)*y+h.y,j=e.measureText(v),L=j.fontBoundingBoxAscent??r,d=j.width;if(m!==an.NONE){const T=r*.4,F=r*.2,w=d+T*2,A=L+F*2,P=k-w/2,V=N-L-F;e.fillStyle=m===an.BLACK?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.5)",tn(e,P,V,w,A,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,r/20),e.miterLimit=2;const I=(T=0,F=0)=>{e.fillText(v,k+T,N+F)};if(c===U.FAUX_3D){const T=Math.max(1,Math.floor(r/30)),F=s.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=F;for(let w=1;w<=T;w++)I(w,w)}if(c===U.NEON?e.fillStyle="#FFFFFF":e.fillStyle=s,c===U.NEON?(e.shadowColor=s,e.shadowBlur=15):c===U.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),c===U.OUTLINE&&(e.strokeStyle=C||s,e.lineWidth=Math.max(2,r/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(v,k-1,N-1),e.strokeText(v,k+1,N-1),e.strokeText(v,k-1,N+1),e.strokeText(v,k+1,N+1),e.strokeText(v,k,N)),I(),c===U.NEON&&(e.shadowBlur=30,I()),e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,c===U.GLITCH){if(x){e.save(),e.globalCompositeOperation="lighter";const T=8,F=(Math.random()-.5)*T,w=(Math.random()-.5)*T;e.fillStyle="rgba(255, 0, 0, 0.7)",I(F,w),e.fillStyle="rgba(0, 0, 255, 0.7)",I(-F,-w),e.fillStyle="rgba(0, 255, 0, 0.7)",I(F*.5,-w*.5),e.globalCompositeOperation="source-over",e.restore()}e.fillStyle=s,I()}e.restore()},ZS=(e,t,n,a,o,i,s,{fontSizeVw:c,fontFamily:m,color:x,effect:h,bgStyle:b,isBeat:C,dragOffset:v={x:0,y:0},orientation:r=on.HORIZONTAL,strokeColor:u,fadeInSeconds:E=.25,fadeOutSeconds:f=.25})=>{var ge;if(!i||!i.text)return;if(r===on.VERTICAL){Pi(e,t,n,i,{fontSizeVw:c,fontFamily:m,color:x,effect:h,bgStyle:b,isBeat:C,dragOffset:v,orientation:r,strokeColor:u});return}const y=i.time,S=(ge=a[o+1])==null?void 0:ge.time,k=(typeof i.endTime=="number"?i.endTime:S)??y+2.5,N=Math.max(0,E),j=Math.max(0,f),d=Math.max(0,Math.min(1,(se=>se<y||se>k?0:N>0&&se<y+N?(se-y)/N:j>0&&se>k-j?Math.max(0,(k-se)/j):1)(s)));if(d<=0)return;const I=se=>{let oe=se|0;return oe^=oe>>>16,oe=Math.imul(oe,2146121005),oe^=oe>>>15,oe=Math.imul(oe,2221713035),oe^=oe>>>16,oe>>>0};e.save(),e.globalAlpha=d;const T=i.text,F=c/100*t,w=un[m]||"Poppins",A=h===U.BOLD?"900":"bold";e.font=`${A} ${F}px "${w}", sans-serif`;const P=(he==null?void 0:he.horizontalSubtitlePosition)??.5,V=(he==null?void 0:he.horizontalSubtitleVerticalPosition)??.2,D=t*.1,B=D+(t-2*D)*P+v.x,O=D+(n-2*D)*V+v.y;e.textAlign="left",e.textBaseline="bottom";const _=e.measureText(T),z=_.fontBoundingBoxAscent??F,p=_.width,W=B-p/2;if(b!==an.NONE){const se=F*.4,oe=F*.2,Se=p+se*2,Fe=z+oe*2,ke=B-Se/2,Ce=O-z-oe;e.fillStyle=b===an.BLACK?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.5)",tn(e,ke,Ce,Se,Fe,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,h===U.NEON?(e.shadowColor=x,e.shadowBlur=15):h===U.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5);const G=h===U.NEON?"#FFFFFF":x,X=h===U.OUTLINE,ne=u||x,q=Math.max(2,F/20),ie=Math.max(0,s-y),H=Math.floor(ie/1.15),ae=Math.floor(y*1e3)^o*1000003|0,ee=new Array(T.length).fill(!1),te=I(ae^H*131);if(te%100<45&&T.length>0){const se=Math.min(T.length,2+(te>>>8)%2),oe=Math.max(0,T.length-se),Se=oe>0?(te>>>16)%(oe+1):0;for(let Fe=0;Fe<se;Fe++)ee[Se+Fe]=!0}let fe=W;for(let se=0;se<T.length;se++){const oe=T[se],Se=e.measureText(oe).width,Fe=!!ee[se],ke=I(ae^H*131^se*97);if(e.save(),!Fe)e.filter="none",X&&(e.strokeStyle=ne,e.lineWidth=q,e.lineJoin="round",e.miterLimit=2,e.strokeText(oe,fe,O)),e.fillStyle=G,e.fillText(oe,fe,O),h===U.NEON&&(e.shadowBlur=30,e.fillText(oe,fe,O));else{const Ce=14+ke%16,xe=.12+(ke>>>8)%10/100,je=.35+(ke>>>16)%20/100;e.filter="none",e.globalAlpha*=xe,e.fillStyle=G,e.fillText(oe,fe,O),e.globalAlpha=d*je,e.filter=`blur(${Ce}px)`,e.shadowColor="rgba(255,255,255,0.9)",e.shadowBlur=50,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fillStyle="rgba(255,255,255,0.9)",e.fillText(oe,fe,O),e.globalAlpha=d*je*.7,e.fillText(oe,fe,O)}if(h===U.GLITCH&&C&&!Fe&&ke%7===0){e.save(),e.globalCompositeOperation="lighter";const Ce=5,xe=(Math.random()-.5)*Ce,je=(Math.random()-.5)*Ce;e.fillStyle="rgba(255, 0, 0, 0.55)",e.fillText(oe,fe+xe,O+je),e.fillStyle="rgba(0, 0, 255, 0.55)",e.fillText(oe,fe-xe,O-je),e.restore()}e.filter="none",e.restore(),fe+=Se}e.restore()},QS=(e,t,n,a,o,i,s,{fontSizeVw:c,fontFamily:m,color:x,effect:h,bgStyle:b,isBeat:C,dragOffset:v={x:0,y:0},orientation:r=on.HORIZONTAL,strokeColor:u,fadeInSeconds:E=.25,fadeOutSeconds:f=.25,linesEnabled:y=!0,lineColor:S="#FFFFFF",lineThickness:k=3,lineGap:N=10})=>{var $;if(!i||!i.text)return;if(r===on.VERTICAL){Pi(e,t,n,i,{fontSizeVw:c,fontFamily:m,color:x,effect:h,bgStyle:b,isBeat:C,dragOffset:v,orientation:r,strokeColor:u});return}const j=i.time,L=($=a[o+1])==null?void 0:$.time,d=(typeof i.endTime=="number"?i.endTime:L)??j+2.5,I=Math.max(0,E),T=Math.max(0,f),w=Math.max(0,Math.min(1,(K=>K<j||K>d?0:I>0&&K<j+I?(K-j)/I:T>0&&K>d-T?Math.max(0,(d-K)/T):1)(s)));if(w<=0)return;if(e.save(),e.globalAlpha=w,Pi(e,t,n,i,{fontSizeVw:c,fontFamily:m,color:x,effect:h,bgStyle:b,isBeat:C,dragOffset:v,orientation:r,strokeColor:u}),!y){e.restore();return}const A=c/100*t,P=un[m]||"Poppins",V=h===U.BOLD?"900":"bold";e.font=`${V} ${A}px "${P}", sans-serif`,e.textAlign="center",e.textBaseline="bottom";const D=(he==null?void 0:he.horizontalSubtitlePosition)??.5,B=(he==null?void 0:he.horizontalSubtitleVerticalPosition)??.2,O=t*.1,_=O+(t-2*O)*D+v.x,z=O+(n-2*O)*B+v.y,p=e.measureText(i.text),W=p.fontBoundingBoxAscent??A,G=p.width,X=Math.max(t/1920,n/1080),ne=Math.max(1,k*X),q=Math.max(0,N*X),ie=A*.45,Z=G+ie*2,H=_-Z/2,ae=_+Z/2,ee=z-W-q,te=z+q;e.save(),e.strokeStyle=S,e.lineWidth=ne,e.lineCap="round",e.shadowColor=h===U.NEON?S:"transparent",e.shadowBlur=h===U.NEON?10*X:0,e.beginPath(),e.moveTo(H,ee),e.lineTo(ae,ee),e.stroke(),e.beginPath(),e.moveTo(H,te),e.lineTo(ae,te),e.stroke(),e.restore(),e.restore()},qS=(e,t,n,a,{enabled:o,startTime:i,fadeIn:s,hold:c,fadeOut:m,positionX:x,positionY:h,bgOpacity:b,title:C,artist:v,description:r,fontFamily:u,effect:E,color:f,strokeColor:y,titleSizeVw:S,artistSizeVw:k,descriptionSizeVw:N,lightBarsEnabled:j=!0})=>{if(!o||!((C||"").trim()||(v||"").trim()||(r||"").trim()))return;const d=Math.max(0,a-i),I=Math.max(0,s),T=Math.max(0,c),F=Math.max(0,m),w=I+T+F;if(w<=0||d>w)return;let A=1;if(I>0&&d<I?A=d/I:F>0&&d>I+T?A=Math.max(0,1-(d-(I+T))/F):A=1,e.save(),I>0&&d<I){const ee=Math.max(0,Math.min(1,A));e.save(),e.globalAlpha=1-ee,e.fillStyle="black",e.fillRect(0,0,t,n),e.restore()}e.globalAlpha=A;const P=x/100*t,V=h/100*n,D=un[u]||"Poppins",B=S/100*t,O=k/100*t,_=N/100*t,z=Math.max(8,B*.25),p=[];(C||"").trim()&&p.push({text:C,size:B,weight:"800"}),(v||"").trim()&&p.push({text:v,size:O,weight:"700"}),(r||"").trim()&&p.push({text:r,size:_,weight:"600"});let W=0,G=0;p.forEach((ee,te)=>{e.font=`${ee.weight} ${ee.size}px "${D}", sans-serif`;const $=e.measureText(ee.text);W=Math.max(W,$.width),G+=ee.size,te<p.length-1&&(G+=z)});const X=Math.max(16,t*.03),ne=Math.max(12,n*.02),q=W+X*2,ie=G+ne*2,Z=P-q/2,H=V-ie/2;if(e.fillStyle=`rgba(0, 0, 0, ${Math.max(0,Math.min(1,b))})`,tn(e,Z,H,q,ie,12),e.fill(),j){const ee=f||"#FFFFFF",$=(a-i)*.9,K=Math.max(3,Math.floor(n*.012)),fe=Math.max(6,Math.floor(K*1.6)),ge=Math.max(0,Z),se=Math.min(t,Z+q),oe=Math.max(0,se-ge);if(oe>0){const Se=Math.max(80,Math.floor(oe*.45)),Fe=ge+$*oe*.9%(oe+Se)-Se,ke=e.createLinearGradient(Fe,0,Fe+Se,0);ke.addColorStop(0,"rgba(255,255,255,0)"),ke.addColorStop(.35,ee),ke.addColorStop(.5,"rgba(255,255,255,0.95)"),ke.addColorStop(.65,ee),ke.addColorStop(1,"rgba(255,255,255,0)");const Ce=xe=>{xe+K<0||xe>n||(e.save(),e.globalAlpha=.7*A,e.globalCompositeOperation="lighter",e.shadowColor=ee,e.shadowBlur=12,e.fillStyle=ke,tn(e,ge,xe,oe,K,999),e.fill(),e.restore())};Ce(H-fe-K),Ce(H+ie+fe)}}if(p.length===1){const ee=f||"#FFFFFF",te=a-i;e.save(),e.globalCompositeOperation="lighter",e.globalAlpha=.45*A;const $=.5+.5*Math.sin(te*3),K=Math.max(q,ie)*(.55+.12*$),fe=e.createRadialGradient(P,V,0,P,V,K);fe.addColorStop(0,ee),fe.addColorStop(.35,(ee.replace("#","rgba(").includes("rgba("),ee)),fe.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=fe,e.fillRect(P-K,V-K,K*2,K*2),e.restore(),e.save();const ge=Math.min(t*.82,q*.95),se=Math.max(3,Math.floor(B*.08)),oe=P-ge/2,Se=H+ie-ne*.55;e.globalAlpha=.35*A,e.fillStyle="rgba(255,255,255,0.15)",tn(e,oe,Se,ge,se,999),e.fill();const Fe=Math.max(120,ge*.35),ke=.5+.5*Math.sin(te*1.6),Ce=oe+ke*(ge-Fe),xe=e.createLinearGradient(Ce,0,Ce+Fe,0);xe.addColorStop(0,"rgba(255,255,255,0)"),xe.addColorStop(.35,ee),xe.addColorStop(.5,"rgba(255,255,255,0.95)"),xe.addColorStop(.65,ee),xe.addColorStop(1,"rgba(255,255,255,0)"),e.globalAlpha=.7*A,e.globalCompositeOperation="lighter",e.shadowColor=ee,e.shadowBlur=14,e.fillStyle=xe,tn(e,oe,Se,ge,se,999),e.fill(),e.restore()}e.textAlign="center",e.textBaseline="middle",E===U.NEON?(e.shadowColor=f,e.shadowBlur=18):E===U.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.6)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4);let ae=V-G/2;for(const ee of p){if(e.font=`${ee.weight} ${ee.size}px "${D}", sans-serif`,E===U.OUTLINE&&(e.lineJoin="round",e.miterLimit=2,e.lineWidth=Math.max(2,ee.size/18),e.strokeStyle=y,e.strokeText(ee.text,P,ae+ee.size/2)),e.fillStyle=E===U.NEON?"#FFFFFF":f,e.fillText(ee.text,P,ae+ee.size/2),E===U.FAUX_3D){const te=Math.max(1,Math.floor(ee.size/28));e.fillStyle="rgba(0,0,0,0.35)";for(let $=1;$<=te;$++)e.fillText(ee.text,P+$,ae+ee.size/2+$);e.fillStyle=f,e.fillText(ee.text,P,ae+ee.size/2)}if(E===U.GLITCH){const te=Math.max(2,ee.size/20),$=(Math.random()-.5)*te,K=(Math.random()-.5)*te;e.globalCompositeOperation="lighter",e.fillStyle="rgba(255,0,0,0.55)",e.fillText(ee.text,P+$,ae+ee.size/2+K),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(ee.text,P-$,ae+ee.size/2-K),e.globalCompositeOperation="source-over"}ae+=ee.size+z}e.restore()},JS=(e,t,n,a,o,{fontFamily:i,bgStyle:s,fontSizeVw:c,color:m,effect:x,isBeat:h,dragOffset:b={x:0,y:0},strokeColor:C})=>{if(a.length===0)return;e.save();const v=c/100*t,r=un[i]||"Poppins",u=x===U.BOLD?"900":"bold";e.font=`${u} ${v}px "${r}", sans-serif`,e.textAlign="center",e.textBaseline="bottom";const E=t/2+b.x,f=n-n*.08+b.y;let y;for(let B=a.length-1;B>=0;B--){const O=a[B];if(o>=O.time&&(!O.endTime||o<=O.endTime)){y=O;break}}if(!y)return;const{text:S}=y,k=S.split(""),N=.2,j=y.time,L=o-j,d=Math.min(k.length,Math.floor(L/N));if(d<=0)return;const I=k.slice(0,d).join(""),w=Math.floor(o/.5)%2===0&&d<k.length?I+"|":I,A=e.measureText(w),P=A.fontBoundingBoxAscent??v,V=A.width;if(s!==an.NONE){const B=v*.4,O=v*.2,_=V+B*2,z=P+O*2,p=E-_/2,W=f-P-O;s===an.BLACK?e.fillStyle="rgba(0,0,0,0.8)":s===an.TRANSPARENT&&(e.fillStyle="rgba(0,0,0,0.5)"),tn(e,p,W,_,z,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,v/20),e.miterLimit=2;const D=(B=0,O=0)=>{e.fillText(w,E+B,f+O)};if(x===U.FAUX_3D){const B=Math.max(1,Math.floor(v/30)),O=m.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=O;for(let _=1;_<=B;_++)D(_,_)}if(x===U.NEON?e.fillStyle="#FFFFFF":e.fillStyle=m,x===U.NEON?(e.shadowColor=m,e.shadowBlur=h?v*.5:15):x===U.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),x===U.OUTLINE&&(e.strokeStyle=C||m,e.lineWidth=Math.max(2,v/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(w,E-1,f-1),e.strokeText(w,E+1,f-1),e.strokeText(w,E-1,f+1),e.strokeText(w,E+1,f+1),e.strokeText(w,E,f)),D(),x===U.NEON&&(e.shadowBlur=30,D()),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,x===U.GLITCH&&h){e.save(),e.globalCompositeOperation="lighter";const B=8,O=(Math.random()-.5)*B,_=(Math.random()-.5)*B;e.fillStyle="rgba(255, 0, 0, 0.7)",D(O,_),e.fillStyle="rgba(0, 0, 255, 0.7)",D(-O,-_),e.fillStyle="rgba(0, 255, 0, 0.7)",D(O*.5,-_*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=m,D()}if(d<k.length){const B=k[d],O=k.slice(0,d).join(""),_=e.measureText(O),z=E-V/2+_.width,p=f;e.save(),e.shadowColor=m,e.shadowBlur=v*.3,e.fillStyle=m,e.font=`bold ${v*1.1}px "${i}", sans-serif`,e.fillText(B,z,p),e.restore()}e.restore()},eb=(e,t,n,a,o,i,s,c,m,x,h)=>{const C=e.measureText(t).width,v=o;if(c!==an.NONE){const u=o*.3,E=o*.15,f=Math.min(C+u*2,m*.95),y=v+E*2,S=n-f/2,k=a-v/2-E;c===an.BLACK?e.fillStyle="rgba(0,0,0,0.7)":c===an.TRANSPARENT&&(e.fillStyle="rgba(0,0,0,0.4)"),tn(e,S,k,f,y,8),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,o/20),e.miterLimit=2;const r=(u=0,E=0)=>{e.fillText(t,n+u,a+E)};if(x===U.FAUX_3D){const u=Math.max(1,Math.floor(o/30)),E=s.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=E;for(let f=1;f<=u;f++)r(f,f)}if(x===U.NEON?e.fillStyle="#FFFFFF":e.fillStyle=s,x===U.NEON?(e.shadowColor=s,e.shadowBlur=h?o*.4:15):x===U.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),x===U.OUTLINE&&(e.strokeStyle=s,e.lineWidth=Math.max(2,o/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(t,n-1,a-1),e.strokeText(t,n+1,a-1),e.strokeText(t,n-1,a+1),e.strokeText(t,n+1,a+1),e.strokeText(t,n,a)),r(),x===U.NEON&&(e.shadowBlur=30,r()),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,x===U.GLITCH&&h){e.save(),e.globalCompositeOperation="lighter";const u=8,E=(Math.random()-.5)*u,f=(Math.random()-.5)*u;e.fillStyle="rgba(255, 0, 0, 0.7)",r(E,f),e.fillStyle="rgba(0, 0, 255, 0.7)",r(-E,-f),e.fillStyle="rgba(0, 255, 0, 0.7)",r(E*.5,-f*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=s,r()}},tb=(e,t,n,a,o,{fontFamily:i,bgStyle:s,fontSizeVw:c,color:m,effect:x,isBeat:h,dragOffset:b={x:0,y:0}})=>{var z;if(a.length===0)return;e.save();const C=c/100*t,v=un[i]||"Poppins",r=x===U.BOLD?"900":"bold";e.font=`${r} ${C}px "${v}", sans-serif`,e.textAlign="center",e.textBaseline="middle";const u=t*.6,E=n*.25,f=(t-u)/2+b.x,y=n*.65+b.y,S=E/3.5;let k=-1;for(let p=a.length-1;p>=0;p--){const W=a[p];if(o>=W.time&&(!W.endTime||o<=W.endTime)){k=p;break}}if(k===-1){e.restore();return}const N=Math.floor(k/3),j=N*3,L=a.slice(j,j+3),d=p=>Math.max(0,Math.min(1,p)),I=p=>1-Math.pow(1-p,3),T=p=>p<.5?4*p*p*p:1-Math.pow(-2*p+2,3)/2,F=.45,w=.5,A=t*.65,P=t*.65,V=(N+1)*3;let B=V<a.length?(z=a[V])==null?void 0:z.time:void 0;if(B===void 0){const p=L.map(W=>typeof W.endTime=="number"?W.endTime:void 0).filter(W=>typeof W=="number");B=p.length?Math.max(...p):void 0}let O=0;if(typeof B=="number"&&B>0){const p=B-w;O=d((o-p)/w)}const _=T(O)*P;for(let p=0;p<Math.min(3,L.length);p++){const W=L[p];if(!W)continue;const G=o>=W.time,X=typeof B=="number"?o<=B:!0;if(!G||!X)continue;const ne=y+p*S+S/2,q=f+u/2,ie=d((o-W.time)/F),Z=(1-I(ie))*A,H=q+Z-_,ae=ne;eb(e,W.text,H,ae,C,v,m,s,u,x,h)}e.restore()},nb=(e,t,n,a,o,{fontFamily:i,bgStyle:s,fontSize:c,positionX:m,positionY:x,color:h,effect:b,dragOffset:C={x:0,y:0}})=>{if(a.length===0)return;e.save();let v=0;for(let N=0;N<a.length;N++){const j=a[N];if(o<j.time)break;if(!j.endTime||o<=j.endTime){v=N;break}v=N}const r=Math.max(0,v-5),u=Math.min(a.length,r+10),E=a.slice(r,u);if(E.length===0){e.restore();return}const f=n*.08,y=t/2+m*t/100+C.x,k=n/2+x*n/100+C.y-E.length*f/2;E.forEach((N,j)=>{const L=r+j===v,d=r+j<v,I=t*(c/100),T=L?I*1.5:I,F=un[i]||"Poppins",w=b===U.BOLD?"900":"bold";e.font=`${w} ${T}px "${F}", sans-serif`,e.textAlign="center",e.textBaseline="middle";const A=y,P=k+j*f+f/2,V=e.measureText(N.text),D=V.width,B=V.fontBoundingBoxAscent??c;if(s!==an.NONE){const O=c*.4,_=c*.2,z=D+O*2,p=B+_*2,W=A-z/2,G=P-B/2-_;s===an.BLACK?e.fillStyle="rgba(0, 0, 0, 0.8)":s===an.TRANSPARENT&&(e.fillStyle="rgba(0, 0, 0, 0.5)"),tn(e,W,G,z,p,5),e.fill()}if(L?e.fillStyle=h:d?e.fillStyle=h+"99":e.fillStyle=h+"CC",e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,b===U.FAUX_3D){const O=Math.max(1,Math.floor(T/30)),_=h.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=_;for(let z=1;z<=O;z++)e.fillText(N.text,A+z,P+z)}if(b===U.NEON?e.fillStyle="#FFFFFF":e.fillStyle=h,b===U.NEON?(e.shadowColor=h,e.shadowBlur=L?20:15):b===U.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),b===U.OUTLINE&&(e.strokeStyle=h,e.lineWidth=Math.max(2,T/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(N.text,A-1,P-1),e.strokeText(N.text,A+1,P-1),e.strokeText(N.text,A-1,P+1),e.strokeText(N.text,A+1,P+1),e.strokeText(N.text,A,P)),e.fillText(N.text,A,P),b===U.NEON&&(e.shadowBlur=30,e.fillText(N.text,A,P)),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,b===U.GLITCH&&L){e.save(),e.globalCompositeOperation="lighter";const O=8,_=(Math.random()-.5)*O,z=(Math.random()-.5)*O;e.fillStyle="rgba(255, 0, 0, 0.7)",e.fillText(N.text,A+_,P+z),e.fillStyle="rgba(0, 0, 255, 0.7)",e.fillText(N.text,A-_,P-z),e.fillStyle="rgba(0, 255, 0, 0.7)",e.fillText(N.text,A+_*.5,P-z*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=h,e.fillText(N.text,A,P)}}),e.restore()},ab=(e,t,n,{width:a,height:o,color:i,strokeColor:s,fontFamily:c,graphicEffect:m,position:x,textSize:h,textPositionX:b,textPositionY:C,rotationDeg:v,isBeat:r})=>{if(!t)return;e.save();const u=a*.025,E=o*.05;let f=0,y=0;const k=n.slice(0,32).reduce((P,V)=>P+V,0)/32/255,N=a*(h/100),j=N*.05,L=N+k*j,d=m===U.BOLD?"900":"bold";switch(e.font=`${d} ${L}px "${c}", sans-serif`,e.lineJoin="round",e.miterLimit=2,x){case bn.BOTTOM_RIGHT:f=a-u,y=o-E,e.textAlign="right",e.textBaseline="bottom";break;case bn.BOTTOM_LEFT:f=u,y=o-E,e.textAlign="left",e.textBaseline="bottom";break;case bn.TOP_RIGHT:f=a-u,y=E,e.textAlign="right",e.textBaseline="top";break;case bn.TOP_LEFT:f=u,y=E,e.textAlign="left",e.textBaseline="top";break;case bn.CENTER:f=a/2,y=o/2,e.textAlign="center",e.textBaseline="middle";break}const I=a*(b/100),T=o*(C/100);f+=I,y+=T;const F=(v||0)*Math.PI/180;F!==0&&(e.translate(f,y),e.rotate(F),f=0,y=0),m===U.NEON?(e.shadowColor=i,e.shadowBlur=20):m===U.SHADOW&&(e.shadowColor="rgba(0,0,0,0.65)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4);const w=f,A=y;if(m===U.OUTLINE&&(e.strokeStyle=s?ve(s,.9):"rgba(0,0,0,0.75)",e.lineWidth=Math.max(2,L/18),e.strokeText(t,w,A)),m===U.FAUX_3D){const P=Math.max(1,Math.floor(L/28));e.fillStyle="rgba(0,0,0,0.35)";for(let V=1;V<=P;V++)e.fillText(t,w+V,A+V)}if(e.fillStyle=m===U.NEON?"#FFFFFF":i,e.fillText(t,w,A),m===U.NEON&&(e.shadowBlur=10,e.fillText(t,w,A)),m===U.GLITCH&&r){const P=Math.max(2,L/20),V=(Math.random()-.5)*P,D=(Math.random()-.5)*P;e.globalCompositeOperation="lighter",e.fillStyle="rgba(255,0,0,0.55)",e.fillText(t,w+V,A+D),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(t,w-V,A-D),e.globalCompositeOperation="source-over"}e.restore()},lb=(e,t)=>{if(!e)return null;if(t<=0)return e;const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++){const o=Math.pow(a/e.length,t);n[a]=e[a]*o}return n},ob=(e,t)=>{if(!e)return null;if(t<=0)return e;const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++){const o=Math.max(0,a-t),i=Math.min(e.length-1,a+t);let s=0;for(let c=o;c<=i;c++)s+=e[c];n[a]=s/(i-o+1)}return n},Mg=(e,t,n,a,o,i,s,c,m,x,h,b,C,v=!0,r=!0)=>{var ee;const u=(he==null?void 0:he.current)??{},E=typeof(u==null?void 0:u.effectScale)=="number"?u.effectScale:1,f=(u==null?void 0:u.visualizationTransform)||{x:0,y:0},y=Math.max(.1,Math.min(3,E)),S=typeof f.x=="number"&&!isNaN(f.x)?f.x:0,k=typeof f.y=="number"&&!isNaN(f.y)?f.y:0,N=Math.abs(S)>50?S/n*100:S,j=Math.abs(k)>50?k/a*100:k,L=Math.max(-40,Math.min(40,N)),d=Math.max(-40,Math.min(40,j)),I=typeof(u==null?void 0:u.effectOffsetX)=="number"?u.effectOffsetX:0,T=typeof(u==null?void 0:u.effectOffsetY)=="number"?u.effectOffsetY:0,F=n/2+I+L/100*n,w=a/2+T+d/100*a,A=(te,$,K)=>te+($-te)*K;Va.initialized?(Va.cx=A(Va.cx,F,.15),Va.cy=A(Va.cy,w,.15),Va.scale=A(Va.scale,y,.15)):Va={cx:F,cy:w,scale:y,initialized:!0};const P=n/2,D=((he==null?void 0:he.vinylLayoutMode)||"horizontal")==="vertical"?a*.35:a/2,O=Math.min(n,a)*.22,_=O*.82,z=e.createRadialGradient(P,D,O*.2,P,D,O*1.6);z.addColorStop(0,"rgba(0,0,0,0.05)"),z.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=z,e.fillRect(0,0,n,a);const W=10/60*(Math.PI*2)/60,G=o*W+(m?.001:0),X=(he==null?void 0:he.vinylCenterFixed)||!1;if(v){e.save(),e.translate(P,D),X||e.rotate(G);const te=(he==null?void 0:he.vinylImage)??null;if(te){const $=Au("vinylImage",te);if($&&$.complete){const K=O*.6,fe=K*2;e.save(),e.beginPath(),e.arc(0,0,K,0,Math.PI*2),e.clip(),e.drawImage($,-fe/2,-fe/2,fe,fe),e.restore()}}if(e.save(),e.globalAlpha=.7,e.fillStyle="#1c1f24",e.beginPath(),e.arc(0,0,O*.75,0,Math.PI*2),e.arc(0,0,O*.6,0,Math.PI*2,!0),e.fill("evenodd"),e.restore(),te){const $=Au("vinylImageOuter",te);if($&&$.complete){e.save(),e.beginPath(),e.arc(0,0,O,0,Math.PI*2),e.arc(0,0,O*.75,0,Math.PI*2,!0),e.clip("evenodd"),e.rotate(G),e.globalAlpha=.7;const K=O*2;e.drawImage($,-K/2,-K/2,K,K),e.restore()}}if(e.restore(),r){const $=P-O*.92,K=D-O*.92;e.fillStyle="rgba(30,32,36,0.9)",e.beginPath(),e.arc($,K,16,0,Math.PI*2),e.fill(),e.fillStyle="#9aa3ac",e.beginPath(),e.arc($,K,8,0,Math.PI*2),e.fill();const fe=-Math.PI*.72,ge=P+Math.cos(fe)*_*1,se=D+Math.sin(fe)*_*1,oe=$+(ge-$)*.58+10,Se=K+(se-K)*.58-6,Fe=e.createLinearGradient($,K,ge,se);Fe.addColorStop(0,"#ffffff"),Fe.addColorStop(1,"#e5e7eb"),e.strokeStyle=Fe,e.lineWidth=5,e.lineCap="round",e.beginPath(),e.moveTo($,K),e.lineTo(oe,Se),e.stroke(),e.lineWidth=4,e.beginPath(),e.moveTo(oe,Se),e.lineTo(ge,se),e.stroke();const ke=14,Ce=8,xe=ge-oe,je=se-Se,Ze=Math.hypot(xe,je)||1,Te=xe/Ze,tt=je/Ze,He=-tt,Ke=Te,at=ge-Te*(ke*.2),ue=se-tt*(ke*.2);e.fillStyle="#f3f4f6",e.beginPath(),e.moveTo(at+He*Ce,ue+Ke*Ce),e.lineTo(at-He*Ce,ue-Ke*Ce),e.lineTo(at-He*Ce+Te*ke,ue-Ke*Ce+tt*ke),e.lineTo(at+He*Ce+Te*ke,ue+Ke*Ce+tt*ke),e.closePath(),e.fill(),e.fillStyle="#ffffff",e.beginPath();const Ge=ge,Be=se;e.moveTo(Ge,Be),e.lineTo(Ge-Te*6+He*3,Be-tt*6+Ke*3),e.lineTo(Ge-Te*6-He*3,Be-tt*6-Ke*3),e.closePath(),e.fill(),e.globalAlpha=.25,e.beginPath(),e.arc(P,D,_*.95,Math.atan2(ue-D,at-P)-.02,Math.atan2(ue-D,at-P)+.02),e.strokeStyle="#000",e.lineWidth=8,e.stroke(),e.globalAlpha=1}}const ne=n*.21,q=300,ie=(he==null?void 0:he.controlCardEnabled)!==!1;let Z,H;if(((he==null?void 0:he.vinylLayoutMode)||"horizontal")==="vertical"?(Z=P-ne*.5,H=D+O+80,H+q>a-10&&(H=a-q-10),Z=Math.max(10,Z),Z=Math.min(Z,n-ne-10)):(Z=P+O*1.25,H=D-q*.5,Z+ne>n-10&&(Z=n-ne-10),H=Math.max(10,Math.min(H,a-q-10))),ie){const te=he==null?void 0:he.controlCardStyle,$=(he==null?void 0:he.controlCardColor)||"#111827",K=(he==null?void 0:he.controlCardBackgroundColor)||"rgba(0, 0, 0, 0.5)",fe=un[(he==null?void 0:he.controlCardFontFamily)||g.POPPINS]||"Poppins";he!=null&&he.controlCardTextEffect||U.NONE,he!=null&&he.controlCardStrokeColor,te!=="transparent"?e.fillStyle=K:e.fillStyle="rgba(0,0,0,0)",e.strokeStyle=te==="outline"?$:"rgba(0,0,0,0.07)",e.lineWidth=2;const ge=14;e.beginPath(),e.moveTo(Z+ge,H),e.lineTo(Z+ne-ge,H),e.quadraticCurveTo(Z+ne,H,Z+ne,H+ge),e.lineTo(Z+ne,H+q-ge),e.quadraticCurveTo(Z+ne,H+q,Z+ne-ge,H+q),e.lineTo(Z+ge,H+q),e.quadraticCurveTo(Z,H+q,Z,H+q-ge),e.lineTo(Z,H+ge),e.quadraticCurveTo(Z,H,Z+ge,H),e.closePath(),te!=="transparent"&&e.fill(),te==="outline"&&e.stroke();const se=22,oe=Z+se,Se=ne-se*2,Fe=Me=>{const be=Math.floor(Me/60),Oe=Math.floor(Me%60);return`${be.toString().padStart(2,"0")}:${Oe.toString().padStart(2,"0")}`};e.fillStyle=$,e.font=`bold 16px "${fe}", sans-serif`,e.textBaseline="middle";const ke=H+q-140,Ce=ke+24,xe=(Me,be,Oe,Le,ze)=>{e.beginPath(),e.moveTo(Me+ze,be),e.lineTo(Me+Oe-ze,be),e.quadraticCurveTo(Me+Oe,be,Me+Oe,be+ze),e.lineTo(Me+Oe,be+Le-ze),e.quadraticCurveTo(Me+Oe,be+Le,Me+Oe-ze,be+Le),e.lineTo(Me+ze,be+Le),e.quadraticCurveTo(Me,be+Le,Me,be+Le-ze),e.lineTo(Me,be+ze),e.quadraticCurveTo(Me,be,Me+ze,be),e.closePath()},je=10,Ze=ke-je/2,Te=e.createLinearGradient(oe,Ze,oe+Se,Ze);Te.addColorStop(0,"rgba(255,255,255,0.08)"),Te.addColorStop(1,"rgba(0,0,0,0.18)"),e.fillStyle=Te,xe(oe,Ze,Se,je,je/2),e.fill(),e.strokeStyle="rgba(0,0,0,0.25)",e.lineWidth=1,xe(oe+.5,Ze+.5,Se-1,je-1,je/2-1),e.stroke(),e.strokeStyle="rgba(255,255,255,0.15)",e.lineWidth=2;for(let Me=0;Me<=10;Me++){const be=oe+Se*Me/10;e.beginPath(),e.moveTo(be,Ze+je+3),e.lineTo(be,Ze+je+7),e.stroke()}const tt=(ee=he==null?void 0:he.audioRef)==null?void 0:ee.current,He=(tt==null?void 0:tt.duration)||0,Ke=(tt==null?void 0:tt.currentTime)||0,at=He>0?Ke/He:0,ue=Math.max(0,Math.min(Se,Se*at)),Ge=e.createLinearGradient(oe,Ze,oe+ue,Ze);Ge.addColorStop(0,$),Ge.addColorStop(1,"rgba(255,255,255,0.85)"),e.fillStyle=Ge,xe(oe,Ze,ue,je,je/2),e.fill();const Be=8,lt=(typeof o=="number"?o:0)%Be;e.save(),e.beginPath(),xe(oe,Ze,ue,je,je/2),e.clip(),e.strokeStyle="rgba(255,255,255,0.25)",e.lineWidth=3;for(let Me=oe-Be+lt;Me<oe+ue;Me+=Be)e.beginPath(),e.moveTo(Me,Ze),e.lineTo(Me+6,Ze+je),e.stroke();e.restore(),e.fillStyle="#ffffff";const Re=oe+Se*at;e.beginPath(),e.arc(Re,ke,9,0,Math.PI*2),e.fill(),e.fillStyle="#ffffff",e.font="bold 16px Poppins, sans-serif",e.textBaseline="middle",e.fillText(Fe(Ke),oe+2,Ce),He>0&&e.fillText(Fe(He),oe+Se-48,Ce);const Ft=20,Qe=oe+Ft,we=Se-Ft*2,Ee=H+100,Wt=64,Lt=(Me,be,Oe)=>{if(!t)return .5;const Le=t.length,ze=Math.max(0,Math.min(Le-1,Math.floor(be*Le))),Tt=Math.max(ze+1,Math.min(Le,Math.floor(Oe*Le))),dt=ze+Math.floor(Me*(Tt-ze-1));return t[dt]/255},et=1300,We=()=>{e.beginPath();for(let Me=0;Me<=Wt;Me++){const be=Me/Wt,Oe=Lt(be,.25,.6),Le=Math.max(0,Oe-.4),ze=Ee-Math.pow(Le,1.25)*et,Tt=Qe+be*we;Me===0?e.moveTo(Tt,ze):e.lineTo(Tt,ze)}e.strokeStyle="rgba(255,255,255,0.92)",e.lineWidth=2,e.stroke()},ht=Wt+1,gn=Math.max(2,we/ht*.6);for(let Me=0;Me<ht;Me++){const be=Me/(ht-1),Oe=Lt(be,.05,.35),Le=Math.max(0,Oe-.28),ze=Math.pow(Le,1.35)*900,dt=Qe+be*we-gn/2,Bt=Ee-ze,Dt=e.createLinearGradient(0,Bt,0,Ee);Dt.addColorStop(0,"rgba(210,230,110,0.85)"),Dt.addColorStop(1,"rgba(210,230,110,0.15)"),e.fillStyle=Dt,e.fillRect(dt,Bt,gn,ze),e.fillStyle="rgba(255,255,255,0.25)",e.fillRect(dt,Bt,gn,2)}We();const st=ke+80,yn=100,Gt=Z+ne*.5,mt=Gt-yn,Pt=Gt+yn,Rt=(Me,be)=>{e.fillStyle="rgba(0,0,0,0.25)",e.beginPath(),e.arc(Me,be,28,0,Math.PI*2),e.fill()};Rt(mt,st),Rt(Gt,st),Rt(Pt,st),e.fillStyle=$,e.beginPath(),e.moveTo(mt+10,st-10),e.lineTo(mt-6,st),e.lineTo(mt+10,st+10),e.closePath(),e.fill(),e.fillRect(Gt-8,st-12,6,24),e.fillRect(Gt+2,st-12,6,24),e.beginPath(),e.moveTo(Pt-10,st-10),e.lineTo(Pt+6,st),e.lineTo(Pt-10,st+10),e.closePath(),e.fill()}},ah={};function Au(e,t){const n=ah[e];if(n&&n.src===t)return n;const a=new Image;return a.crossOrigin="anonymous",a.src=t,a.onload=()=>{console.log("[Vinyl] image loaded",e)},a.onerror=o=>{console.warn("[Vinyl] image failed to load",e,t,o)},ah[e]=a,a}const rb=(e,t,n,a,o,i,s,c,m)=>{if(!t)return;const x=(he==null?void 0:he.pianoOpacity)??1,h=a*.25,b=28,C=n/b,v=C*.6,r=h*.6;e.save(),e.globalAlpha=x;for(let E=0;E<b;E++){const f=E*C,y=Math.floor(t.length*.7/b),S=E*y,k=S+y;let N=0;for(let L=S;L<k;L++)N+=t[L]||0;N=N/(y*255);const j=Math.pow(N,2)*i>.1;e.fillStyle=j?s.accent:"#f8f9fa",e.strokeStyle="#dee2e6",e.lineWidth=1,e.fillRect(f,a-h,C-1,h),e.strokeRect(f,a-h,C-1,h),e.fillStyle=j?"#ffffff":"#6c757d",e.font="12px Arial",e.textAlign="center",e.fillText(String.fromCharCode(65+E%7),f+C/2,a-10)}const u=[1,1,0,1,1,1,0];for(let E=0;E<b-1;E++){const f=E%7;if(u[f]===1){const y=(E+1)*C-v/2,S=((t[Math.floor(E*t.length*.7/b)]||0)+(t[Math.floor((E+1)*t.length*.7/b)]||0))/2/255,k=Math.pow(S,2)*i>.15;e.fillStyle=k?s.secondary:"#343a40",e.fillRect(y,a-h,v,r),e.fillStyle="rgba(255, 255, 255, 0.2)",e.fillRect(y,a-h,v,5)}}e.restore()},ib={[re.MONSTERCAT]:Ng,[re.MONSTERCAT_V2]:VS,[re.MONSTERCAT_GLITCH]:US,[re.NEBULA_WAVE]:RS,[re.LUMINOUS_WAVE]:FS,[re.FUSION]:PS,[re.TECH_WAVE]:AS,[re.STELLAR_CORE]:pS,[re.WATER_RIPPLE]:LS,[re.RADIAL_BARS]:_S,[re.PARTICLE_GALAXY]:jS,[re.LIQUID_METAL]:BS,[re.CRT_GLITCH]:zS,[re.GLITCH_WAVE]:DS,[re.DATA_MOSH]:HS,[re.SIGNAL_SCRAMBLE]:WS,[re.PIXEL_SORT]:GS,[re.REPULSOR_FIELD]:$S,[re.AUDIO_LANDSCAPE]:XS,[re.PIANO_VIRTUOSO]:rb,[re.GEOMETRIC_BARS]:ju,[re.Z_CUSTOM]:ju,[re.VINYL_RECORD]:Mg,[re.BASIC_WAVE]:nh,[re.LYRIC_PULSE_LINE]:YS,[re.CHINESE_CONTROL_CARD]:nh,[re.DYNAMIC_CONTROL_CARD]:xg,[re.FRAME_PIXELATION]:Eg,[re.PHOTO_SHAKE]:wg,[re.CIRCULAR_WAVE]:Tg,[re.BLURRED_EDGE]:Og,[re.KE_YE_CUSTOM_V2]:Ig},sb=new Set([re.PIANO_VIRTUOSO,re.MONSTERCAT_GLITCH,re.CRT_GLITCH,re.GLITCH_WAVE,re.DATA_MOSH,re.SIGNAL_SCRAMBLE,re.PIXEL_SORT]),kg=M.forwardRef((e,t)=>{const{analyser:n,audioRef:a,isPlaying:o,disableVisualizer:i}=e,s=M.useRef(0),c=M.useRef(0),m=M.useRef([]),x=M.useRef([]),h=M.useRef(null),b=M.useRef(null),C=M.useRef(null),v=M.useRef(null),r=M.useRef(null),u=M.useRef(e),E=M.useRef({isDragging:!1,draggedElement:null,dragOffset:{x:0,y:0},startPosition:{x:0,y:0}}),f=M.useRef({isPlaying:!1,startTime:0,duration:5e3,currentFrame:0,lastRenderMs:0,lastBeatMs:0,particles:[]});M.useEffect(()=>{u.current=e,he=e},[e]),M.useEffect(()=>{m.current=[],x.current=[],Ha.imageData=null,Ha.framesLeft=0},[e.visualizationType]),M.useEffect(()=>{if(e.backgroundImage){console.log("Loading background image:",e.backgroundImage);const d=new Image;d.crossOrigin="anonymous",d.src=e.backgroundImage,d.onload=()=>{console.log("Background image loaded successfully"),h.current=d},d.onerror=I=>{console.error("Failed to load background image:",I),h.current=null}}else console.log("No background image prop provided"),h.current=null},[e.backgroundImage]),M.useEffect(()=>{if(e.backgroundVideo){console.log("Loading background video:",e.backgroundVideo),b.current&&(b.current.pause(),b.current.src="",b.current.load());const d=document.createElement("video");d.crossOrigin="anonymous",d.src=e.backgroundVideo,d.loop=!1,d.muted=!0,d.playsInline=!0,d.preload="auto";let I=!1,T=null;d.onseeked=()=>{I&&e.isPlaying&&a.current&&!a.current.ended&&(I=!1,T&&(clearTimeout(T),T=null),d.readyState>=2?d.play().catch(w=>{console.error("Failed to replay background video:",w)}):setTimeout(()=>{d.readyState>=2&&e.isPlaying&&a.current&&!a.current.ended&&d.play().catch(w=>{console.error("Failed to replay background video after wait:",w)})},50))},d.onloadedmetadata=()=>{console.log("Background video loaded successfully"),b.current=d,e.isPlaying&&a.current&&(d.currentTime=0,d.play().catch(w=>{console.error("Failed to play background video:",w)}))},d.onerror=w=>{console.error("Failed to load background video:",w),b.current=null},d.onended=()=>{e.isPlaying&&a.current&&!a.current.ended?(I=!0,d.pause(),requestAnimationFrame(()=>{d.currentTime=0,T&&clearTimeout(T),T=window.setTimeout(()=>{I&&e.isPlaying&&a.current&&!a.current.ended&&(I=!1,d.readyState>=2&&d.play().catch(w=>{console.error("Failed to replay background video (timeout):",w)}))},200)})):d.pause()};const F=()=>{d&&!d.paused&&d.pause()};a.current&&a.current.addEventListener("ended",F)}else b.current&&(b.current.pause(),b.current.src="",b.current.load()),b.current=null,C.current=null;return()=>{b.current&&(b.current.pause(),b.current.src="",b.current.load()),C.current=null}},[e.backgroundVideo,e.isPlaying]),M.useEffect(()=>{b.current&&(e.isPlaying?b.current.paused&&b.current.play().catch(d=>{console.error("Failed to play background video:",d)}):b.current.paused||b.current.pause())},[e.isPlaying]),M.useEffect(()=>{if(e.geometricFrameImage){console.log("Loading geometric frame image:",e.geometricFrameImage);const d=new Image;d.crossOrigin="anonymous",d.src=e.geometricFrameImage,d.onload=()=>{console.log("Geometric frame image loaded successfully"),v.current=d},d.onerror=I=>{console.error("Failed to load geometric frame image:",I),v.current=null}}else v.current=null},[e.geometricFrameImage]),M.useEffect(()=>{if(e.geometricSemicircleImage){console.log("Loading geometric semicircle image:",e.geometricSemicircleImage);const d=new Image;d.crossOrigin="anonymous",d.src=e.geometricSemicircleImage,d.onload=()=>{console.log("Geometric semicircle image loaded successfully"),r.current=d},d.onerror=I=>{console.error("Failed to load geometric semicircle image:",I),r.current=null}}else r.current=null},[e.geometricSemicircleImage]);const y=M.useRef([]),S=M.useRef(null),k=M.useCallback(()=>{var ze,Tt,dt,Bt,Dt,qn,va;const{visualizationType:d,customText:I,textColor:T,fontFamily:F,graphicEffect:w,textSize:A,textPositionX:P,textPositionY:V,sensitivity:D,smoothing:B,equalization:O,backgroundColor:_,colors:z,watermarkPosition:p,waveformStroke:W,isTransitioning:G,transitionType:X,backgroundImages:ne,currentImageIndex:q,subtitles:ie,showSubtitles:Z,subtitleFontSize:H,subtitleFontFamily:ae,subtitleColor:ee,subtitleEffect:te,subtitleBgStyle:$,effectScale:K,effectOffsetX:fe,effectOffsetY:ge,filterEffectType:se,filterEffectIntensity:oe,filterEffectOpacity:Se,filterEffectSpeed:Fe,filterEffectEnabled:ke,controlCardEnabled:Ce,controlCardFontSize:xe,controlCardStyle:je,controlCardColor:Ze,controlCardBackgroundColor:Te,controlCardFontFamily:tt,controlCardTextEffect:He,controlCardStrokeColor:Ke}=u.current,at=t.current;if(!at)return;const ue=at.getContext("2d");if(!ue)return;const Ge=u.current.disableVisualizer;if(!n&&!Ge)return;c.current++;let Be=null,lt=0,Re=!1;n&&(Be=new Uint8Array(n.frequencyBinCount),n.getByteFrequencyData(Be),lt=Be.slice(0,32).reduce((Q,pe)=>Q+pe,0)/32,lt>180&&(Re=!0));const Ft=lb(Be,O),Qe=ob(Ft,B),{width:we,height:Ee}=at,Wt=we/2,Lt=Ee/2;let et={...z};if(et.name===Ie.RAINBOW){const Q=c.current*.1%360,pe=Q,Ye=Q+80;et={...et,primary:`hsl(${Q}, 90%, 60%)`,secondary:`hsl(${(Q+120)%360}, 80%, 60%)`,accent:`hsl(${(Q+40)%360}, 100%, 80%)`,hueRange:[pe,Ye]}}_==="transparent"?ue.clearRect(0,0,we,Ee):(ue.fillStyle=_,ue.fillRect(0,0,we,Ee));const We=b.current,ht=We&&We.readyState>=2,gn=h.current&&h.current.complete;if(ht&&We){const Q=we/Ee,pe=We.videoWidth/We.videoHeight;let Ye,ot,Ve,nt;if(Q>pe?(Ve=We.videoWidth,nt=Ve/Q,Ye=0,ot=(We.videoHeight-nt)/2):(nt=We.videoHeight,Ve=nt*Q,ot=0,Ye=(We.videoWidth-Ve)/2),We.readyState>=2)try{if(ue.drawImage(We,Ye,ot,Ve,nt,0,0,we,Ee),c.current%10===0)try{C.current=ue.getImageData(0,0,we,Ee)}catch{}}catch(Ae){console.error("Error drawing video:",Ae),C.current&&ue.putImageData(C.current,0,0)}else C.current&&ue.putImageData(C.current,0,0)}else if(gn){const Q=h.current,pe=we/Ee,Ye=Q.width/Q.height;let ot,Ve,nt,Ae;pe>Ye?(nt=Q.width,Ae=nt/pe,ot=0,Ve=(Q.height-Ae)/2):(Ae=Q.height,nt=Ae*pe,Ve=0,ot=(Q.width-nt)/2),ue.drawImage(Q,ot,Ve,nt,Ae,0,0,we,Ee)}if(G&&ne.length>0){const Q=ub(X);db(ue,we,Ee,X,Q)}const st=!!u.current.multiEffectEnabled,yn=u.current.selectedVisualizationTypes,Gt=!Ge&&st&&Array.isArray(yn)&&yn.length>0?yn:Ge?[]:[d];if(!Ge)for(const Q of Gt){const pe=ib[Q];if(!pe)continue;const Ye=!sb.has(Q);let ot=u.current;if(Ye){ue.save();const Ve=!!u.current.multiEffectEnabled,nt=Ve?{x:0,y:0}:u.current.visualizationTransform||{x:0,y:0},Ae=!Ve&&E.current.draggedElement==="visualization"?E.current.dragOffset:{x:0,y:0},ut=u.current.visualizationScale||1,Ot=typeof u.current.effectScale=="number"?u.current.effectScale:1,$t=typeof u.current.effectOffsetX=="number"?u.current.effectOffsetX:0,zt=typeof u.current.effectOffsetY=="number"?u.current.effectOffsetY:0,wn=typeof u.current.effectRotation=="number"?u.current.effectRotation:0,Qt=((ze=u.current.multiEffectOffsets)==null?void 0:ze[Q])||{x:0,y:0},gt=((Tt=u.current.multiEffectTransforms)==null?void 0:Tt[Q])||{x:Qt.x||0,y:Qt.y||0,scale:1,rotation:0},Ca=Ve?gt.x||0:$t+nt.x+Ae.x+(Qt.x||0),Sa=Ve?gt.y||0:zt+nt.y+Ae.y+(Qt.y||0),ba=Ve?gt.scale||1:Ot*ut,vn=(Ve?gt.rotation||0:wn)*Math.PI/180;let Tn,jn,da,Na,Hn=!1;if(Ve)try{Tn=u.current.effectOffsetX,jn=u.current.effectOffsetY,da=u.current.effectScale,Na=u.current.effectRotation,u.current.effectOffsetX=gt.x||0,u.current.effectOffsetY=gt.y||0,u.current.effectScale=gt.scale||1,u.current.effectRotation=gt.rotation||0,u.current.multiEffectOffsets={...u.current.multiEffectOffsets,[Q]:{x:gt.x||0,y:gt.y||0}},Hn=!0}catch(An){console.warn("Cannot override propsRef properties in multi-effect mode, using direct transform instead:",An),Hn=!1}ue.translate(Wt+Ca,Lt+Sa),vn!==0&&ue.rotate(vn),ue.scale(ba,ba),ue.translate(-Wt,-Lt),Ve&&Hn===!1&&(ot={...u.current,effectOffsetX:gt.x||0,effectOffsetY:gt.y||0,effectScale:gt.scale||1,effectRotation:gt.rotation||0}),ue.__multiRestore=()=>{if(Hn)try{u.current.effectOffsetX=Tn,u.current.effectOffsetY=jn,u.current.effectScale=da,u.current.effectRotation=Na}catch{}}}if(Q===re.STELLAR_CORE){const nt=Qe.slice(0,32).reduce((Ot,$t)=>Ot+$t,0)/32/255,Ae=Math.min(we,Ee)*.5+nt*50,ut=ue.createRadialGradient(Wt,Lt,0,Wt,Lt,Ae);ut.addColorStop(0,et.backgroundGlow),ut.addColorStop(1,"rgba(10, 20, 40, 0)"),ue.fillStyle=ut,ue.fillRect(0,0,we,Ee)}if(Q===re.GEOMETRIC_BARS)ju(ue,Qe,we,Ee,c.current,D,et,w,Re,W,m.current,v.current,r.current,ot,Ce,xe,je,Ze,Te,he==null?void 0:he.controlCardFontFamily,he==null?void 0:he.controlCardTextEffect,he==null?void 0:he.controlCardStrokeColor);else if(Q===re.Z_CUSTOM){const Ve=typeof c.current=="number"?c.current:0;Ib(ue,we,Ee,u.current.zCustomCenterImage,u,Ve)}else if(Q===re.VINYL_RECORD){const Ve=((dt=u.current)==null?void 0:dt.vinylRecordEnabled)!==!1,nt=((Bt=u.current)==null?void 0:Bt.vinylNeedleEnabled)!==!1;Mg(ue,Qe,we,Ee,c.current,D,et,w,Re,W,m.current,v.current,r.current,Ve,nt)}else Q===re.PHOTO_SHAKE?wg(ue,Qe,we,Ee,c.current,D,et,w,Re,W,ot):Q===re.FRAME_PIXELATION?Eg(ue,Qe,we,Ee,c.current,D,et,w,Re,W,ot):Q===re.DYNAMIC_CONTROL_CARD?xg(ue,Qe,we,Ee,c.current,D,et,w,Re,W,ot):Q===re.CIRCULAR_WAVE?Tg(ue,Qe,we,Ee,c.current,D,et,w,Re,W,ot):Q===re.BLURRED_EDGE?Og(ue,Qe,we,Ee,c.current,D,et,w,Re,W,ot):Q===re.KE_YE_CUSTOM_V2?Ig(ue,Qe,we,Ee,c.current,D,et,w,Re,W,ot):pe(ue,Qe,we,Ee,c.current,D,et,w,Re,W,m.current);if(Ye){try{(Dt=ue.__multiRestore)==null||Dt.call(ue)}catch{}delete ue.__multiRestore,ue.restore()}}if(Gt.includes(re.PIANO_VIRTUOSO)){const Q=Ee*.25,pe=28,Ye=we/pe,ot=Math.floor(Qe.length*.7/pe),Ve=new Array(pe).fill(0);for(let Ae=0;Ae<pe;Ae++){let ut=0;const Ot=Ae*ot,$t=Ot+ot;for(let zt=Ot;zt<$t;zt++)ut+=Qe[zt]||0;Ve[Ae]=ut/(ot*255)}Ve.forEach((Ae,ut)=>{Math.pow(Ae,2)*D>.1&&Math.random()>.8&&m.current.push({x:ut*Ye+Ye/2,y:Ee-Q,vy:-3-Ae*6,vx:(Math.random()-.5)*1.5,opacity:1,radius:25+Ae*40,color:et.accent,angle:Math.random(),orbitRadius:0,baseOrbitRadius:0,angleVelocity:0})});const nt=[1,1,0,1,1,1,0];for(let Ae=0;Ae<pe-1;Ae++){const ut=Ae%7;if(nt[ut]===1){const Ot=(Ve[Ae]+Ve[Ae+1])/2;Math.pow(Ot,2)*D>.15&&Math.random()>.8&&m.current.push({x:(Ae+1)*Ye,y:Ee-Q,vy:-3-Ot*6,vx:(Math.random()-.5)*1.5,opacity:1,radius:25+Ot*30,color:et.secondary,angle:Math.random(),orbitRadius:0,baseOrbitRadius:0,angleVelocity:0})}}}if(m.current.forEach(Q=>{Q.y+=Q.vy,Q.x+=Q.vx,Q.vy+=.08,Q.opacity-=.015}),m.current.forEach(Q=>{const pe=["","","","",""],Ye=pe[Math.floor(Q.angle*pe.length)];ue.save(),ue.font=`bold ${Q.radius}px "Arial"`,ue.fillStyle=ve(Q.color,Q.opacity),ue.textAlign="center",ue.textBaseline="middle",ue.shadowColor=ve(Q.color,Q.opacity*.8),ue.shadowBlur=15,ue.fillText(Ye,Q.x,Q.y),ue.restore()}),m.current=m.current.filter(Q=>Q.opacity>0&&Q.y<Ee+100),ke&&se){S.current!==se&&(y.current=[],S.current=se);const Q=Math.max(we/1920,Ee/1080)*1.5,pe=Math.floor((oe||.5)*80*Q);if(y.current.length<pe&&Math.random()<.15){const Ye=Mb(se,we,Ee);y.current.push(Ye)}y.current=y.current.filter(Ye=>!(Ye.y>Ee+20||Ye.x<-20||Ye.x>we+20)),Fb(ue,we,Ee,se,oe||.5,Se||.6,Fe||1,y.current,c.current)}const mt=((qn=a.current)==null?void 0:qn.currentTime)??0;let Pt,Rt=-1;if(Z&&ie.length>0)for(let Q=ie.length-1;Q>=0;Q--){const pe=ie[Q];if(mt>=pe.time&&(!pe.endTime||mt<=pe.endTime)){Pt=pe,Rt=Q;break}}if(u.current.ctaVideoEnabled&&u.current.ctaVideoElement){const Q=u.current.ctaVideoElement;if(Q.paused&&!Q.ended&&Q.play().catch(()=>{}),Q.readyState>=2&&Q.videoWidth>0&&Q.videoHeight>0){const pe=typeof Q.currentTime=="number"?Q.currentTime:0,Ye=typeof Q.duration=="number"?Q.duration:NaN,ot=.25,Ve=.4,nt=ut=>Math.max(0,Math.min(1,ut));let Ae=1;if(Number.isFinite(Ye)&&Ye>.001){const ut=nt(pe/ot),Ot=nt((Ye-pe)/Ve);Ae=ut*Ot,Q.ended&&(Ae=0)}if(!(Ae<=.001)){const ut=we/Ee,Ot=Q.videoWidth/Q.videoHeight;let $t=0,zt=0,wn=Q.videoWidth,Qt=Q.videoHeight;ut>Ot?(wn=Q.videoWidth,Qt=wn/ut,$t=0,zt=(Q.videoHeight-Qt)/2):(Qt=Q.videoHeight,wn=Qt*ut,zt=0,$t=(Q.videoWidth-wn)/2),ue.save(),ue.globalAlpha=Ae,ue.drawImage(Q,$t,zt,wn,Qt,0,0,we,Ee),ue.restore()}}}if(u.current.subtitleDisplayMode===Ut.LYRICS_SCROLL&&ie.length>0){const Q=E.current.draggedElement==="lyrics"?E.current.dragOffset:u.current.lyricsDragOffset||{x:0,y:0};nb(ue,we,Ee,ie,mt,{fontFamily:u.current.lyricsFontFamily,bgStyle:$,fontSize:u.current.lyricsFontSize,positionX:u.current.lyricsPositionX+Q.x/we*100,positionY:u.current.lyricsPositionY+Q.y/Ee*100,color:ee,effect:te||U.NONE})}else if(u.current.subtitleDisplayMode===Ut.WORD_BY_WORD&&ie.length>0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:u.current.subtitleDragOffset||{x:0,y:0};JS(ue,we,Ee,ie,mt,{fontFamily:ae,bgStyle:$,fontSizeVw:H,color:ee,effect:te||U.NONE,isBeat:Re,dragOffset:Q,strokeColor:u.current.subtitleStrokeColor})}else if(u.current.subtitleDisplayMode===Ut.SLIDING_GROUP&&ie.length>0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:u.current.subtitleDragOffset||{x:0,y:0};tb(ue,we,Ee,ie,mt,{fontFamily:ae,bgStyle:$,fontSizeVw:H,color:ee,effect:te||U.NONE,isBeat:Re,dragOffset:Q})}else if(u.current.subtitleDisplayMode===Ut.CLASSIC&&Pt){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:u.current.subtitleDragOffset||{x:0,y:0};Pi(ue,we,Ee,Pt,{fontSizeVw:H,fontFamily:ae,color:ee,effect:te||U.NONE,bgStyle:$,isBeat:Re,dragOffset:Q,orientation:u.current.subtitleOrientation,strokeColor:u.current.subtitleStrokeColor})}else if(u.current.subtitleDisplayMode===Ut.PARTIAL_BLUR&&Pt&&Rt>=0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:u.current.subtitleDragOffset||{x:0,y:0};ZS(ue,we,Ee,ie,Rt,Pt,mt,{fontSizeVw:H,fontFamily:ae,color:ee,effect:te||U.NONE,bgStyle:$,isBeat:Re,dragOffset:Q,orientation:u.current.subtitleOrientation,strokeColor:u.current.subtitleStrokeColor,fadeInSeconds:.25,fadeOutSeconds:.25})}else if(u.current.subtitleDisplayMode===Ut.FADE_LINES&&Pt&&Rt>=0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:u.current.subtitleDragOffset||{x:0,y:0};QS(ue,we,Ee,ie,Rt,Pt,mt,{fontSizeVw:H,fontFamily:ae,color:ee,effect:te||U.NONE,bgStyle:$,isBeat:Re,dragOffset:Q,orientation:u.current.subtitleOrientation,strokeColor:u.current.subtitleStrokeColor,fadeInSeconds:u.current.subtitleFadeInSeconds??.25,fadeOutSeconds:u.current.subtitleFadeOutSeconds??.25,linesEnabled:u.current.subtitleFadeLinesEnabled!==!1,lineColor:u.current.subtitleLineColor??"#FFFFFF",lineThickness:u.current.subtitleLineThickness??3,lineGap:u.current.subtitleLineGap??10})}const Me=u.current.customTextOverlays,be=Array.isArray(Me)?Me:[],Oe={enabled:!0,text:I,color:T,strokeColor:u.current.textStrokeColor,fontFamily:F,graphicEffect:w,textSize:A,textPositionX:P,textPositionY:V,rotationDeg:0,anchor:p},Le=be.length>0?be:[Oe];for(const Q of Le){if(!Q||Q.enabled===!1)continue;const pe=(Q.text??"").toString();if(!pe.trim())continue;const Ye=un[Q.fontFamily]||"Poppins";ab(ue,pe,Qe,{width:we,height:Ee,color:Q.color||"#FFFFFF",strokeColor:Q.strokeColor,fontFamily:Ye,graphicEffect:Q.graphicEffect||U.NONE,position:Q.anchor||bn.BOTTOM_RIGHT,textSize:typeof Q.textSize=="number"?Q.textSize:A,textPositionX:typeof Q.textPositionX=="number"?Q.textPositionX:0,textPositionY:typeof Q.textPositionY=="number"?Q.textPositionY:0,rotationDeg:typeof Q.rotationDeg=="number"?Q.rotationDeg:0,isBeat:Re})}if(u.current.showCtaAnimation&&u.current.ctaChannelName&&!(u.current.ctaVideoReplaceCtaAnimation&&u.current.ctaVideoEnabled)){const Q=u.current.ctaPosition||{x:50,y:50},pe=E.current.isDragging&&E.current.draggedElement==="cta"?E.current.dragOffset:{x:0,y:0},Ye={x:Q.x+pe.x/we*100,y:Q.y+pe.y/Ee*100};L(ue,we,Ee,u.current.ctaChannelName,Ye,u.current.ctaFontFamily,u.current.ctaTextColor,u.current.ctaStrokeColor,u.current.ctaTextEffect,Re)}if(u.current.showIntroOverlay){const Q=((va=a.current)==null?void 0:va.currentTime)??0;qS(ue,we,Ee,Q,{enabled:!!u.current.showIntroOverlay,startTime:u.current.introStartTime??0,fadeIn:u.current.introFadeIn??.8,hold:u.current.introHold??1.6,fadeOut:u.current.introFadeOut??.8,positionX:u.current.introPositionX??50,positionY:u.current.introPositionY??50,bgOpacity:u.current.introBgOpacity??.35,title:u.current.introTitle??"",artist:u.current.introArtist??"",description:u.current.introDescription??"",fontFamily:u.current.introFontFamily??g.POPPINS,effect:u.current.introEffect??U.NEON,color:u.current.introColor??"#FFFFFF",strokeColor:u.current.introStrokeColor??"#000000",titleSizeVw:u.current.introTitleSize??6,artistSizeVw:u.current.introArtistSize??4,descriptionSizeVw:u.current.introDescriptionSize??2.8,lightBarsEnabled:u.current.introLightBarsEnabled!==!1})}u.current.isPlaying&&(s.current=requestAnimationFrame(k))},[n,t,i]);M.useEffect(()=>(o?s.current=requestAnimationFrame(k):(cancelAnimationFrame(s.current),setTimeout(()=>{u.current.isPlaying||k()},0)),()=>{cancelAnimationFrame(s.current)}),[o,k,i,n]),M.useEffect(()=>{const d=t==null?void 0:t.current;if(!d)return;const I=new ResizeObserver(T=>{for(const F of T){const{width:w,height:A}=F.contentRect;(d.width!==w||d.height!==A)&&(d.width=w,d.height=A)}});return I.observe(d),()=>{I.disconnect()}},[t]),M.useEffect(()=>{const d=t==null?void 0:t.current;if(!d)return;const I=A=>{const P=d.getBoundingClientRect();return{x:A.clientX-P.left,y:A.clientY-P.top}},T=A=>{const P=I(A),{width:V,height:D}=d,B=N(P,V,D);console.log("Mouse down at:",P,"Clicked element:",B),B&&(E.current.isDragging=!0,E.current.draggedElement=B,E.current.startPosition=P,E.current.dragOffset={x:0,y:0},d.style.cursor="grabbing",console.log("Started dragging:",B),A.preventDefault())},F=A=>{if(E.current.isDragging&&E.current.draggedElement){const P=I(A);E.current.dragOffset={x:P.x-E.current.startPosition.x,y:P.y-E.current.startPosition.y},A.preventDefault()}},w=()=>{E.current.isDragging&&E.current.draggedElement&&(j(E.current.draggedElement,E.current.dragOffset),E.current.isDragging=!1,E.current.draggedElement=null,E.current.dragOffset={x:0,y:0},d.style.cursor="default")};return d.addEventListener("mousedown",T,{passive:!1}),d.addEventListener("mousemove",F,{passive:!1}),d.addEventListener("mouseup",w),d.addEventListener("mouseleave",w),()=>{d.removeEventListener("mousedown",T),d.removeEventListener("mousemove",F),d.removeEventListener("mouseup",w),d.removeEventListener("mouseleave",w)}},[t]);const N=(d,I,T)=>{const{visualizationType:F,showSubtitles:w,subtitleDisplayMode:A,subtitles:P,currentTime:V}=u.current;if(u.current.showCtaAnimation&&u.current.ctaChannelName&&u.current.ctaPosition&&!(u.current.ctaVideoReplaceCtaAnimation&&u.current.ctaVideoEnabled)){const D=u.current.ctaPosition||{x:50,y:50},B=E.current.isDragging&&E.current.draggedElement==="cta"?E.current.dragOffset:{x:0,y:0},O={x:D.x+B.x/I*100,y:D.y+B.y/T*100},_=O.x/100*I,z=O.y/100*T,p=600;if(d.x>=_-p/2&&d.x<=_+p/2&&d.y>=z-p/2&&d.y<=z+p/2)return console.log("CTA detected at:",{ctaX:_,ctaY:z,ctaSize:p,pos:d}),"cta"}if(F===re.GEOMETRIC_BARS){const D=I/2,B=T*.4,O=Math.min(I*.4,T*.5),_=D-O/2,z=B-O/2,p=O*.2;if(d.x>=_+p&&d.x<=_+O-p&&d.y>=z+p&&d.y<=z+O-p)return"visualization"}else{const D=I/2,B=T/2,O=I*.3,_=T*.3;if(d.x>=D-O/2&&d.x<=D+O/2&&d.y>=B-_/2&&d.y<=B+_/2)return"visualization"}if(w&&P.length>0)if(A===Ut.LYRICS_SCROLL){const D=I/2,B=T/2,O=I*.9,_=T*.7;if(d.x>=D-O/2&&d.x<=D+O/2&&d.y>=B-_/2&&d.y<=B+_/2)return"lyrics"}else if(u.current.subtitleOrientation===on.VERTICAL){const B=I-I*.1,O=I*.15,_=T/2,z=T*.6;if(d.x>=B-O&&d.x<=B+O&&d.y>=_-z/2&&d.y<=_+z/2)return"subtitle"}else{const B=T-T*.08,O=T*.25;if(d.y>=B-O&&d.y<=B+O)return"subtitle"}return null},j=(d,I)=>{const{width:T,height:F}=t.current||{width:0,height:0};if(d==="visualization"){if(u.current.onVisualizationTransformUpdate){const w=u.current.visualizationTransform||{x:0,y:0,scale:1};u.current.onVisualizationTransformUpdate({...w,x:w.x+I.x,y:w.y+I.y})}}else if(d==="cta"){if(u.current.onCtaPositionUpdate){const w=u.current.ctaPosition||{x:50,y:50},A=Math.max(0,Math.min(100,w.x+I.x/T*100)),P=Math.max(0,Math.min(100,w.y+I.y/F*100));u.current.onCtaPositionUpdate({x:A,y:P})}}else d==="lyrics"?(I.x/T*100,I.y/F*100,u.current.onLyricsDragUpdate&&u.current.onLyricsDragUpdate({x:I.x,y:I.y})):d==="subtitle"&&u.current.onSubtitleDragUpdate&&u.current.onSubtitleDragUpdate({x:I.x,y:I.y})},L=(d,I,T,F,w,A,P,V,D,B)=>{var mt,Pt,Rt,Me;const O=Date.now(),_=((Pt=(mt=u.current.audioRef)==null?void 0:mt.current)==null?void 0:Pt.currentTime)||0;if(_>10&&!E.current.isDragging&&u.current.isPlaying&&((Rt=u.current.audioRef)!=null&&Rt.current))return;const z=u.current.isPlaying&&((Me=u.current.audioRef)!=null&&Me.current)?_:O/1e3%10,p=f.current,W=p.lastRenderMs||O,G=Math.min(.05,Math.max(0,(O-W)/1e3));p.lastRenderMs=O;const X=be=>Math.max(0,Math.min(1,be)),ne=(be,Oe,Le)=>{const ze=X((Le-be)/(Oe-be));return ze*ze*(3-2*ze)},q=be=>1-Math.pow(1-X(be),3),ie=be=>{const Oe=X(be),Le=1.70158;return 1+(Le+1)*Math.pow(Oe-1,3)+Le*Math.pow(Oe-1,2)},Z=w.x/100*I,H=w.y/100*T,ae=X(z/.9),ee=X((z-.9)/.8),te=(()=>{var Le;const be=ne(0,.25,z),Oe=u.current.isPlaying&&((Le=u.current.audioRef)!=null&&Le.current)?1-ne(9.2,10,z):1;return X(be*Oe)})(),$=Math.max(.85,Math.min(1.1,I/1920)),K=520*$,fe=140*$,ge=25*$,se=(1-q(ae))*(24*$),oe=.9+.1*ie(ae),Se=Math.sin(z*1.2)*(2.2*$),Fe=P||"#FFFFFF";d.save(),d.globalAlpha=te,d.translate(0,-se+Se);const ke=.55+.45*Math.sin(z*2.2),Ce=.08+.08*ke,xe=d.createRadialGradient(Z,H,0,Z,H,K/2+80*$);xe.addColorStop(0,`rgba(255, 60, 80, ${Ce})`),xe.addColorStop(.7,`rgba(255, 60, 80, ${Ce*.5})`),xe.addColorStop(1,"rgba(255, 60, 80, 0)"),d.fillStyle=xe,d.fillRect(Z-K/2-100,H-fe/2-100,K+200,fe+200),d.save(),d.translate(Z,H),d.scale(oe,oe),d.translate(-Z,-H);const je=d.createLinearGradient(Z-K/2,H-fe/2,Z+K/2,H+fe/2);je.addColorStop(0,"rgba(0, 0, 0, 0.42)"),je.addColorStop(.5,"rgba(18, 18, 18, 0.56)"),je.addColorStop(1,"rgba(0, 0, 0, 0.42)"),d.fillStyle=je;const Ze=z*.9%1*(K+220*$)-110*$,Te=d.createLinearGradient(Z-K/2+Ze,0,Z-K/2+Ze+220*$,0);Te.addColorStop(0,"rgba(255,255,255,0)"),Te.addColorStop(.45,"rgba(255,255,255,0.55)"),Te.addColorStop(.5,"rgba(255,255,255,0.95)"),Te.addColorStop(.55,"rgba(255,255,255,0.55)"),Te.addColorStop(1,"rgba(255,255,255,0)"),d.beginPath(),d.roundRect(Z-K/2,H-fe/2,K,fe,ge),d.fill(),d.save(),d.strokeStyle="rgba(255,255,255,0.6)",d.lineWidth=2.5*$,d.stroke(),d.clip(),d.globalCompositeOperation="lighter",d.globalAlpha*=.22+.18*ke,d.fillStyle=Te,d.fillRect(Z-K/2,H-fe/2,K,fe),d.restore();const tt=Z-160*$,He=H,Ke=.92+.12*ie(X(z/.7)),at=1+.05*Math.sin(z*3.5),ue=Ke*at;d.save(),d.translate(tt,He),d.scale(ue,ue),d.shadowColor="rgba(0, 0, 0, 0.35)",d.shadowBlur=14*$,d.shadowOffsetX=2*$,d.shadowOffsetY=3*$,d.fillStyle="#FF0000",d.beginPath(),d.arc(0,0,45*$,0,Math.PI*2),d.fill(),d.shadowColor="transparent",d.globalAlpha*=.6;const Ge=d.createRadialGradient(-14*$,-18*$,0,-14*$,-18*$,48*$);Ge.addColorStop(0,"rgba(255,255,255,0.35)"),Ge.addColorStop(1,"rgba(255,255,255,0)"),d.fillStyle=Ge,d.beginPath(),d.arc(0,0,45*$,0,Math.PI*2),d.fill(),d.globalAlpha/=.6,d.fillStyle="#FFFFFF",d.beginPath(),d.moveTo(-14*$,-20*$),d.lineTo(-14*$,20*$),d.lineTo(20*$,0),d.closePath(),d.fill(),d.restore(),d.save();const Be=un[A||g.POPPINS]||"Poppins",lt=Fe,Re=V||"#000000",Ft=D||U.NONE,Qe=ne(.1,.35,z),we=ne(.22,.5,z),Ee=ne(.34,.68,z),Wt=(be,Oe,Le,ze)=>{d.save(),d.globalAlpha*=ze;const Tt=Ft===U.BOLD?"900":"bold";if(d.font=`${Tt} ${Oe}px "${Be}", "Noto Sans TC", sans-serif`,d.textAlign="center",d.textBaseline="middle",Ft===U.SHADOW?(d.shadowColor="rgba(0, 0, 0, 0.6)",d.shadowBlur=10*$,d.shadowOffsetX=2*$,d.shadowOffsetY=2*$):Ft===U.NEON?(d.shadowColor=lt,d.shadowBlur=22*$,d.shadowOffsetX=0,d.shadowOffsetY=0):(d.shadowColor="transparent",d.shadowBlur=0,d.shadowOffsetX=0,d.shadowOffsetY=0),Re!=="transparent"){const dt=Math.max(2*$,Math.round(Oe*.12));d.lineWidth=dt,d.strokeStyle=Re,d.strokeText(be,Z,Le)}if(d.fillStyle=lt,d.fillText(be,Z,Le),Ft===U.GLITCH&&B){d.save(),d.globalCompositeOperation="lighter";const dt=Math.max(3*$,Math.round(Oe*.08)),Bt=(Math.random()-.5)*dt,Dt=(Math.random()-.5)*dt;d.fillStyle="rgba(255, 0, 0, 0.65)",d.fillText(be,Z+Bt,Le+Dt),d.fillStyle="rgba(0, 0, 255, 0.65)",d.fillText(be,Z-Bt,Le-Dt),d.restore()}d.restore()},Lt=.98+.02*q(ee);d.translate(Z,H),d.scale(Lt,Lt),d.translate(-Z,-H),Wt("",36*$,H-35*$,.95*Qe),Wt("SUBSCRIBE",28*$,H+5*$,.88*we),Wt(F,22*$,H+50*$,.78*Ee),d.restore();const et=Z+160*$,We=H,ht=B&&O-(p.lastBeatMs||0)>120?1:0;ht&&(p.lastBeatMs=O);const yn=Math.sin(z*6)*.08+(ht?.22:0),Gt=(.98+.02*ke)*(1+.08*ht);if(d.save(),d.translate(et,We),d.rotate(yn),d.scale(Gt,Gt),d.translate(-et,-We),d.shadowColor="rgba(0, 0, 0, 0.45)",d.shadowBlur=4*$,d.shadowOffsetX=1*$,d.shadowOffsetY=1*$,d.fillStyle="rgba(255, 255, 255, 0.95)",d.font=`bold ${80*$}px "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif`,d.textAlign="center",d.textBaseline="middle",d.fillText("",et,We+4*$),d.restore(),ht){d.save(),d.globalCompositeOperation="lighter",d.strokeStyle=`rgba(255,255,255,${.55*te})`,d.lineWidth=2*$,d.lineCap="round";const be=26*$,Oe=38*$;d.beginPath(),d.arc(et,We,be,-.8,.8),d.stroke(),d.beginPath(),d.arc(et,We,Oe,-.6,.6),d.stroke(),d.restore()}if(ht){const be=(Oe,Le,ze,Tt)=>{for(let dt=0;dt<ze;dt++){const Bt=Math.random()*Math.PI*2,Dt=(60+Math.random()*120)*$;p.particles.push({x:Oe+(Math.random()-.5)*8*$,y:Le+(Math.random()-.5)*8*$,vx:Math.cos(Bt)*Dt,vy:Math.sin(Bt)*Dt-40*$,life:.35+Math.random()*.25,age:0,size:(2+Math.random()*3)*$,color:Tt})}};be(tt,He,8,"rgba(255, 90, 120, 1)"),be(et,We,6,"rgba(120, 220, 255, 1)")}if(p.particles.length>0){d.save(),d.globalCompositeOperation="lighter";for(let be=p.particles.length-1;be>=0;be--){const Oe=p.particles[be];if(Oe.age+=G,Oe.age>=Oe.life){p.particles.splice(be,1);continue}Oe.vy+=260*$*G,Oe.x+=Oe.vx*G,Oe.y+=Oe.vy*G;const Le=1-Oe.age/Oe.life,ze=.9*Le*te,Tt=Oe.size*(.8+.8*(1-Le)),dt=d.createRadialGradient(Oe.x,Oe.y,0,Oe.x,Oe.y,Tt*4);dt.addColorStop(0,Oe.color.replace(/, 1\)$/,`, ${ze})`)),dt.addColorStop(1,"rgba(255,255,255,0)"),d.fillStyle=dt,d.beginPath(),d.arc(Oe.x,Oe.y,Tt*2.2,0,Math.PI*2),d.fill()}d.restore()}d.restore(),d.restore(),d.restore()};return l.jsx("canvas",{ref:t,className:"w-full h-full",style:{backgroundColor:"#000000",border:"2px solid #4ecdc4",borderRadius:"8px"}})});kg.displayName="AudioVisualizer";const ub=e=>{const t=window.transitionStartTime||performance.now(),a=performance.now()-t,i=(c=>{switch(c){case de.TV_STATIC:return 800;case de.FADE:return 800;case de.SLIDE_LEFT:case de.SLIDE_RIGHT:case de.SLIDE_UP:case de.SLIDE_DOWN:return 600;case de.ZOOM_IN:case de.ZOOM_OUT:return 700;case de.SPIRAL:return 1200;case de.WAVE:return 900;case de.DIAMOND:case de.CIRCLE:return 650;case de.BLINDS:return 800;case de.CHECKERBOARD:return 750;case de.RANDOM_PIXELS:return 1e3;default:return 1e3}})(e),s=Math.min(a/i,1);return cb(s,e)},cb=(e,t)=>{switch(t){case de.FADE:return Math.sin(e*Math.PI);case de.SLIDE_LEFT:case de.SLIDE_RIGHT:case de.SLIDE_UP:case de.SLIDE_DOWN:return 1-Math.pow(1-e,3);case de.ZOOM_IN:case de.ZOOM_OUT:return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2;case de.SPIRAL:return e+Math.sin(e*Math.PI*4)*.1;case de.WAVE:return Math.sin(e*Math.PI);case de.DIAMOND:case de.CIRCLE:return 1-Math.pow(1-e,2);case de.BLINDS:case de.CHECKERBOARD:case de.RANDOM_PIXELS:return e;case de.TV_STATIC:return Math.sin(e*Math.PI*6)*.5+.5;default:return e}},db=(e,t,n,a,o)=>{switch(e.save(),a){case de.TV_STATIC:fb(e,t,n,o);break;case de.FADE:hb(e,t,n,o);break;case de.SLIDE_LEFT:mb(e,t,n,o);break;case de.SLIDE_RIGHT:gb(e,t,n,o);break;case de.SLIDE_UP:yb(e,t,n,o);break;case de.SLIDE_DOWN:vb(e,t,n,o);break;case de.ZOOM_IN:Cb(e,t,n,o);break;case de.ZOOM_OUT:Sb(e,t,n,o);break;case de.SPIRAL:bb(e,t,n,o);break;case de.WAVE:Nb(e,t,n,o);break;case de.DIAMOND:xb(e,t,n,o);break;case de.CIRCLE:Eb(e,t,n,o);break;case de.BLINDS:wb(e,t,n,o);break;case de.CHECKERBOARD:Tb(e,t,n,o);break;case de.RANDOM_PIXELS:Ob(e,t,n,o);break}e.restore()},fb=(e,t,n,a)=>{e.save();const o=Math.sin(a*Math.PI*4)*.5+.5,i=Math.sin(a*Math.PI)*.8+.2;e.globalCompositeOperation="source-over",e.globalAlpha=i;const s=e.createImageData(t,n),c=s.data;for(let m=0;m<c.length;m+=4){const x=Math.random()*255,h=o>.5?x:255-x;c[m]=h,c[m+1]=h,c[m+2]=h,c[m+3]=255}if(e.putImageData(s,0,0),o>.3){e.globalAlpha=o*.3,e.strokeStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=2;for(let m=0;m<n;m+=20)Math.random()<o&&(e.beginPath(),e.moveTo(0,m),e.lineTo(t,m),e.stroke());for(let m=0;m<t;m+=30)Math.random()<o*.5&&(e.beginPath(),e.moveTo(m,0),e.lineTo(m,n),e.stroke())}e.restore()},hb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.globalAlpha=a,e.fillStyle="rgba(0, 0, 0, 1)",e.fillRect(0,0,t,n)},mb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t*a;e.fillRect(0,0,o,n)},gb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t*a;e.fillRect(t-o,0,o,n)},yb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=n*a;e.fillRect(0,0,t,o)},vb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=n*a;e.fillRect(0,n-o,t,o)},Cb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,c=Math.sqrt(o*o+i*i)*a;e.beginPath(),e.arc(o,i,c,0,Math.PI*2),e.fill()},Sb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,c=Math.sqrt(o*o+i*i)*(1-a);e.beginPath(),e.arc(o,i,c,0,Math.PI*2),e.fill()},bb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,s=Math.sqrt(o*o+i*i);e.beginPath(),e.moveTo(o,i);const c=a*Math.PI*8;for(let m=0;m<c;m+=.1){const x=m/(Math.PI*8)*s*a,h=o+Math.cos(m)*x,b=i+Math.sin(m)*x;e.lineTo(h,b)}e.lineWidth=20,e.stroke()},Nb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)",e.beginPath(),e.moveTo(0,n);for(let o=0;o<=t;o+=5){const i=n*(1-a),s=Math.sin(o/t*Math.PI*4+a*Math.PI*2)*50*a,c=i+s;e.lineTo(o,c)}e.lineTo(t,n),e.closePath(),e.fill()},xb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,s=Math.min(t,n)*a;e.beginPath(),e.moveTo(o,i-s),e.lineTo(o+s,i),e.lineTo(o,i+s),e.lineTo(o-s,i),e.closePath(),e.fill()},Eb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,s=Math.min(t,n)/2*a;e.beginPath(),e.arc(o,i,s,0,Math.PI*2),e.fill()},wb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=20,i=n/o;for(let s=0;s<o;s++){const c=Math.max(0,a-s/o*.5);c>0&&e.fillRect(0,s*i,t,i*c)}},Tb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=50,i=Math.ceil(t/o),s=Math.ceil(n/o);for(let c=0;c<i;c++)for(let m=0;m<s;m++){const x=Math.max(0,a-(c+m)/(i+s)*.8);(c+m)%2===0&&x>0&&(e.globalAlpha=x,e.fillRect(c*o,m*o,o,o))}e.globalAlpha=1},Ob=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=Math.floor(t*n*a*.1);for(let i=0;i<o;i++){const s=Math.random()*t,c=Math.random()*n;e.fillRect(s,c,2,2)}},Ib=(e,t,n,a,o,i)=>{const s=o.current.zCustomScale||1,c=o.current.zCustomPosition||{x:0,y:0},m=o.current.colors,x=t/2+c.x/100*t,h=n/2+c.y/100*n,C=Math.min(t,n)*.6*s/2,v=o.current.analyser;let r=null;v&&(r=new Uint8Array(v.frequencyBinCount),v.getByteFrequencyData(r)),r&&r.slice(0,10).reduce((d,I)=>d+I,0)/10/255,r&&r.slice(10,50).reduce((d,I)=>d+I,0)/40/255,r&&r.slice(50,100).reduce((d,I)=>d+I,0)/50/255;const u=i??0,E=u*.01%(Math.PI*2);console.log("Z frame:",i,"frameValue:",u,"rotationAngle:",E),e.save(),e.translate(x,h),e.rotate(E),e.fillStyle="#1a1a1a",e.beginPath(),e.arc(0,0,C,0,Math.PI*2),e.fill(),e.strokeStyle="#333333",e.lineWidth=1;for(let d=1;d<=8;d++){const I=C*.2+C*.8*d/8;e.beginPath(),e.arc(0,0,I,0,Math.PI*2),e.stroke()}const f=C*.25;if(e.fillStyle="#FFD700",e.beginPath(),e.arc(0,0,f,0,Math.PI*2),e.fill(),a){const d=new Image;d.src=a,d.complete&&d.naturalWidth>0&&(e.save(),e.beginPath(),e.arc(0,0,f,0,Math.PI*2),e.clip(),e.drawImage(d,-f,-f,f*2,f*2),e.restore())}e.restore(),e.save(),e.translate(x,h);const y=C+15,S=200,k=4;e.strokeStyle=m.primary,e.lineWidth=2,e.beginPath();for(let d=0;d<S;d++){const I=d/S,T=I*Math.PI*2+u*.03,F=y+I*15,w=Math.cos(T)*F,A=Math.sin(T)*F;d===0?e.moveTo(w,A):e.lineTo(w,A)}e.stroke();const N=60,j=3,L=y+20;for(let d=0;d<N;d++){const I=d/N*Math.PI*2+u*.02,T=r?r[d%r.length]/255*30:0,F=Math.cos(I)*L,w=Math.sin(I)*L;e.fillStyle=m.accent,e.fillRect(F-j/2,w-T/2,j,T)}e.strokeStyle=m.secondary,e.lineWidth=k,e.beginPath();for(let d=0;d<S;d++){const I=d/S,T=I*Math.PI*2+u*.02,F=y+40,w=Math.floor(T/(Math.PI*2)*N),P=(r?r[w%r.length]/255*30:0)*.5,V=F+I*20+P,D=Math.cos(T)*V,B=Math.sin(T)*V;d===0?e.moveTo(D,B):e.lineTo(D,B)}e.stroke(),e.restore()},Mb=(e,t,n)=>{const o=Math.max(t/1920,n/1080)*2,i=8*o;switch(e){case Et.SNOW:return{x:Math.random()*t,y:-10-Math.random()*50,vx:(Math.random()-.5)*.8,vy:1*.5+Math.random()*1*.8,size:i*(.6+Math.random()*.8),opacity:.3+Math.random()*.5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,color:"#ffffff",life:1,maxLife:1};case Et.PARTICLES:return{x:Math.random()*t,y:n+10+Math.random()*30,vx:(Math.random()-.5)*1.2,vy:-(1*.3+Math.random()*1*.9),size:i*(.4+Math.random()*1.2),opacity:.4+Math.random()*.6,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,color:`hsl(${Math.random()*80+160}, 80%, ${50+Math.random()*30}%)`,life:1,maxLife:1};case Et.STARS:return{x:Math.random()*t,y:Math.random()*n,vx:0,vy:0,size:(3+Math.random()*6)*o,opacity:.4+Math.random()*.6,rotation:0,rotationSpeed:0,color:"#ffffff",life:Math.random()*3+1,maxLife:Math.random()*3+1};case Et.RAIN:return{x:Math.random()*t,y:-10,vx:0,vy:1*2+Math.random()*1,size:1+Math.random()*2,opacity:.3+Math.random()*.4,rotation:0,rotationSpeed:0,color:"#87CEEB",life:1,maxLife:1};case Et.CHERRY_BLOSSOM:return{x:Math.random()*t,y:-10,vx:(Math.random()-.5)*.5,vy:1*.5+Math.random()*1*.3,size:i*.6+Math.random()*i*.4,opacity:.5+Math.random()*.3,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,color:"#FFB6C1",life:1,maxLife:1};default:return{x:0,y:0,vx:0,vy:0,size:1,opacity:1,rotation:0,rotationSpeed:0,color:"#ffffff",life:1,maxLife:1}}},kb=(e,t,n)=>{switch(e.save(),e.translate(t.x,t.y),e.rotate(t.rotation),e.globalAlpha=t.opacity,n){case Et.SNOW:const a=t.size,o=a*2;e.save(),e.globalAlpha=t.opacity*.3;const i=e.createRadialGradient(0,0,0,0,0,o);i.addColorStop(0,"rgba(255, 255, 255, 0.8)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.3)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=i,e.beginPath(),e.arc(0,0,o,0,Math.PI*2),e.fill(),e.restore(),e.strokeStyle="#ffffff",e.lineWidth=Math.max(1,a*.1),e.shadowColor="rgba(255, 255, 255, 0.8)",e.shadowBlur=a*.3;for(let S=0;S<6;S++)e.beginPath(),e.moveTo(0,0),e.lineTo(0,a),e.stroke(),e.beginPath(),e.moveTo(a*.3,0),e.lineTo(a*.6,0),e.stroke(),e.rotate(Math.PI/3);e.beginPath(),e.arc(0,0,a*.15,0,Math.PI*2),e.fill(),e.shadowBlur=0;break;case Et.PARTICLES:const s=t.size;e.save(),e.globalAlpha=t.opacity*.2;const c=e.createRadialGradient(0,0,0,0,0,s*3);c.addColorStop(0,t.color),c.addColorStop(.3,t.color.replace(")",", 0.3)").replace("hsl","hsla")),c.addColorStop(1,t.color.replace(")",", 0)").replace("hsl","hsla")),e.fillStyle=c,e.beginPath(),e.arc(0,0,s*3,0,Math.PI*2),e.fill(),e.restore(),e.save(),e.globalAlpha=t.opacity*.6;const m=e.createRadialGradient(0,0,0,0,0,s*1.5);m.addColorStop(0,t.color),m.addColorStop(.5,t.color.replace(")",", 0.7)").replace("hsl","hsla")),m.addColorStop(1,t.color.replace(")",", 0)").replace("hsl","hsla")),e.fillStyle=m,e.beginPath(),e.arc(0,0,s*1.5,0,Math.PI*2),e.fill(),e.restore(),e.globalAlpha=t.opacity;const x=e.createRadialGradient(0,0,0,0,0,s);if(x.addColorStop(0,"#ffffff"),x.addColorStop(.3,t.color),x.addColorStop(.8,t.color.replace(")",", 0.8)").replace("hsl","hsla")),x.addColorStop(1,t.color.replace(")",", 0)").replace("hsl","hsla")),e.fillStyle=x,e.beginPath(),e.arc(0,0,s,0,Math.PI*2),e.fill(),Math.abs(t.vx)>.1||Math.abs(t.vy)>.1){e.save(),e.globalAlpha=t.opacity*.4;const S=e.createLinearGradient(-t.vx*5,-t.vy*5,0,0);S.addColorStop(0,t.color.replace(")",", 0)").replace("hsl","hsla")),S.addColorStop(1,t.color),e.fillStyle=S,e.beginPath(),e.ellipse(-t.vx*3,-t.vy*3,s*.8,s*.3,Math.atan2(t.vy,t.vx),0,Math.PI*2),e.fill(),e.restore()}break;case Et.STARS:const h=t.size,b=Math.sin(Date.now()*.005+t.x*.01+t.y*.01)*.5+.5,C=t.opacity*(.3+b*.7);e.save(),e.globalAlpha=C*.15;const v=e.createRadialGradient(0,0,0,0,0,h*4);v.addColorStop(0,"#ffffff"),v.addColorStop(.3,"#ffffff"),v.addColorStop(.7,"#ffffff"),v.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=v,e.beginPath(),e.arc(0,0,h*4,0,Math.PI*2),e.fill(),e.restore(),e.save(),e.globalAlpha=C*.6,e.strokeStyle="#ffffff",e.lineWidth=Math.max(1,h*.15),e.shadowColor="#ffffff",e.shadowBlur=h*.5,e.beginPath(),e.moveTo(-h*2,0),e.lineTo(h*2,0),e.stroke(),e.beginPath(),e.moveTo(0,-h*2),e.lineTo(0,h*2),e.stroke(),e.restore(),e.globalAlpha=C,e.fillStyle="#ffffff",e.shadowColor="rgba(255, 255, 255, 0.8)",e.shadowBlur=h*.8,e.beginPath();for(let S=0;S<5;S++){const k=S*4*Math.PI/5,N=Math.cos(k)*h,j=Math.sin(k)*h;S===0?e.moveTo(N,j):e.lineTo(N,j);const L=(S*4+2)*Math.PI/5,d=Math.cos(L)*h*.4,I=Math.sin(L)*h*.4;e.lineTo(d,I)}e.closePath(),e.fill(),e.beginPath(),e.arc(0,0,h*.3,0,Math.PI*2),e.fill(),e.shadowBlur=0;break;case Et.RAIN:const r=t.size*4;e.save(),e.globalAlpha=t.opacity*.3,e.strokeStyle=t.color,e.lineWidth=2,e.shadowColor=t.color,e.shadowBlur=t.size*2,e.beginPath(),e.moveTo(-t.vx*8,-t.vy*8),e.lineTo(0,0),e.stroke(),e.restore(),e.strokeStyle=t.color,e.lineWidth=Math.max(1,t.size*.3),e.shadowColor="rgba(255, 255, 255, 0.6)",e.shadowBlur=t.size*1.5;const u=e.createLinearGradient(0,0,0,r);u.addColorStop(0,"rgba(255, 255, 255, 0.8)"),u.addColorStop(.3,t.color),u.addColorStop(1,t.color.replace(")",", 0.8)").replace("hsl","hsla")),e.strokeStyle=u,e.beginPath(),e.moveTo(0,0),e.lineTo(0,r),e.stroke(),e.beginPath(),e.arc(0,r,t.size*.5,0,Math.PI*2),e.fill(),e.shadowBlur=0;break;case Et.CHERRY_BLOSSOM:const E=t.size;e.save(),e.globalAlpha=t.opacity*.3,e.fillStyle="rgba(0, 0, 0, 0.2)",e.beginPath(),e.ellipse(E*.1,E*.1,E,E*.6,t.rotation,0,Math.PI*2),e.fill(),e.restore(),e.globalAlpha=t.opacity;const f=e.createRadialGradient(0,0,0,0,0,E);f.addColorStop(0,"#ffb3d9"),f.addColorStop(.7,t.color),f.addColorStop(1,t.color.replace(")",", 0.7)").replace("hsl","hsla")),e.fillStyle=f,e.beginPath();const y=S=>{const k=16*Math.pow(Math.sin(S),3),N=-(13*Math.cos(S)-5*Math.cos(2*S)-2*Math.cos(3*S)-Math.cos(4*S));return{x:k*E*.1,y:N*E*.1}};e.beginPath();for(let S=0;S<=Math.PI*2;S+=.1){const{x:k,y:N}=y(S);S===0?e.moveTo(k,N):e.lineTo(k,N)}e.closePath(),e.fill(),e.save(),e.globalAlpha=t.opacity*.6,e.strokeStyle="#ff8cc8",e.lineWidth=Math.max(1,E*.08),e.beginPath();for(let S=0;S<5;S++){const k=S*Math.PI*2/5,N=Math.cos(k)*E*.7,j=Math.sin(k)*E*.7;e.moveTo(0,0),e.lineTo(N,j)}e.stroke(),e.restore(),e.save(),e.globalAlpha=t.opacity*.8,e.fillStyle="rgba(255, 255, 255, 0.4)",e.beginPath(),e.ellipse(-E*.2,-E*.2,E*.3,E*.2,t.rotation,0,Math.PI*2),e.fill(),e.restore();break}e.restore()},Fb=(e,t,n,a,o,i,s,c,m)=>{if(e.save(),e.globalAlpha=i,a===Et.LIGHTNING){if(e.globalCompositeOperation="screen",Math.random()>.6){const x=Math.floor(Math.random()*3)+1;for(let h=0;h<x;h++){const b=Math.random()*t,C=0,v=b+(Math.random()-.5)*200,r=n;e.strokeStyle="#FFFFFF",e.lineWidth=3,e.shadowColor="#00FFFF",e.shadowBlur=20,e.beginPath(),e.moveTo(b,C);let u=b,E=C;const f=8;for(let y=1;y<=f;y++){const S=y/f,k=b+(v-b)*S,N=C+(r-C)*S,j=(Math.random()-.5)*40;u=k+j,E=N,e.lineTo(u,E)}e.stroke()}}}else if(a===Et.GLITCH1){e.globalCompositeOperation="lighter",e.fillStyle="rgba(0, 0, 0, 0.15)";for(let x=0;x<n;x+=8)e.fillRect(0,x,t,1);if(Math.random()>.85){const x=Math.floor(Math.random()*2)+1;for(let h=0;h<x;h++){const b=Math.random()*t*.8,C=Math.random()*n*.8,v=Math.random()*t*.18+8,r=Math.random()*n*.07+3,u=b+(Math.random()-.5)*25,E=C+(Math.random()-.5)*12;try{e.drawImage(e.canvas,b,C,v,r,u,E,v,r)}catch{}}}}else if(a===Et.GLITCH2){e.globalCompositeOperation="lighter",e.fillStyle="rgba(0, 0, 0, 0.1)";for(let x=0;x<n;x+=12)e.fillRect(0,x,t,1);if(Math.random()>.85){const x=Math.floor(Math.random()*2)+1;for(let h=0;h<x;h++){const b=Math.random()*n,C=Math.random()*n/20+2,v=0,r=t,u=(Math.random()-.5)*15,E=b;try{e.drawImage(e.canvas,v,b,r,C,u,E,r,C)}catch{}}}}else{if(!c||c.length===0){e.restore();return}e.globalCompositeOperation="screen",c.forEach((x,h)=>{const b=(Math.random()-.5)*.3,C=Math.sin(m*.01+h*.1)*.2;x.x+=(x.vx+b+C)*s,x.y+=x.vy*s,x.rotation+=x.rotationSpeed*s;let v=!1;a===Et.STARS?(x.life-=.02*s,x.life<=0&&(x.x=Math.random()*t,x.y=Math.random()*n,x.life=x.maxLife,x.opacity=.3+Math.random()*.7)):(x.y>n+20||x.x<-20||x.x>t+20)&&(v=!0),v||kb(e,x,a)})}e.restore()},At=({path:e,className:t="w-6 h-6"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":"true",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:e})}),qe={UPLOAD:"M9.25 15.5V11.375L7.25 13.375L6 12L10 8L14 12L12.75 13.375L10.75 11.375V15.5H9.25ZM5.625 20C5.175 20 4.79375 19.8562 4.48125 19.5687C4.16875 19.2812 4.0125 18.9187 4.0125 18.4812L4 16.5H5.5V18.5H14.5V16.5H16V18.4812C16 18.9187 15.8438 19.2812 15.5313 19.5687C15.2188 19.8562 14.8375 20 14.375 20H5.625Z",PLAY:"M8 19V5L19 12L8 19Z",PAUSE:"M6 19H10V5H6V19ZM14 5V19H18V5H14Z",RECORD_START:"M12 12m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0-7 0",RECORD_STOP:"M10 10h4v4h-4z",DOWNLOAD:"M5 20H19V18H5V20ZM19 9H15V3H9V9H5L12 16L19 9Z",CHANGE_MUSIC:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",SUBTITLES:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z",INTRO:"M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20Zm-1 6h2v6h-2V8Zm0 8h2v2h-2v-2Z",AI_SPARKLE:"M10 21.65 8.95 20.6l-2.6-2.6L7.4 16.95l2.6 2.6L11.05 20.6Zm-4.9-4.9L4.05 15.7l-2.6-2.6L2.5 12.05l2.6 2.6ZM20 12.5l-2.6-2.6-1.05-1.05L15.3 9.9l2.6 2.6ZM10 12q-1.25 0-2.125-.875T7 9q0-1.25.875-2.125T10 6q1.25 0 2.125.875T13 9q0 1.25-.875 2.125T10 12Zm10.1-6.55-1.05-1.05-2.6-2.6 1.05-1.05 2.6 2.6ZM10 4.5q-.4 0-.7-.125t-.55-.375L8.6 3.85 7.75 3q-.25-.25-.25-.6t.25-.6q.25-.25.6-.25t.6.25l.85.85.15.15q.25.25.375.55t.125.7q0 .4-.3.7t-.7.3Z",CHEVRON_UP:"M7 14l5-5 5 5z",CHEVRON_DOWN:"M7 10l5 5 5-5z",STAR:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",SETTINGS:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5M19.43 12.97c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",ADVANCED:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},Pb={[In.P720]:{width:1280,height:720},[In.P1080]:{width:1920,height:1080},[In.P4K]:{width:3840,height:2160},[In.SQUARE_1080]:{width:1080,height:1080},[In.SQUARE_4K]:{width:2160,height:2160},[In.RATIO_2_1_4K]:{width:4096,height:2048},[In.RATIO_2_1_1080]:{width:1920,height:960},[In.RATIO_2_1_720]:{width:1280,height:640},[In.CURRENT]:null},Rb={[Ie.DEFAULT]:{name:Ie.DEFAULT,primary:"#67E8F9",secondary:"#F472B6",accent:"#FFFFFF",backgroundGlow:"rgba(10, 80, 150, 0.2)",hueRange:[180,300]},[Ie.CYBERPUNK]:{name:Ie.CYBERPUNK,primary:"#00F0FF",secondary:"#FF00C7",accent:"#F5F5F5",backgroundGlow:"rgba(80, 10, 150, 0.25)",hueRange:[185,310]},[Ie.SUNSET]:{name:Ie.SUNSET,primary:"#FFD700",secondary:"#FF8C00",accent:"#FF4500",backgroundGlow:"rgba(150, 50, 10, 0.2)",hueRange:[25,60]},[Ie.GLACIER]:{name:Ie.GLACIER,primary:"#FFFFFF",secondary:"#ADD8E6",accent:"#87CEEB",backgroundGlow:"rgba(100, 120, 180, 0.15)",hueRange:[180,240]},[Ie.LAVA]:{name:Ie.LAVA,primary:"#FF4500",secondary:"#FF0000",accent:"#FFFF00",backgroundGlow:"rgba(180, 20, 0, 0.3)",hueRange:[0,50]},[Ie.MIDNIGHT]:{name:Ie.MIDNIGHT,primary:"#581C87",secondary:"#1E40AF",accent:"#E5E7EB",backgroundGlow:"rgba(40, 40, 80, 0.2)",hueRange:[240,280]},[Ie.WHITE]:{name:Ie.WHITE,primary:"#FFFFFF",secondary:"#E5E7EB",accent:"#FFFFFF",backgroundGlow:"rgba(220, 220, 230, 0.2)",hueRange:[0,0]},[Ie.RAINBOW]:{name:Ie.RAINBOW,primary:"#FF0000",secondary:"#00FF00",accent:"#0000FF",backgroundGlow:"rgba(128, 128, 128, 0.2)",hueRange:[0,360]},[Ie.CUSTOM]:{name:Ie.CUSTOM,primary:"#67E8F9",secondary:"#F472B6",accent:"#FFFFFF",backgroundGlow:"rgba(10, 80, 150, 0.2)",hueRange:[180,300]}},Jt=({title:e,children:t,className:n="",defaultExpanded:a=!1,icon:o,badge:i,priority:s="medium"})=>{const[c,m]=M.useState(a),x=M.useRef(null),[h,b]=M.useState(0),C=()=>{const u=x.current;u&&b(u.scrollHeight)};M.useLayoutEffect(()=>{if(!c){b(0);return}C()},[c,t]),M.useEffect(()=>{if(!c)return;const u=x.current;if(!u||typeof ResizeObserver>"u")return;const E=new ResizeObserver(()=>C());return E.observe(u),()=>E.disconnect()},[c]);const v={high:"border-l-4 border-l-cyan-400 bg-gradient-to-r from-cyan-500/10 to-transparent",medium:"border-l-4 border-l-blue-400 bg-gradient-to-r from-blue-500/10 to-transparent",low:"border-l-4 border-l-gray-400 bg-gradient-to-r from-gray-500/10 to-transparent"},r={high:qe.STAR,medium:qe.SETTINGS,low:qe.ADVANCED};return l.jsxs("div",{className:`bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50 ${v[s]} ${n}`,children:[l.jsxs("button",{onClick:()=>m(!c),className:"w-full p-4 flex items-center justify-between hover:bg-gray-700/30 transition-colors duration-200 rounded-t-xl",children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[o&&l.jsx(At,{path:o,className:"w-5 h-5 text-gray-300"}),!o&&l.jsx(At,{path:r[s],className:"w-5 h-5 text-gray-300"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:e}),i&&l.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-cyan-500/20 text-cyan-300 rounded-full",children:i})]})}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(At,{path:c?qe.CHEVRON_UP:qe.CHEVRON_DOWN,className:"w-5 h-5 text-gray-400 transition-transform duration-200"})})]}),l.jsx("div",{className:`collapsible-content ${c?"expanded":"collapsed"}`,style:{maxHeight:c?`${h}px`:"0px"},children:l.jsx("div",{ref:x,className:"p-4 pt-0",children:t})})]})},Rl=[{type:re.MONSTERCAT,category:Pe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:re.MONSTERCAT_V2,category:Pe.BASIC,description:" Monstercat",difficulty:"easy",performance:"low",tags:["","","",""]},{type:re.NEBULA_WAVE,category:Pe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:re.LUMINOUS_WAVE,category:Pe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:re.RADIAL_BARS,category:Pe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:re.BASIC_WAVE,category:Pe.BASIC,description:"0.1",difficulty:"easy",performance:"low",tags:["","","","",""]},{type:re.LYRIC_PULSE_LINE,category:Pe.BASIC,description:" +  Lyric Video ",difficulty:"easy",performance:"low",tags:["","","","Lyric","",""]},{type:re.CIRCULAR_WAVE,category:Pe.BASIC,description:"1/4",difficulty:"easy",performance:"low",tags:["","","","",""]},{type:re.MONSTERCAT_GLITCH,category:Pe.ADVANCED,description:"Monstercat",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.TECH_WAVE,category:Pe.ADVANCED,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.STELLAR_CORE,category:Pe.ADVANCED,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.REPULSOR_FIELD,category:Pe.ADVANCED,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.DYNAMIC_CONTROL_CARD,category:Pe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:re.FRAME_PIXELATION,category:Pe.DYNAMIC_CONTROL,description:" ",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:re.DATA_MOSH,category:Pe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:re.VINYL_RECORD,category:Pe.EXPERIMENTAL,description:" + ",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.PIXEL_SORT,category:Pe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:re.SIGNAL_SCRAMBLE,category:Pe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:re.AUDIO_LANDSCAPE,category:Pe.EXPERIMENTAL,description:"3D",difficulty:"hard",performance:"high",tags:["3D","","",""]},{type:re.PARTICLE_GALAXY,category:Pe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.LIQUID_METAL,category:Pe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.CRT_GLITCH,category:Pe.SPECIAL,description:"CRT",difficulty:"medium",performance:"medium",tags:["CRT","","",""]},{type:re.GLITCH_WAVE,category:Pe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.FUSION,category:Pe.SPECIAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:re.PIANO_VIRTUOSO,category:Pe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:re.GEOMETRIC_BARS,category:Pe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","","",""]},{type:re.Z_CUSTOM,category:Pe.EXPERIMENTAL,description:"Z",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:re.PHOTO_SHAKE,category:Pe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:re.BLURRED_EDGE,category:Pe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:re.KE_YE_CUSTOM_V2,category:Pe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","","",""]}],jb={[Pe.BASIC]:Rl.filter(e=>e.category===Pe.BASIC),[Pe.ADVANCED]:Rl.filter(e=>e.category===Pe.ADVANCED),[Pe.EXPERIMENTAL]:Rl.filter(e=>e.category===Pe.EXPERIMENTAL),[Pe.SPECIAL]:Rl.filter(e=>e.category===Pe.SPECIAL),[Pe.DYNAMIC_CONTROL]:Rl.filter(e=>e.category===Pe.DYNAMIC_CONTROL)},Ab=e=>Rl.find(t=>t.type===e),pb=e=>({[Pe.BASIC]:"",[Pe.ADVANCED]:"",[Pe.EXPERIMENTAL]:"",[Pe.SPECIAL]:"",[Pe.DYNAMIC_CONTROL]:""})[e],Lb=({currentType:e,onTypeChange:t,multiSelectEnabled:n=!1,selectedTypes:a=[],onToggleType:o})=>{var m;const[i,s]=M.useState(Pe.BASIC),c=Object.values(Pe);return l.jsxs("div",{className:"categorized-effect-selector bg-gray-800 rounded-lg p-4 mb-4",children:[l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.map(x=>l.jsx("button",{onClick:()=>s(x),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${i===x?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:pb(x)},x))}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:(m=jb[i])==null?void 0:m.map(x=>{const h=n?a.includes(x.type):e===x.type;return l.jsx("div",{className:`effect-card bg-gray-700 rounded-lg p-3 cursor-pointer transition-all duration-200 hover:scale-105 ${h?"ring-2 ring-blue-500 bg-blue-900/30":"hover:bg-gray-600"}`,onClick:()=>{n?o==null||o(x.type):t(x.type)},children:l.jsxs("div",{className:"text-center relative",children:[n&&l.jsx("div",{className:"absolute -top-1 -right-1",children:l.jsx("input",{type:"checkbox",checked:h,readOnly:!0,className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-500 rounded focus:ring-blue-500 focus:ring-2 pointer-events-none","aria-label":` ${x.type}`})}),l.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:x.type}),h&&l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mx-auto animate-pulse"})]})},x.type)})})]})},_b=({visualizationType:e,onVisualizationChange:t,multiEffectEnabled:n=!1,onMultiEffectEnabledChange:a,selectedVisualizationTypes:o=[],onToggleVisualizationType:i,multiEffectOffsets:s={},onActiveMultiEffectNudge:c,onActiveMultiEffectOffsetChange:m,onActiveMultiEffectOffsetReset:x,multiEffectTransforms:h={},onActiveMultiEffectTransformChange:b,onMultiEffectTransformChange:C,onActiveMultiEffectTransformReset:v,waveformStroke:r,onWaveformStrokeChange:u,effectScale:E,onEffectScaleChange:f,effectOffsetX:y,onEffectOffsetXChange:S,effectOffsetY:k,onEffectOffsetYChange:N,effectRotation:j,onEffectRotationChange:L,isRecording:d,colorPalette:I,onColorPaletteChange:T,customPrimaryColor:F="#67E8F9",customSecondaryColor:w="#F472B6",customAccentColor:A="#FFFFFF",onCustomPrimaryColorChange:P,onCustomSecondaryColorChange:V,onCustomAccentColorChange:D,sensitivity:B,onSensitivityChange:O,smoothing:_,onSmoothingChange:z,equalization:p,onEqualizationChange:W,isPipSupported:G,isPipActive:X,onEnterPictureInPicture:ne,onExitPictureInPicture:q})=>{var ie,Z;return h!=null&&h[e]||((ie=s==null?void 0:s[e])==null||ie.x,(Z=s==null?void 0:s[e])==null||Z.y),l.jsxs("div",{className:"quick-settings-panel bg-gradient-to-r from-cyan-500/20 to-blue-500/20 backdrop-blur-sm rounded-xl p-4 border border-cyan-400/30",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(At,{path:qe.STAR,className:"w-5 h-5 text-cyan-400"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:""}),l.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-cyan-500/20 text-cyan-300 rounded-full",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-300 cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:n,onChange:H=>a==null?void 0:a(H.target.checked),className:"w-4 h-4 text-red-500 bg-gray-700 border-gray-600 rounded focus:ring-red-500 focus:ring-2"}),""]})]}),n&&l.jsx("div",{className:"text-xs text-red-200 bg-red-500/10 border border-red-400/30 rounded-lg px-3 py-2",children:" "}),l.jsx(Lb,{currentType:e,onTypeChange:t,multiSelectEnabled:n,selectedTypes:o,onToggleType:i}),n&&o.length>0&&l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsx("div",{className:"text-xs font-semibold text-red-200 mb-2",children:""}),o.map(H=>{var $,K;const ae=Ab(H),ee=(ae==null?void 0:ae.type)||H,te=(h==null?void 0:h[H])||{x:(($=s==null?void 0:s[H])==null?void 0:$.x)??0,y:((K=s==null?void 0:s[H])==null?void 0:K.y)??0,scale:1,rotation:0};return l.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-red-400/30 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs font-medium text-red-200",children:ee}),l.jsx("button",{type:"button",onClick:()=>{C?C(H,{x:0,y:0,scale:1,rotation:0}):H===e&&v&&v()},className:"text-xs px-2 py-1 rounded bg-gray-700 hover:bg-gray-600 text-gray-200 border border-gray-600",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:""}),l.jsx("input",{type:"number",step:"0.05",min:"0.1",max:"2",value:te.scale??1,onChange:fe=>{const ge=Math.max(.1,Math.min(2,Number(fe.target.value||1)));C?C(H,{scale:ge}):H===e&&b&&b({scale:ge})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:" ()"}),l.jsx("input",{type:"number",step:"5",min:"-180",max:"180",value:te.rotation??0,onChange:fe=>{const ge=Math.max(-180,Math.min(180,Number(fe.target.value||0)));C?C(H,{rotation:ge}):H===e&&b&&b({rotation:ge})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]})]}),H===e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center justify-items-center pt-2 border-t border-gray-700",children:[l.jsx("div",{}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(0,-20),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("div",{}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(-20,0),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(0,0),className:"w-10 h-10 rounded-lg bg-gray-700 text-gray-300 border border-gray-600 cursor-default",title:"",children:"+"}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(20,0),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("div",{}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(0,20),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("div",{})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:"X"}),l.jsx("input",{type:"number",value:te.x??0,onChange:fe=>{const ge=Number(fe.target.value||0),se=te.y??0;C?C(H,{x:ge,y:se}):b&&b({x:ge,y:se}),m==null||m({x:ge,y:se})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:"Y"}),l.jsx("input",{type:"number",value:te.y??0,onChange:fe=>{const ge=Number(fe.target.value||0),se=te.x??0;C?C(H,{x:se,y:ge}):b&&b({x:se,y:ge}),m==null||m({x:se,y:ge})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]})]})]})]},H)}),l.jsx("div",{className:"text-[11px] text-gray-400 pt-2",children:"X/Y"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("select",{value:I,onChange:H=>T(H.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:[l.jsx("option",{value:Ie.DEFAULT,children:""}),l.jsx("option",{value:Ie.CYBERPUNK,children:""}),l.jsx("option",{value:Ie.SUNSET,children:""}),l.jsx("option",{value:Ie.GLACIER,children:""}),l.jsx("option",{value:Ie.LAVA,children:""}),l.jsx("option",{value:Ie.MIDNIGHT,children:""}),l.jsx("option",{value:Ie.WHITE,children:""}),l.jsx("option",{value:Ie.RAINBOW,children:""}),l.jsx("option",{value:Ie.CUSTOM,children:""})]}),I===Ie.CUSTOM&&l.jsxs("div",{className:"mt-3 p-3 bg-gray-800/50 rounded-lg border border-cyan-400/30 space-y-3",children:[l.jsx("label",{className:"text-xs font-medium text-cyan-300",children:""}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-400",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:F,onChange:H=>P==null?void 0:P(H.target.value),className:"w-10 h-10 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:F,onChange:H=>P==null?void 0:P(H.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-cyan-400",placeholder:"#67E8F9"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-400",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:w,onChange:H=>V==null?void 0:V(H.target.value),className:"w-10 h-10 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:w,onChange:H=>V==null?void 0:V(H.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-cyan-400",placeholder:"#F472B6"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-400",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:A,onChange:H=>D==null?void 0:D(H.target.value),className:"w-10 h-10 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:A,onChange:H=>D==null?void 0:D(H.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-cyan-400",placeholder:"#FFFFFF"})]})]})]})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsx("button",{onClick:X?q:ne,disabled:d,type:"button",className:`w-full py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed ${X?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 shadow-lg shadow-cyan-500/25":"bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-white"}`,title:X?"":" ()",children:l.jsx("span",{className:"flex items-center justify-center gap-2",children:X?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-base",children:""}),""]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-base",children:""}),""]})})}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:X?" ":G?" ":"  ChromeEdge  Safari "})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(e===re.CRT_GLITCH||e===re.GLITCH_WAVE)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>u(!r),disabled:d,type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed ${r?"bg-cyan-600":"bg-gray-600"}`,"aria-pressed":r,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${r?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:E.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #374151 0%,
                                        #4B5563 50%,
                                        #6B7280 100%)`}}),l.jsx("input",{type:"range",min:.1,max:2,step:.05,value:E,onChange:H=>f(parseFloat(H.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(E-.1)/(2-.1)*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:y})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #8B9DC3 0%,
                                        #A5A0B0 50%,
                                        #C4A5A5 100%)`}}),l.jsx("input",{type:"range",min:-500,max:500,step:10,value:y,onChange:H=>S(parseFloat(H.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(y- -500)/1e3*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:k})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #8B9DC3 0%,
                                        #A5A0B0 50%,
                                        #C4A5A5 100%)`}}),l.jsx("input",{type:"range",min:-1e3,max:1e3,step:10,value:k,onChange:H=>N(parseFloat(H.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(k- -1e3)/2e3*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:[Math.round(j),""]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #8B9DC3 0%,
                                        #A5A0B0 50%,
                                        #C4A5A5 100%)`}}),l.jsx("input",{type:"range",min:-180,max:180,step:1,value:j,onChange:H=>L(parseFloat(H.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(j- -180)/360*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"/"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:B.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                            #D1B5B5 0%,
                                            #C4A5A5 25%,
                                            #B8B5A0 50%,
                                            #A8B5A0 75%,
                                            #9CAF9C 100%)`}}),l.jsx("input",{type:"range",min:.1,max:3,step:.1,value:B,onChange:H=>O(parseFloat(H.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(B-.1)/(3-.1)*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:_})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                            #9CA3AF 0%,
                                            #A5A0B0 50%,
                                            #B8B5C0 100%)`}}),l.jsx("input",{type:"range",min:0,max:10,step:1,value:_,onChange:H=>z(parseFloat(H.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${_/10*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:p.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                            #9CA3AF 0%,
                                            #A5A0B0 50%,
                                            #B8B5C0 100%)`}}),l.jsx("input",{type:"range",min:0,max:1,step:.05,value:p,onChange:H=>W(parseFloat(H.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${p*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]})]})]})]})]})},Ri=class Ri{static saveSettings(t){try{const a={...this.loadSettings(),...t};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a))}catch(n){console.error("Failed to save settings:",n)}}static loadSettings(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to load settings:",t),{}}}static clearSettings(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(t){console.error("Failed to clear settings:",t)}}static savePreset(t,n){try{const a=`${this.PRESET_KEY_PREFIX}${t}`;localStorage.setItem(a,JSON.stringify(n))}catch(a){console.error("Failed to save preset:",a)}}static loadPreset(t){try{const n=`${this.PRESET_KEY_PREFIX}${t}`,a=localStorage.getItem(n);return a?JSON.parse(a):null}catch(n){return console.error("Failed to load preset:",n),null}}static getPresetNames(){try{const t=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&a.startsWith(this.PRESET_KEY_PREFIX)&&t.push(a.replace(this.PRESET_KEY_PREFIX,""))}return t}catch(t){return console.error("Failed to get preset names:",t),[]}}static deletePreset(t){try{const n=`${this.PRESET_KEY_PREFIX}${t}`;localStorage.removeItem(n)}catch(n){console.error("Failed to delete preset:",n)}}static exportSettings(t){return JSON.stringify(t,null,2)}static importSettings(t){try{return JSON.parse(t)}catch(n){return console.error("Failed to import settings:",n),null}}};Ri.STORAGE_KEY="audio-visualizer-settings",Ri.PRESET_KEY_PREFIX="audio-visualizer-preset-";let Ln=Ri;const Bb=({onLoadSettings:e,currentSettings:t})=>{const[n,a]=M.useState(""),[o,i]=M.useState([]),[s,c]=M.useState(!1),[m,x]=M.useState(""),[h,b]=M.useState("");M.useEffect(()=>{i(Ln.getPresetNames())},[]);const C=()=>{if(!n.trim()){alert("");return}Ln.savePreset(n,t),i(Ln.getPresetNames()),a(""),alert(` "${n}" `)},v=N=>{const j=Ln.loadPreset(N);j&&(e(j),alert(` "${N}" `))},r=N=>{confirm(` "${N}" `)&&(Ln.deletePreset(N),i(Ln.getPresetNames()))},u=()=>{Ln.saveSettings(t),alert("")},E=()=>{const N=Ln.loadSettings();e(N),alert("")},f=()=>{confirm("")&&(Ln.clearSettings(),alert(""))},y=()=>{const N=Ln.exportSettings(t);b(N),c(!0)},S=()=>{const N=Ln.importSettings(m);N?(e(N),x(""),c(!1),alert("")):alert("JSON")},k=N=>{navigator.clipboard.writeText(N).then(()=>{alert("")})};return l.jsxs("div",{className:"settings-manager-panel bg-gray-800/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(At,{path:qe.SETTINGS,className:"w-5 h-5 text-cyan-400"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:u,className:"px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg text-sm font-medium transition-colors",children:""}),l.jsx("button",{onClick:E,className:"px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition-colors",children:""}),l.jsx("button",{onClick:f,className:"px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg text-sm font-medium transition-colors",children:""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:n,onChange:N=>a(N.target.value),placeholder:"",className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent text-sm"}),l.jsx("button",{onClick:C,className:"px-3 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg text-sm font-medium transition-colors",children:""})]}),o.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-gray-400",children:""}),o.map(N=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>v(N),className:"px-2 py-1 bg-gray-600 hover:bg-gray-500 text-white rounded text-xs transition-colors",children:""}),l.jsx("span",{className:"text-sm text-gray-300 flex-1",children:N}),l.jsx("button",{onClick:()=>r(N),className:"px-2 py-1 bg-red-600 hover:bg-red-500 text-white rounded text-xs transition-colors",children:""})]},N))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:y,className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-sm font-medium transition-colors",children:""}),l.jsx("button",{onClick:()=>c(!s),className:"px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg text-sm font-medium transition-colors",children:s?"":"/"})]}),s&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:" (JSON)"}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:h,readOnly:!0,rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 text-xs font-mono",placeholder:"JSON"}),h&&l.jsx("button",{onClick:()=>k(h),className:"absolute top-2 right-2 px-2 py-1 bg-gray-600 hover:bg-gray-500 text-white rounded text-xs transition-colors",children:""})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:" (JSON)"}),l.jsx("textarea",{value:m,onChange:N=>x(N.target.value),rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 text-xs font-mono focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",placeholder:"JSON..."}),l.jsx("button",{onClick:S,disabled:!m.trim(),className:"px-3 py-2 bg-green-600 hover:bg-green-500 disabled:bg-gray-500 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors",children:""})]})]})]})]})]})},Db=(e,t)=>{if(!e.trim())return[];const n=e.trim().split(`
`),a=[];if(t==="bracket"){const o=/\[(\d{2}):(\d{2})\.(\d{2})\]/;for(let i=0;i<n.length;i++){const s=n[i].trim();if(!s)continue;const c=s.match(o);if(c){const m=parseInt(c[1],10),x=parseInt(c[2],10),h=parseInt(c[3],10),b=m*60+x+h/100,C=s.replace(o,"").trim();if(C){const v=b+3;a.push({time:b,text:C,endTime:v})}}}}else if(t==="srt"){const o=/^(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})\s*-->\s*(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})$/;for(let i=0;i<n.length;i++){const s=n[i].trim();if(!s)continue;const c=s.match(o);if(c){const m=parseInt(c[1],10),x=parseInt(c[2],10),h=parseInt(c[3],10),b=parseInt(c[4],10),C=m*3600+x*60+h+b/1e3,v=parseInt(c[5],10),r=parseInt(c[6],10),u=parseInt(c[7],10),E=parseInt(c[8],10),f=v*3600+r*60+u+E/1e3;if(i+1<n.length){const y=n[i+1].trim();y&&(a.push({time:C,text:y,endTime:f}),i++)}}}}return a.sort((o,i)=>o.time-i.time),a},zb=(e,t,n)=>{const a=Db(e,t);{let o="";return a.forEach((i,s)=>{const c=lh(i.time),m=lh(i.time+3);o+=`${s+1}
`,o+=`${c} --> ${m}
`,o+=`${i.text}

`}),o}},lh=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=Math.floor(e%60),o=Math.floor(e%1*1e3);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")},${o.toString().padStart(3,"0")}`},oh=e=>{if(!e.trim())return"";const t=e.trim().split(`
`),n=[];for(let a=0;a<t.length;a++){const o=t[a].trim();if(!o||o.startsWith("[")&&/^\[(ar|ti|al|by|offset|length):/.test(o))continue;const i=[...o.matchAll(/\[(\d{1,2}):(\d{1,2})[\.:](\d{1,2})\]/g)];if(i.length>0){const s=o.replace(/\[(\d{1,2}):(\d{1,2})[\.:](\d{1,2})\]/g,"").trim();if(s)for(const c of i){const m=parseInt(c[1],10),x=parseInt(c[2],10),h=parseInt(c[3],10),b=m*60+x+h/100;n.push({time:b,text:s})}}}return n.sort((a,o)=>a.time-o.time),n.map(a=>{const o=Math.floor(a.time/60),i=Math.floor(a.time%60),s=Math.floor(a.time%1*100);return`[${o.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${s.toString().padStart(2,"0")}] ${a.text}`}).join(`
`)},aa=({children:e,onClick:t,className:n="",disabled:a=!1,variant:o="primary"})=>{const i="px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800",s={primary:"bg-cyan-500 hover:bg-cyan-600 text-white shadow-lg hover:shadow-xl focus:ring-cyan-400",secondary:"bg-gray-600 hover:bg-gray-700 text-white shadow-md hover:shadow-lg focus:ring-gray-400",danger:"bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-xl focus:ring-red-400"};return l.jsx("button",{onClick:t,disabled:a,className:`${i} ${s[o]} ${n}`,children:e})},wa=({color:e,onClick:t,isActive:n})=>l.jsx("button",{type:"button",onClick:()=>t(e),className:`w-8 h-8 rounded-full border-3 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-400 hover:scale-110 ${n?"border-white scale-110 shadow-lg":"border-gray-600 hover:border-gray-400"}`,style:{backgroundColor:e},"aria-label":`Set text color to ${e}`}),$e=({label:e,value:t,onChange:n,min:a,max:o,step:i,className:s="",colorType:c="default"})=>{const m=(t-a)/(o-a)*100,x=()=>{switch(c){case"sensitivity":return{background:`linear-gradient(to right, 
                        #D1B5B5 0%, 
                        #C4A5A5 25%, 
                        #B8B5A0 50%, 
                        #A8B5A0 75%, 
                        #9CAF9C 100%)`};case"position":return{background:`linear-gradient(to right, 
                        #8B9DC3 0%, 
                        #A5A0B0 50%, 
                        #C4A5A5 100%)`};case"scale":return{background:`linear-gradient(to right, 
                        #374151 0%, 
                        #4B5563 50%, 
                        #6B7280 100%)`};default:return{background:`linear-gradient(to right, 
                        #9CA3AF 0%, 
                        #A5A0B0 50%, 
                        #B8B5C0 100%)`}}};return l.jsxs("div",{className:`space-y-2 ${s}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:e}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:t.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:x()}),l.jsx("input",{type:"range",min:a,max:o,step:i,value:t,onChange:h=>n(parseFloat(h.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 bg-white/30 rounded-lg pointer-events-none",style:{left:0,width:`${m}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]})},xt=({label:e,value:t,onChange:n,options:a,className:o=""})=>l.jsxs("div",{className:`space-y-2 ${o}`,children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:e}),l.jsx("select",{value:t,onChange:i=>n(i.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:a.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))})]}),Vb=({currentTime:e,duration:t,onSeek:n,className:a=""})=>{const o=t>0?e/t*100:0,i=c=>{const m=Math.floor(c/60),x=Math.floor(c%60);return`${m}:${x.toString().padStart(2,"0")}`},s=c=>{const m=parseFloat(c.target.value);n(m)};return l.jsxs("div",{className:`space-y-2 ${a}`,children:[l.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-300",children:[l.jsx("span",{children:i(e)}),l.jsx("span",{children:i(t)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0 bg-gradient-to-r from-cyan-500 to-purple-500"}),l.jsx("input",{type:"range",min:0,max:t||0,step:.1,value:e,onChange:s,className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 bg-white/30 rounded-lg pointer-events-none",style:{left:0,width:`${o}%`,transition:"width 0.1s ease"}})]})]})},Yb=e=>{var h,b,C,v;const[t,n]=M.useState(!0),a=["#000000","#FFFFFF","#8B9DC3","#A8B5C4","#9CA3AF","#C4A5A5","#6B7280","#4A4A4A","#E8E8E3","#D1D5DB"],o=r=>({enabled:r===0,text:r===0?"Sonic Pulse":"",color:r===0?"#67E8F9":"#FFFFFF",strokeColor:"#000000",fontFamily:r===0?g.ROCKNROLL_ONE:g.POPPINS,graphicEffect:r===0?U.NEON:U.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:r===0?bn.BOTTOM_RIGHT:bn.CENTER}),i=r=>{const u=Array.isArray(r)?r:[],E=[];for(let f=0;f<3;f++){const y=o(f),S=u[f]&&typeof u[f]=="object"?u[f]:{},k=S.enabled===void 0&&!!S.text&&String(S.text).trim().length>0;E.push({...y,...S,enabled:S.enabled!==void 0?!!S.enabled:k||y.enabled,text:S.text!==void 0?String(S.text):y.text,color:S.color||y.color,strokeColor:S.strokeColor!==void 0?S.strokeColor:y.strokeColor,fontFamily:S.fontFamily||y.fontFamily,graphicEffect:S.graphicEffect||y.graphicEffect,textSize:typeof S.textSize=="number"?S.textSize:y.textSize,textPositionX:typeof S.textPositionX=="number"?S.textPositionX:y.textPositionX,textPositionY:typeof S.textPositionY=="number"?S.textPositionY:y.textPositionY,rotationDeg:typeof S.rotationDeg=="number"?S.rotationDeg:y.rotationDeg,anchor:S.anchor||y.anchor})}return E},s=(r,u)=>{if(e.onUpdateCustomTextOverlay){if(u.text!==void 0&&u.text.trim().length>0){const k=i(e.customTextOverlays)[r];k&&k.enabled===!1&&(!k.text||k.text.trim().length===0)&&(u={...u,enabled:!0})}e.onUpdateCustomTextOverlay(r,u);return}const f=[...i(e.customTextOverlays)],y=f[r];u.text!==void 0&&u.text.trim().length>0&&y&&y.enabled===!1&&(!y.text||y.text.trim().length===0)&&(u={...u,enabled:!0}),f[r]={...f[r],...u},e.onCustomTextOverlaysChange(f)},c=()=>{const r=i(e.customTextOverlays),u=r[0];return{visualizationType:e.visualizationType,multiEffectEnabled:!!e.multiEffectEnabled,selectedVisualizationTypes:e.selectedVisualizationTypes||[],multiEffectOffsets:e.multiEffectOffsets||{},multiEffectTransforms:e.multiEffectTransforms||{},customTextOverlays:r,customText:u.enabled?u.text:"",textColor:u.color,textStrokeColor:u.strokeColor||"#000000",fontFamily:u.fontFamily,graphicEffect:u.graphicEffect,textSize:u.textSize,textPositionX:u.textPositionX,textPositionY:u.textPositionY,textRotationDeg:u.rotationDeg,sensitivity:e.sensitivity,smoothing:e.smoothing,equalization:e.equalization,backgroundColor:e.backgroundColor,colorPalette:e.colorPalette,resolution:e.resolution,watermarkPosition:u.anchor,waveformStroke:e.waveformStroke,subtitleFontSize:e.subtitleFontSize,subtitleFontFamily:e.subtitleFontFamily,subtitleColor:e.subtitleColor,subtitleEffect:e.subtitleEffect,subtitleBgStyle:e.subtitleBgStyle,subtitleDisplayMode:e.subtitleDisplayMode,subtitleFadeInSeconds:e.subtitleFadeInSeconds??.25,subtitleFadeOutSeconds:e.subtitleFadeOutSeconds??.25,subtitleFadeLinesEnabled:e.subtitleFadeLinesEnabled??!0,subtitleLineColor:e.subtitleLineColor||"#FFFFFF",subtitleLineThickness:e.subtitleLineThickness??3,subtitleLineGap:e.subtitleLineGap??10,effectScale:e.effectScale,effectOffsetX:e.effectOffsetX,effectOffsetY:e.effectOffsetY,effectRotation:e.effectRotation,lyricsFontSize:e.lyricsFontSize,lyricsFontFamily:e.lyricsFontFamily,lyricsPositionX:e.lyricsPositionX,lyricsPositionY:e.lyricsPositionY,showCtaAnimation:!!e.showCtaAnimation,ctaChannelName:e.ctaChannelName||"",ctaFontFamily:e.ctaFontFamily||g.POPPINS,ctaTextColor:e.ctaTextColor||"#FFFFFF",ctaStrokeColor:e.ctaStrokeColor||"#000000",ctaTextEffect:e.ctaTextEffect||U.NONE,ctaPositionX:e.ctaPositionX??50,ctaPositionY:e.ctaPositionY??50,ctaVideoEnabled:e.ctaVideoEnabled??!1,ctaVideoIncludeAudio:e.ctaVideoIncludeAudio??!1,ctaVideoReplaceCtaAnimation:e.ctaVideoReplaceCtaAnimation??!1,fusionCenterOpacity:e.fusionCenterOpacity??1,stellarCoreInnerOpacity:e.stellarCoreInnerOpacity??1,stellarCoreTentaclesOpacity:e.stellarCoreTentaclesOpacity??1,controlCardFontFamily:e.controlCardFontFamily||g.POPPINS,controlCardTextEffect:e.controlCardTextEffect||U.NONE,controlCardStrokeColor:e.controlCardStrokeColor||"#000000",keYeCustomV2BoxOpacity:e.keYeCustomV2BoxOpacity??.5,keYeCustomV2BoxColor:e.keYeCustomV2BoxColor||"#FFFFFF",keYeCustomV2VisualizerColor:e.keYeCustomV2VisualizerColor||"#FFFFFF",keYeCustomV2Text1:e.keYeCustomV2Text1||"",keYeCustomV2Text2:e.keYeCustomV2Text2||"",keYeCustomV2Text1Font:e.keYeCustomV2Text1Font||g.POPPINS,keYeCustomV2Text2Font:e.keYeCustomV2Text2Font||g.POPPINS,keYeCustomV2Text1Size:e.keYeCustomV2Text1Size??40,keYeCustomV2Text2Size:e.keYeCustomV2Text2Size??30,keYeCustomV2Text1Color:e.keYeCustomV2Text1Color||"#000000",keYeCustomV2Text2Color:e.keYeCustomV2Text2Color||"#000000",keYeCustomV2Text1Effect:e.keYeCustomV2Text1Effect||U.NONE,keYeCustomV2Text2Effect:e.keYeCustomV2Text2Effect||U.NONE,keYeCustomV2Text1StrokeColor:e.keYeCustomV2Text1StrokeColor||"#FFFFFF",keYeCustomV2Text2StrokeColor:e.keYeCustomV2Text2StrokeColor||"#FFFFFF",showIntroOverlay:!!e.showIntroOverlay,introTitle:e.introTitle||"",introArtist:e.introArtist||"",introDescription:e.introDescription||"",introFontFamily:e.introFontFamily||g.POPPINS,introEffect:e.introEffect||U.NEON,introColor:e.introColor||"#FFFFFF",introStrokeColor:e.introStrokeColor||"#000000",introTitleSize:e.introTitleSize??6,introArtistSize:e.introArtistSize??4,introDescriptionSize:e.introDescriptionSize??2.8,introFadeIn:e.introFadeIn??.8,introHold:e.introHold??1.6,introFadeOut:e.introFadeOut??.8,introBgOpacity:e.introBgOpacity??.35,introPositionX:e.introPositionX??50,introPositionY:e.introPositionY??50,introLightBarsEnabled:e.introLightBarsEnabled??!0,customPrimaryColor:e.customPrimaryColor,customSecondaryColor:e.customSecondaryColor,customAccentColor:e.customAccentColor,subtitleOrientation:e.subtitleOrientation,verticalSubtitlePosition:e.verticalSubtitlePosition,horizontalSubtitlePosition:e.horizontalSubtitlePosition,verticalSubtitleVerticalPosition:e.verticalSubtitleVerticalPosition,horizontalSubtitleVerticalPosition:e.horizontalSubtitleVerticalPosition,subtitleFormat:e.subtitleFormat,subtitleLanguage:e.subtitleLanguage,subtitlesRawText:e.subtitlesRawText,showSubtitles:e.showSubtitles,subtitleStrokeColor:e.subtitleStrokeColor,showLyricsDisplay:e.showLyricsDisplay,isSlideshowEnabled:e.isSlideshowEnabled,slideshowInterval:e.slideshowInterval,transitionType:e.transitionType,showVisualizer:e.showVisualizer,showBackgroundImage:e.showBackgroundImage,photoShakeImage:e.photoShakeImage,photoShakeSongTitle:e.photoShakeSongTitle,photoShakeSubtitle:e.photoShakeSubtitle,photoShakeFontFamily:e.photoShakeFontFamily,photoShakeOverlayOpacity:e.photoShakeOverlayOpacity,photoShakeFontSize:e.photoShakeFontSize,photoShakeDecaySpeed:e.photoShakeDecaySpeed,bassEnhancementBlurIntensity:e.bassEnhancementBlurIntensity,bassEnhancementCurveIntensity:e.bassEnhancementCurveIntensity,bassEnhancementText:e.bassEnhancementText,bassEnhancementTextColor:e.bassEnhancementTextColor,bassEnhancementTextFont:e.bassEnhancementTextFont,bassEnhancementTextSize:e.bassEnhancementTextSize,bassEnhancementTextBgOpacity:e.bassEnhancementTextBgOpacity,bassEnhancementCenterOpacity:e.bassEnhancementCenterOpacity,circularWaveImage:e.circularWaveImage,blurredEdgeSinger:e.blurredEdgeSinger,blurredEdgeSongTitle:e.blurredEdgeSongTitle,blurredEdgeFontFamily:e.blurredEdgeFontFamily,blurredEdgeTextColor:e.blurredEdgeTextColor,blurredEdgeBgOpacity:e.blurredEdgeBgOpacity,blurredEdgeFontSize:e.blurredEdgeFontSize,vinylImage:e.vinylImage,vinylLayoutMode:e.vinylLayoutMode,vinylCenterFixed:e.vinylCenterFixed,vinylRecordEnabled:e.vinylRecordEnabled,vinylNeedleEnabled:e.vinylNeedleEnabled,pianoOpacity:e.pianoOpacity,controlCardEnabled:e.controlCardEnabled,controlCardStyle:e.controlCardStyle,controlCardColor:e.controlCardColor,controlCardBackgroundColor:e.controlCardBackgroundColor,controlCardFontSize:e.controlCardFontSize}},m=r=>{var u,E,f,y,S,k,N,j,L,d,I,T,F,w,A,P,V,D,B,O,_,z,p,W,G,X,ne,q,ie,Z,H,ae,ee,te,$,K,fe,ge,se,oe,Se,Fe,ke,Ce,xe,je,Ze,Te,tt,He,Ke,at,ue,Ge,Be,lt,Re,Ft,Qe,we,Ee,Wt,Lt,et,We,ht,gn,st,yn,Gt,mt,Pt,Rt,Me,be,Oe,Le,ze,Tt,dt,Bt,Dt,qn,va,Q,pe,Ye,ot,Ve,nt,Ae,ut,Ot,$t,zt,wn,Qt,sl,gt,Ca,Sa,ba,La,vn,Tn,jn,da,Na,Hn;if(r.visualizationType&&e.onVisualizationChange(r.visualizationType),r.multiEffectEnabled!==void 0&&((u=e.onMultiEffectEnabledChange)==null||u.call(e,!!r.multiEffectEnabled)),Array.isArray(r.selectedVisualizationTypes)){const An=r.selectedVisualizationTypes.filter(Boolean);An.length>0&&((E=e.onSelectedVisualizationTypesChange)==null||E.call(e,An))}if(r.multiEffectTransforms&&typeof r.multiEffectTransforms=="object"&&((f=e.onMultiEffectTransformsChange)==null||f.call(e,r.multiEffectTransforms)),r.multiEffectOffsets&&typeof r.multiEffectOffsets=="object"&&((y=e.onMultiEffectOffsetsChange)==null||y.call(e,r.multiEffectOffsets)),Array.isArray(r.customTextOverlays))e.onCustomTextOverlaysChange(i(r.customTextOverlays));else{const An=i(e.customTextOverlays),qt={};if(r.customText!==void 0&&(qt.text=String(r.customText)),r.textColor!==void 0&&(qt.color=r.textColor),r.textStrokeColor!==void 0&&(qt.strokeColor=r.textStrokeColor),r.fontFamily!==void 0&&(qt.fontFamily=r.fontFamily),r.graphicEffect!==void 0&&(qt.graphicEffect=r.graphicEffect),r.textSize!==void 0&&(qt.textSize=r.textSize),r.textPositionX!==void 0&&(qt.textPositionX=r.textPositionX),r.textPositionY!==void 0&&(qt.textPositionY=r.textPositionY),r.textRotationDeg!==void 0&&(qt.rotationDeg=r.textRotationDeg),r.watermarkPosition!==void 0&&(qt.anchor=r.watermarkPosition),Object.keys(qt).length>0){const _a=[...An];_a[0]={..._a[0],...qt},qt.text!==void 0&&(_a[0].enabled=String(qt.text).trim().length>0),e.onCustomTextOverlaysChange(_a)}}r.sensitivity!==void 0&&e.onSensitivityChange(r.sensitivity),r.smoothing!==void 0&&e.onSmoothingChange(r.smoothing),r.equalization!==void 0&&e.onEqualizationChange(r.equalization),r.backgroundColor&&e.onBackgroundColorChange(r.backgroundColor),r.colorPalette&&e.onColorPaletteChange(r.colorPalette),r.resolution&&e.onResolutionChange(r.resolution),r.waveformStroke!==void 0&&e.onWaveformStrokeChange(r.waveformStroke),r.subtitleFontSize!==void 0&&e.onSubtitleFontSizeChange(r.subtitleFontSize),r.subtitleFontFamily&&e.onSubtitleFontFamilyChange(r.subtitleFontFamily),r.subtitleColor&&e.onSubtitleColorChange(r.subtitleColor),r.subtitleEffect&&e.onSubtitleEffectChange&&e.onSubtitleEffectChange(r.subtitleEffect),r.subtitleBgStyle&&e.onSubtitleBgStyleChange(r.subtitleBgStyle),r.subtitleDisplayMode&&e.onSubtitleDisplayModeChange(r.subtitleDisplayMode),r.subtitleFadeInSeconds!==void 0&&((S=e.onSubtitleFadeInSecondsChange)==null||S.call(e,r.subtitleFadeInSeconds)),r.subtitleFadeOutSeconds!==void 0&&((k=e.onSubtitleFadeOutSecondsChange)==null||k.call(e,r.subtitleFadeOutSeconds)),r.subtitleFadeLinesEnabled!==void 0&&((N=e.onSubtitleFadeLinesEnabledChange)==null||N.call(e,!!r.subtitleFadeLinesEnabled)),r.subtitleLineColor!==void 0&&((j=e.onSubtitleLineColorChange)==null||j.call(e,r.subtitleLineColor)),r.subtitleLineThickness!==void 0&&((L=e.onSubtitleLineThicknessChange)==null||L.call(e,r.subtitleLineThickness)),r.subtitleLineGap!==void 0&&((d=e.onSubtitleLineGapChange)==null||d.call(e,r.subtitleLineGap)),r.effectScale!==void 0&&e.onEffectScaleChange(r.effectScale),r.effectOffsetX!==void 0&&e.onEffectOffsetXChange(r.effectOffsetX),r.effectOffsetY!==void 0&&e.onEffectOffsetYChange(r.effectOffsetY),r.effectRotation!==void 0&&e.onEffectRotationChange(r.effectRotation),r.lyricsFontSize!==void 0&&e.onLyricsFontSizeChange(r.lyricsFontSize),r.lyricsFontFamily!==void 0&&e.onLyricsFontFamilyChange(r.lyricsFontFamily),r.lyricsPositionX!==void 0&&e.onLyricsPositionXChange(r.lyricsPositionX),r.lyricsPositionY!==void 0&&e.onLyricsPositionYChange(r.lyricsPositionY),r.showCtaAnimation!==void 0&&((I=e.onShowCtaAnimationChange)==null||I.call(e,r.showCtaAnimation)),r.ctaChannelName!==void 0&&((T=e.onCtaChannelNameChange)==null||T.call(e,r.ctaChannelName)),r.ctaFontFamily!==void 0&&((F=e.onCtaFontFamilyChange)==null||F.call(e,r.ctaFontFamily)),r.ctaTextColor!==void 0&&((w=e.onCtaTextColorChange)==null||w.call(e,r.ctaTextColor)),r.ctaStrokeColor!==void 0&&((A=e.onCtaStrokeColorChange)==null||A.call(e,r.ctaStrokeColor)),r.ctaTextEffect!==void 0&&((P=e.onCtaTextEffectChange)==null||P.call(e,r.ctaTextEffect)),r.ctaPositionX!==void 0&&((V=e.onCtaPositionXChange)==null||V.call(e,r.ctaPositionX)),r.ctaPositionY!==void 0&&((D=e.onCtaPositionYChange)==null||D.call(e,r.ctaPositionY)),r.ctaVideoEnabled!==void 0&&((B=e.onCtaVideoEnabledChange)==null||B.call(e,!!r.ctaVideoEnabled)),r.ctaVideoIncludeAudio!==void 0&&((O=e.onCtaVideoIncludeAudioChange)==null||O.call(e,!!r.ctaVideoIncludeAudio)),r.ctaVideoReplaceCtaAnimation!==void 0&&((_=e.onCtaVideoReplaceCtaAnimationChange)==null||_.call(e,!!r.ctaVideoReplaceCtaAnimation)),r.fusionCenterOpacity!==void 0&&((z=e.onFusionCenterOpacityChange)==null||z.call(e,r.fusionCenterOpacity)),r.stellarCoreInnerOpacity!==void 0&&((p=e.onStellarCoreInnerOpacityChange)==null||p.call(e,r.stellarCoreInnerOpacity)),r.stellarCoreTentaclesOpacity!==void 0&&((W=e.onStellarCoreTentaclesOpacityChange)==null||W.call(e,r.stellarCoreTentaclesOpacity)),r.showIntroOverlay!==void 0&&((G=e.onShowIntroOverlayChange)==null||G.call(e,r.showIntroOverlay)),r.introTitle!==void 0&&((X=e.onIntroTitleChange)==null||X.call(e,r.introTitle)),r.introArtist!==void 0&&((ne=e.onIntroArtistChange)==null||ne.call(e,r.introArtist)),r.introDescription!==void 0&&((q=e.onIntroDescriptionChange)==null||q.call(e,r.introDescription)),r.introFontFamily!==void 0&&((ie=e.onIntroFontFamilyChange)==null||ie.call(e,r.introFontFamily)),r.introEffect!==void 0&&((Z=e.onIntroEffectChange)==null||Z.call(e,r.introEffect)),r.introColor!==void 0&&((H=e.onIntroColorChange)==null||H.call(e,r.introColor)),r.introStrokeColor!==void 0&&((ae=e.onIntroStrokeColorChange)==null||ae.call(e,r.introStrokeColor)),r.introTitleSize!==void 0&&((ee=e.onIntroTitleSizeChange)==null||ee.call(e,r.introTitleSize)),r.introArtistSize!==void 0&&((te=e.onIntroArtistSizeChange)==null||te.call(e,r.introArtistSize)),r.introDescriptionSize!==void 0&&(($=e.onIntroDescriptionSizeChange)==null||$.call(e,r.introDescriptionSize)),r.introFadeIn!==void 0&&((K=e.onIntroFadeInChange)==null||K.call(e,r.introFadeIn)),r.introHold!==void 0&&((fe=e.onIntroHoldChange)==null||fe.call(e,r.introHold)),r.introFadeOut!==void 0&&((ge=e.onIntroFadeOutChange)==null||ge.call(e,r.introFadeOut)),r.introBgOpacity!==void 0&&((se=e.onIntroBgOpacityChange)==null||se.call(e,r.introBgOpacity)),r.introPositionX!==void 0&&((oe=e.onIntroPositionXChange)==null||oe.call(e,r.introPositionX)),r.introPositionY!==void 0&&((Se=e.onIntroPositionYChange)==null||Se.call(e,r.introPositionY)),r.introLightBarsEnabled!==void 0&&((Fe=e.onIntroLightBarsEnabledChange)==null||Fe.call(e,!!r.introLightBarsEnabled)),r.controlCardFontFamily!==void 0&&((ke=e.onControlCardFontFamilyChange)==null||ke.call(e,r.controlCardFontFamily)),r.controlCardTextEffect!==void 0&&((Ce=e.onControlCardTextEffectChange)==null||Ce.call(e,r.controlCardTextEffect)),r.controlCardStrokeColor!==void 0&&((xe=e.onControlCardStrokeColorChange)==null||xe.call(e,r.controlCardStrokeColor)),r.keYeCustomV2BoxOpacity!==void 0&&((je=e.onKeYeCustomV2BoxOpacityChange)==null||je.call(e,r.keYeCustomV2BoxOpacity)),r.keYeCustomV2BoxColor!==void 0&&((Ze=e.onKeYeCustomV2BoxColorChange)==null||Ze.call(e,r.keYeCustomV2BoxColor)),r.keYeCustomV2VisualizerColor!==void 0&&((Te=e.onKeYeCustomV2VisualizerColorChange)==null||Te.call(e,r.keYeCustomV2VisualizerColor)),r.keYeCustomV2Text1!==void 0&&((tt=e.onKeYeCustomV2Text1Change)==null||tt.call(e,r.keYeCustomV2Text1)),r.keYeCustomV2Text2!==void 0&&((He=e.onKeYeCustomV2Text2Change)==null||He.call(e,r.keYeCustomV2Text2)),r.keYeCustomV2Text1Font!==void 0&&((Ke=e.onKeYeCustomV2Text1FontChange)==null||Ke.call(e,r.keYeCustomV2Text1Font)),r.keYeCustomV2Text2Font!==void 0&&((at=e.onKeYeCustomV2Text2FontChange)==null||at.call(e,r.keYeCustomV2Text2Font)),r.keYeCustomV2Text1Size!==void 0&&((ue=e.onKeYeCustomV2Text1SizeChange)==null||ue.call(e,r.keYeCustomV2Text1Size)),r.keYeCustomV2Text2Size!==void 0&&((Ge=e.onKeYeCustomV2Text2SizeChange)==null||Ge.call(e,r.keYeCustomV2Text2Size)),r.keYeCustomV2Text1Color!==void 0&&((Be=e.onKeYeCustomV2Text1ColorChange)==null||Be.call(e,r.keYeCustomV2Text1Color)),r.keYeCustomV2Text2Color!==void 0&&((lt=e.onKeYeCustomV2Text2ColorChange)==null||lt.call(e,r.keYeCustomV2Text2Color)),r.keYeCustomV2Text1Effect!==void 0&&((Re=e.onKeYeCustomV2Text1EffectChange)==null||Re.call(e,r.keYeCustomV2Text1Effect)),r.keYeCustomV2Text2Effect!==void 0&&((Ft=e.onKeYeCustomV2Text2EffectChange)==null||Ft.call(e,r.keYeCustomV2Text2Effect)),r.keYeCustomV2Text1StrokeColor!==void 0&&((Qe=e.onKeYeCustomV2Text1StrokeColorChange)==null||Qe.call(e,r.keYeCustomV2Text1StrokeColor)),r.keYeCustomV2Text2StrokeColor!==void 0&&((we=e.onKeYeCustomV2Text2StrokeColorChange)==null||we.call(e,r.keYeCustomV2Text2StrokeColor)),r.customPrimaryColor!==void 0&&((Ee=e.onCustomPrimaryColorChange)==null||Ee.call(e,r.customPrimaryColor)),r.customSecondaryColor!==void 0&&((Wt=e.onCustomSecondaryColorChange)==null||Wt.call(e,r.customSecondaryColor)),r.customAccentColor!==void 0&&((Lt=e.onCustomAccentColorChange)==null||Lt.call(e,r.customAccentColor)),r.subtitleOrientation!==void 0&&((et=e.onSubtitleOrientationChange)==null||et.call(e,r.subtitleOrientation)),r.verticalSubtitlePosition!==void 0&&((We=e.onVerticalSubtitlePositionChange)==null||We.call(e,r.verticalSubtitlePosition)),r.horizontalSubtitlePosition!==void 0&&((ht=e.onHorizontalSubtitlePositionChange)==null||ht.call(e,r.horizontalSubtitlePosition)),r.verticalSubtitleVerticalPosition!==void 0&&((gn=e.onVerticalSubtitleVerticalPositionChange)==null||gn.call(e,r.verticalSubtitleVerticalPosition)),r.horizontalSubtitleVerticalPosition!==void 0&&((st=e.onHorizontalSubtitleVerticalPositionChange)==null||st.call(e,r.horizontalSubtitleVerticalPosition)),r.subtitleFormat!==void 0&&((yn=e.onSubtitleFormatChange)==null||yn.call(e,r.subtitleFormat)),r.subtitleLanguage!==void 0&&((Gt=e.onSubtitleLanguageChange)==null||Gt.call(e,r.subtitleLanguage)),r.subtitlesRawText!==void 0&&((mt=e.onSubtitlesRawTextChange)==null||mt.call(e,r.subtitlesRawText)),r.showSubtitles!==void 0&&((Pt=e.onShowSubtitlesChange)==null||Pt.call(e,r.showSubtitles)),r.subtitleStrokeColor!==void 0&&((Rt=e.onSubtitleStrokeColorChange)==null||Rt.call(e,r.subtitleStrokeColor)),r.showLyricsDisplay!==void 0&&((Me=e.onShowLyricsDisplayChange)==null||Me.call(e,r.showLyricsDisplay)),r.isSlideshowEnabled!==void 0&&((be=e.onSlideshowEnabledChange)==null||be.call(e,r.isSlideshowEnabled)),r.slideshowInterval!==void 0&&((Oe=e.onSlideshowIntervalChange)==null||Oe.call(e,r.slideshowInterval)),r.transitionType!==void 0&&((Le=e.onTransitionTypeChange)==null||Le.call(e,r.transitionType)),r.showVisualizer!==void 0&&((ze=e.onShowVisualizerChange)==null||ze.call(e,r.showVisualizer)),r.showBackgroundImage!==void 0&&((Tt=e.onShowBackgroundImageChange)==null||Tt.call(e,r.showBackgroundImage)),r.photoShakeSongTitle!==void 0&&((dt=e.onPhotoShakeSongTitleChange)==null||dt.call(e,r.photoShakeSongTitle)),r.photoShakeSubtitle!==void 0&&((Bt=e.onPhotoShakeSubtitleChange)==null||Bt.call(e,r.photoShakeSubtitle)),r.photoShakeFontFamily!==void 0&&((Dt=e.onPhotoShakeFontFamilyChange)==null||Dt.call(e,r.photoShakeFontFamily)),r.photoShakeOverlayOpacity!==void 0&&((qn=e.onPhotoShakeOverlayOpacityChange)==null||qn.call(e,r.photoShakeOverlayOpacity)),r.photoShakeFontSize!==void 0&&((va=e.onPhotoShakeFontSizeChange)==null||va.call(e,r.photoShakeFontSize)),r.photoShakeDecaySpeed!==void 0&&((Q=e.onPhotoShakeDecaySpeedChange)==null||Q.call(e,r.photoShakeDecaySpeed)),r.bassEnhancementBlurIntensity!==void 0&&((pe=e.onBassEnhancementBlurIntensityChange)==null||pe.call(e,r.bassEnhancementBlurIntensity)),r.bassEnhancementCurveIntensity!==void 0&&((Ye=e.onBassEnhancementCurveIntensityChange)==null||Ye.call(e,r.bassEnhancementCurveIntensity)),r.bassEnhancementText!==void 0&&((ot=e.onBassEnhancementTextChange)==null||ot.call(e,r.bassEnhancementText)),r.bassEnhancementTextColor!==void 0&&((Ve=e.onBassEnhancementTextColorChange)==null||Ve.call(e,r.bassEnhancementTextColor)),r.bassEnhancementTextFont!==void 0&&((nt=e.onBassEnhancementTextFontChange)==null||nt.call(e,r.bassEnhancementTextFont)),r.bassEnhancementTextSize!==void 0&&((Ae=e.onBassEnhancementTextSizeChange)==null||Ae.call(e,r.bassEnhancementTextSize)),r.bassEnhancementTextBgOpacity!==void 0&&((ut=e.onBassEnhancementTextBgOpacityChange)==null||ut.call(e,r.bassEnhancementTextBgOpacity)),r.bassEnhancementCenterOpacity!==void 0&&((Ot=e.onBassEnhancementCenterOpacityChange)==null||Ot.call(e,r.bassEnhancementCenterOpacity)),r.blurredEdgeSinger!==void 0&&(($t=e.onBlurredEdgeSingerChange)==null||$t.call(e,r.blurredEdgeSinger)),r.blurredEdgeSongTitle!==void 0&&((zt=e.onBlurredEdgeSongTitleChange)==null||zt.call(e,r.blurredEdgeSongTitle)),r.blurredEdgeFontFamily!==void 0&&((wn=e.onBlurredEdgeFontFamilyChange)==null||wn.call(e,r.blurredEdgeFontFamily)),r.blurredEdgeTextColor!==void 0&&((Qt=e.onBlurredEdgeTextColorChange)==null||Qt.call(e,r.blurredEdgeTextColor)),r.blurredEdgeBgOpacity!==void 0&&((sl=e.onBlurredEdgeBgOpacityChange)==null||sl.call(e,r.blurredEdgeBgOpacity)),r.blurredEdgeFontSize!==void 0&&((gt=e.onBlurredEdgeFontSizeChange)==null||gt.call(e,r.blurredEdgeFontSize)),r.vinylLayoutMode!==void 0&&((Ca=e.onVinylLayoutModeChange)==null||Ca.call(e,r.vinylLayoutMode)),r.vinylCenterFixed!==void 0&&((Sa=e.onVinylCenterFixedChange)==null||Sa.call(e,r.vinylCenterFixed)),r.vinylRecordEnabled!==void 0&&((ba=e.onVinylRecordEnabledChange)==null||ba.call(e,r.vinylRecordEnabled)),r.vinylNeedleEnabled!==void 0&&((La=e.onVinylNeedleEnabledChange)==null||La.call(e,r.vinylNeedleEnabled)),r.pianoOpacity!==void 0&&((vn=e.onPianoOpacityChange)==null||vn.call(e,r.pianoOpacity)),r.controlCardEnabled!==void 0&&((Tn=e.onControlCardEnabledChange)==null||Tn.call(e,r.controlCardEnabled)),r.controlCardStyle!==void 0&&((jn=e.onControlCardStyleChange)==null||jn.call(e,r.controlCardStyle)),r.controlCardColor!==void 0&&((da=e.onControlCardColorChange)==null||da.call(e,r.controlCardColor)),r.controlCardBackgroundColor!==void 0&&((Na=e.onControlCardBackgroundColorChange)==null||Na.call(e,r.controlCardBackgroundColor)),r.controlCardFontSize!==void 0&&((Hn=e.onControlCardFontSizeChange)==null||Hn.call(e,r.controlCardFontSize))},x={[g.POPPINS]:"Poppins",[g.ORBITRON]:"Orbitron",[g.LOBSTER]:"Lobster",[g.BUNGEE]:"Bungee",[g.PRESS_START_2P]:"Press Start 2P",[g.PACIFICO]:"Pacifico",[g.DANCING_SCRIPT]:"Dancing Script",[g.ROCKNROLL_ONE]:"RocknRoll One",[g.REGGAE_ONE]:"Reggae One",[g.VT323]:"VT323",[g.NOTO_SANS_TC]:"Noto Sans TC",[g.SOURCE_HAN_SANS]:"Source Han Sans TC",[g.CW_TEX_KAI]:"cwTeXKai",[g.KLEE_ONE]:"Klee One",[g.QINGSONG_1]:"Jason Handwriting 1",[g.QINGSONG_2]:"Jason Handwriting 2",[g.TAIPEI_SANS]:"Taipei Sans TC Beta",[g.M_PLUS_ROUNDED]:"M PLUS Rounded 1c",[g.HINA_MINCHO]:"Hina Mincho",[g.RAMPART_ONE]:"Rampart One",[g.ROBOTO_MONO]:"Roboto Mono",[g.OPEN_SANS]:"Open Sans",[g.LATO]:"Lato",[g.MONTSERRAT]:"Montserrat",[g.SOURCE_SANS_PRO]:"Source Sans Pro",[g.RALEWAY]:"Raleway",[g.UBUNTU]:"Ubuntu",[g.PLAYFAIR_DISPLAY]:"Playfair Display",[g.MERRIWEATHER]:"Merriweather",[g.OSWALD]:"Oswald",[g.CAVEAT]:"Caveat",[g.KALAM]:"Kalam",[g.COMFORTAA]:"Comfortaa",[g.FREDOKA_ONE]:"Fredoka One",[g.NUNITO]:"Nunito",[g.QUICKSAND]:"Quicksand",[g.RUBIK]:"Rubik",[g.NOTO_SERIF_TC]:"Noto Serif TC",[g.MA_SHAN_ZHENG]:"Ma Shan Zheng",[g.ZHI_MANG_XING]:"Zhi Mang Xing",[g.LONG_CANG]:"Long Cang",[g.ZCOOL_KUAI_LE]:"ZCOOL KuaiLe",[g.ZCOOL_QING_KE]:"ZCOOL QingKe HuangYou",[g.LIU_JIAN_MAO_CAO]:"Liu Jian Mao Cao",[g.ZCOOL_XIAO_WEI]:"ZCOOL XiaoWei",[g.BAKUDAI]:"Bakudai",[g.MASA_FONT]:"Masa Font"};return l.jsxs("div",{className:"w-full max-w-7xl space-y-4",children:[t&&l.jsx("div",{className:"mb-6",children:l.jsx(_b,{visualizationType:e.visualizationType,onVisualizationChange:e.onVisualizationChange,multiEffectEnabled:e.multiEffectEnabled,onMultiEffectEnabledChange:e.onMultiEffectEnabledChange,selectedVisualizationTypes:e.selectedVisualizationTypes,onToggleVisualizationType:e.onToggleVisualizationType,multiEffectOffsets:e.multiEffectOffsets,onActiveMultiEffectNudge:e.onActiveMultiEffectNudge,onActiveMultiEffectOffsetChange:e.onActiveMultiEffectOffsetChange,onActiveMultiEffectOffsetReset:e.onActiveMultiEffectOffsetReset,multiEffectTransforms:e.multiEffectTransforms,onActiveMultiEffectTransformChange:e.onActiveMultiEffectTransformChange,onMultiEffectTransformChange:e.onMultiEffectTransformsChange?(r,u)=>{var f,y;const E=((f=e.multiEffectTransforms)==null?void 0:f[r])||{x:0,y:0,scale:1,rotation:0};(y=e.onMultiEffectTransformsChange)==null||y.call(e,{...e.multiEffectTransforms,[r]:{...E,...u}})}:void 0,onActiveMultiEffectTransformReset:e.onActiveMultiEffectTransformReset,waveformStroke:e.waveformStroke,onWaveformStrokeChange:e.onWaveformStrokeChange,effectScale:e.effectScale,onEffectScaleChange:e.onEffectScaleChange,effectOffsetX:e.effectOffsetX,onEffectOffsetXChange:e.onEffectOffsetXChange,effectOffsetY:e.effectOffsetY,onEffectOffsetYChange:e.onEffectOffsetYChange,effectRotation:e.effectRotation,onEffectRotationChange:e.onEffectRotationChange,isRecording:e.isRecording,colorPalette:e.colorPalette,onColorPaletteChange:e.onColorPaletteChange,customPrimaryColor:e.customPrimaryColor,customSecondaryColor:e.customSecondaryColor,customAccentColor:e.customAccentColor,onCustomPrimaryColorChange:e.onCustomPrimaryColorChange,onCustomSecondaryColorChange:e.onCustomSecondaryColorChange,onCustomAccentColorChange:e.onCustomAccentColorChange,sensitivity:e.sensitivity,onSensitivityChange:e.onSensitivityChange,smoothing:e.smoothing,onSmoothingChange:e.onSmoothingChange,equalization:e.equalization,onEqualizationChange:e.onEqualizationChange,isPipSupported:e.isPipSupported,isPipActive:e.isPipActive,onEnterPictureInPicture:e.onEnterPictureInPicture,onExitPictureInPicture:e.onExitPictureInPicture})}),l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl shadow-2xl p-6",children:[l.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:""}),l.jsx("button",{onClick:()=>e.onShowVisualizerChange(!e.showVisualizer),type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showVisualizer?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showVisualizer,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showVisualizer?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:""}),l.jsx("button",{onClick:()=>e.onShowBackgroundImageChange(!e.showBackgroundImage),type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showBackgroundImage?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showBackgroundImage,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showBackgroundImage?"translate-x-6":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(At,{path:qe.PLAY,className:"w-5 h-5 text-cyan-400"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:""})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(aa,{onClick:e.onPlayPause,variant:"primary",className:"w-14 h-14 text-2xl !p-0 shadow-xl",disabled:!e.audioFile,children:l.jsx(At,{path:e.isPlaying?qe.PAUSE:qe.PLAY,className:"w-7 h-7"})}),l.jsx(aa,{onClick:e.onRecordToggle,variant:e.isRecording?"danger":"secondary",className:`${e.isRecording?"animate-pulse shadow-red-500/50":""}`,disabled:e.isLoading||e.isGeneratingSubtitles,children:e.isLoading?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}),l.jsx("span",{children:"..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(At,{path:e.isRecording?qe.RECORD_STOP:qe.RECORD_START,className:"w-5 h-5"}),l.jsx("span",{children:e.isRecording?"":""})]})})]}),e.audioFile&&e.audioDuration>0&&l.jsx("div",{className:"flex-1 mx-6 min-w-0",children:l.jsx(Vb,{currentTime:e.currentTime,duration:e.audioDuration,onSeek:e.onSeek})}),l.jsxs("div",{className:"flex items-center space-x-3 flex-wrap",children:[l.jsxs("div",{className:"w-full flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("label",{className:"flex items-center cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:e.isBatchMode||!1,onChange:r=>{var u;return(u=e.onBatchModeChange)==null?void 0:u.call(e,r.target.checked)},className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-500 rounded focus:ring-cyan-500 focus:ring-2"}),l.jsx("span",{className:"ml-2 text-sm text-gray-200 font-medium",children:""})]}),e.isBatchMode&&l.jsxs("span",{className:"ml-4 text-xs text-gray-400",children:["(: ",e.currentBatchIndex!==void 0?e.currentBatchIndex+1:0," / ",((h=e.batchQueue)==null?void 0:h.length)||0,")"]})]}),e.isBatchMode&&l.jsxs(aa,{onClick:e.onAddBatchRow,variant:"secondary",className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 !h-8",children:[l.jsx(At,{path:qe.PLUS,className:"w-4 h-4 mr-1"}),l.jsx("span",{children:""})]})]}),e.isBatchMode&&e.batchQueue&&l.jsxs("div",{className:"flex flex-col gap-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:[e.batchQueue.map((r,u)=>l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg border ${u===e.currentBatchIndex?"bg-cyan-900/30 border-cyan-500/50":"bg-gray-800 border-gray-700"}`,children:[l.jsxs("span",{className:"text-sm text-gray-400 w-6",children:[u+1,"."]}),l.jsxs("label",{className:`flex-1 flex items-center gap-2 px-3 py-2 rounded cursor-pointer transition-colors ${r.audioFile?"bg-cyan-600/20 text-cyan-300 border border-cyan-600/30":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[l.jsx(At,{path:qe.MUSIC,className:"w-4 h-4 flex-shrink-0"}),l.jsx("span",{className:"text-xs truncate max-w-[120px]",children:r.audioFile?r.audioFile.name:"..."}),l.jsx("input",{type:"file",className:"hidden",accept:"audio/*,video/mp4",onChange:E=>{var f,y;(f=E.target.files)!=null&&f[0]&&((y=e.onUpdateBatchRow)==null||y.call(e,u,"audio",E.target.files[0]))}})]}),l.jsxs("label",{className:`flex-1 flex items-center gap-2 px-3 py-2 rounded cursor-pointer transition-colors ${r.subtitlesRawText?"bg-purple-600/20 text-purple-300 border border-purple-600/30":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[l.jsx(At,{path:qe.TEXT,className:"w-4 h-4 flex-shrink-0"}),l.jsx("span",{className:"text-xs truncate max-w-[120px]",children:r.songName&&r.subtitlesRawText?"":"..."}),l.jsx("input",{type:"file",className:"hidden",accept:".srt,.lrc,.txt,.vtt",onChange:E=>{var f,y;(f=E.target.files)!=null&&f[0]&&((y=e.onUpdateBatchRow)==null||y.call(e,u,"subtitle",E.target.files[0]))}})]}),l.jsxs("label",{className:`flex-1 flex items-center gap-2 px-3 py-2 rounded cursor-pointer transition-colors ${r.ctaVideoFile?"bg-orange-600/20 text-orange-300 border border-orange-600/30":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 flex-shrink-0",children:l.jsx("path",{d:"M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z"})}),l.jsx("span",{className:"text-xs truncate max-w-[120px]",children:r.ctaVideoFile?" CTA":"CTA ()"}),l.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:E=>{var f,y;(f=E.target.files)!=null&&f[0]&&((y=e.onUpdateBatchRow)==null||y.call(e,u,"cta",E.target.files[0]))}})]}),l.jsx("button",{onClick:()=>{var E;return(E=e.onRemoveBatchRow)==null?void 0:E.call(e,u)},className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-900/20 rounded transition-colors",title:"",children:l.jsx(At,{path:qe.DELETE||"M6 18L18 6M6 6l12 12",className:"w-4 h-4"})})]},r.id)),e.batchQueue.length===0&&l.jsx("div",{className:"text-center py-4 text-gray-500 text-sm italic border border-dashed border-gray-700 rounded-lg",children:""})]})]}),!e.isBatchMode&&l.jsxs("label",{className:"px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-500 text-white shadow-lg hover:shadow-xl cursor-pointer",children:[l.jsx(At,{path:qe.UPLOAD,className:"w-5 h-5"}),l.jsx("span",{children:e.audioFile?"":""}),l.jsx("input",{type:"file",className:"hidden",accept:"audio/*,video/mp4,video/*,.mp4",onChange:r=>{if(console.log(":",r.target.files),r.target.files&&r.target.files[0]){const u=r.target.files[0];u.type.startsWith("audio/")||u.type.startsWith("video/")||u.name.toLowerCase().endsWith(".mp4")?(console.log(":",u),e.onFileSelect(u)):alert(" MP4 ")}r.target.value=""}})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:" CTA "}),l.jsx("button",{onClick:()=>{var r;return(r=e.onShowCtaAnimationChange)==null?void 0:r.call(e,!e.showCtaAnimation)},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showCtaAnimation?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showCtaAnimation,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showCtaAnimation?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onShowIntroOverlayChange)==null?void 0:r.call(e,!e.showIntroOverlay)},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showIntroOverlay?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showIntroOverlay,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showIntroOverlay?"translate-x-6":"translate-x-1"}`})})]}),e.audioFile&&l.jsxs(aa,{onClick:e.onClearAudio,variant:"danger",children:[l.jsx(At,{path:qe.CHANGE_MUSIC,className:"w-5 h-5"}),l.jsx("span",{children:""})]}),e.audioFile&&l.jsxs("a",{href:URL.createObjectURL(e.audioFile),download:e.audioFile.name,className:"px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-500 text-white shadow-lg hover:shadow-xl",children:[l.jsx(At,{path:qe.DOWNLOAD}),l.jsx("span",{children:""})]}),e.videoUrl&&l.jsxs("a",{href:e.videoUrl,download:`${((b=e.audioFile)==null?void 0:b.name.replace(/\.[^/.]+$/,""))||"visualization"}.${e.videoExtension}`,className:"px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-500 text-white shadow-lg hover:shadow-xl",children:[l.jsx(At,{path:qe.DOWNLOAD}),l.jsxs("span",{children:[" ",e.videoExtension.toUpperCase()]})]})]})]}),e.showCtaAnimation&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsxs("div",{className:"p-4 rounded-lg border border-gray-600 bg-gray-800/40 space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-cyan-300",children:"CTA "}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"text-center bg-gray-600 hover:bg-gray-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:[" CTA ",l.jsx("input",{type:"file",className:"hidden",accept:"video/*,.mp4,.webm,.mov",onChange:r=>{var E,f;const u=(E=r.target.files)==null?void 0:E[0];u&&((f=e.onCtaVideoSelect)==null||f.call(e,u)),r.target.value=""}})]}),(e.ctaVideoUrl||e.ctaVideoFileName)&&l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg px-3 py-2",children:[l.jsx("div",{className:"text-xs text-gray-300 truncate",children:e.ctaVideoFileName||" CTA "}),l.jsx(aa,{onClick:()=>{var r;return(r=e.onClearCtaVideo)==null?void 0:r.call(e)},variant:"danger",className:"px-2 py-1 text-xs",children:""})]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:" CTA "}),l.jsx("span",{className:"text-xs text-gray-400",children:" CTA  cover"})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onCtaVideoEnabledChange)==null?void 0:r.call(e,!(e.ctaVideoEnabled??!1))},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.ctaVideoEnabled??!1?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.ctaVideoEnabled??!1,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.ctaVideoEnabled??!1?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:" CTA  CTA "}),l.jsx("span",{className:"text-xs text-gray-400",children:" +  CTA "})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onCtaVideoReplaceCtaAnimationChange)==null?void 0:r.call(e,!(e.ctaVideoReplaceCtaAnimation??!1))},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.ctaVideoReplaceCtaAnimation??!1?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.ctaVideoReplaceCtaAnimation??!1,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.ctaVideoReplaceCtaAnimation??!1?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:" CTA "}),l.jsx("span",{className:"text-xs text-gray-400",children:" CTA "})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onCtaVideoIncludeAudioChange)==null?void 0:r.call(e,!(e.ctaVideoIncludeAudio??!1))},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.ctaVideoIncludeAudio??!1?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.ctaVideoIncludeAudio??!1,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.ctaVideoIncludeAudio??!1?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"CTA /"})]}),e.showCtaAnimation&&!(e.ctaVideoReplaceCtaAnimation??!1)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.ctaChannelName||"",onChange:r=>{var u;return(u=e.onCtaChannelNameChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border-2 border-black rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),e.showCtaAnimation&&!(e.ctaVideoReplaceCtaAnimation??!1)&&l.jsx("div",{children:l.jsx(xt,{label:"",value:e.ctaFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onCtaFontFamilyChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.RAMPART_ONE,label:"Rampart One"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"},{value:g.RALEWAY,label:"Raleway"},{value:g.UBUNTU,label:"Ubuntu"},{value:g.PLAYFAIR_DISPLAY,label:"Playfair Display"},{value:g.MERRIWEATHER,label:"Merriweather"},{value:g.OSWALD,label:"Oswald"},{value:g.CAVEAT,label:"Caveat"},{value:g.KALAM,label:"Kalam"},{value:g.COMFORTAA,label:"Comfortaa"},{value:g.FREDOKA_ONE,label:"Fredoka One"},{value:g.NUNITO,label:"Nunito"},{value:g.QUICKSAND,label:"Quicksand"},{value:g.RUBIK,label:"Rubik"}]})}),l.jsx("div",{children:l.jsx(xt,{label:"",value:e.ctaTextEffect||U.NONE,onChange:r=>{var u;return(u=e.onCtaTextEffectChange)==null?void 0:u.call(e,r)},options:[{value:U.NONE,label:""},{value:U.BOLD,label:""},{value:U.SHADOW,label:""},{value:U.NEON,label:""},{value:U.OUTLINE,label:""},{value:U.GLITCH,label:""}]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(wa,{color:r,onClick:u=>{var E;return(E=e.onCtaTextColorChange)==null?void 0:E.call(e,u)},isActive:(e.ctaTextColor||"#FFFFFF")===r},`cta-text-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.ctaTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onCtaTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.ctaTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onCtaTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(wa,{color:r,onClick:u=>{var E;return(E=e.onCtaStrokeColorChange)==null?void 0:E.call(e,u)},isActive:(e.ctaStrokeColor||"#000000")===r},`cta-stroke-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.ctaStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onCtaStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.ctaStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onCtaStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]}),l.jsx("p",{className:"text-xs text-gray-400",children:" CTA "})]}),l.jsx("div",{children:l.jsx($e,{label:"",value:e.ctaPositionX||50,onChange:r=>{var u;return(u=e.onCtaPositionXChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1})}),l.jsx("div",{children:l.jsx($e,{label:"",value:e.ctaPositionY||50,onChange:r=>{var u;return(u=e.onCtaPositionYChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1})})]}),e.showIntroOverlay&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(At,{path:qe.INTRO,className:"w-5 h-5 text-cyan-400"}),l.jsx("span",{className:"text-sm font-medium text-gray-200",children:""})]}),l.jsx(aa,{onClick:()=>{var r;return(r=e.onPreviewIntro)==null?void 0:r.call(e)},variant:"secondary",className:"bg-indigo-600 hover:bg-indigo-500",disabled:!e.audioFile,children:l.jsx("span",{children:""})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.introTitle||"",onChange:r=>{var u;return(u=e.onIntroTitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.introArtist||"",onChange:r=>{var u;return(u=e.onIntroArtistChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.introDescription||"",onChange:r=>{var u;return(u=e.onIntroDescriptionChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx(xt,{label:"",value:e.introFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onIntroFontFamilyChange)==null?void 0:u.call(e,r)},options:Object.entries(x).map(([r,u])=>({value:r,label:u}))}),l.jsx(xt,{label:"",value:e.introEffect||U.NEON,onChange:r=>{var u;return(u=e.onIntroEffectChange)==null?void 0:u.call(e,r)},options:[{value:U.NONE,label:""},{value:U.BOLD,label:""},{value:U.SHADOW,label:""},{value:U.NEON,label:""},{value:U.OUTLINE,label:""},{value:U.FAUX_3D,label:"3D"},{value:U.GLITCH,label:""},{value:U.NEON,label:""}]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"color",value:e.introColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onIntroColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"color",value:e.introStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onIntroStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]}),l.jsx($e,{label:" (vw)",value:e.introTitleSize??6,onChange:r=>{var u;return(u=e.onIntroTitleSizeChange)==null?void 0:u.call(e,r)},min:1,max:12,step:.2,colorType:"scale"}),l.jsx($e,{label:" (vw)",value:e.introArtistSize??4,onChange:r=>{var u;return(u=e.onIntroArtistSizeChange)==null?void 0:u.call(e,r)},min:1,max:10,step:.2,colorType:"scale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx($e,{label:" (vw)",value:e.introDescriptionSize??2.8,onChange:r=>{var u;return(u=e.onIntroDescriptionSizeChange)==null?void 0:u.call(e,r)},min:.8,max:8,step:.2,colorType:"scale"}),l.jsx($e,{label:" (%)",value:e.introPositionX??50,onChange:r=>{var u;return(u=e.onIntroPositionXChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1,colorType:"position"}),l.jsx($e,{label:" (%)",value:e.introPositionY??50,onChange:r=>{var u;return(u=e.onIntroPositionYChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1,colorType:"position"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[l.jsx($e,{label:" ()",value:e.introFadeIn??.8,onChange:r=>{var u;return(u=e.onIntroFadeInChange)==null?void 0:u.call(e,r)},min:0,max:5,step:.1,colorType:"scale"}),l.jsx($e,{label:" ()",value:e.introHold??1.6,onChange:r=>{var u;return(u=e.onIntroHoldChange)==null?void 0:u.call(e,r)},min:0,max:10,step:.1,colorType:"scale"}),l.jsx($e,{label:" ()",value:e.introFadeOut??.8,onChange:r=>{var u;return(u=e.onIntroFadeOutChange)==null?void 0:u.call(e,r)},min:0,max:5,step:.1,colorType:"scale"}),l.jsx($e,{label:"",value:e.introBgOpacity??.35,onChange:r=>{var u;return(u=e.onIntroBgOpacityChange)==null?void 0:u.call(e,r)},min:0,max:1,step:.05,colorType:"scale"})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-800/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:""}),l.jsx("span",{className:"text-xs text-gray-400",children:""})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onIntroLightBarsEnabledChange)==null?void 0:r.call(e,!(e.introLightBarsEnabled??!0))},className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.introLightBarsEnabled??!0?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.introLightBarsEnabled??!0,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.introLightBarsEnabled??!0?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"  0 "})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Jt,{title:"",icon:qe.SETTINGS,priority:"high",defaultExpanded:!1,children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xt,{label:"",value:e.resolution,onChange:r=>e.onResolutionChange(r),options:Object.values(In).map(r=>({value:r,label:r}))}),(e.resolution===In.SQUARE_1080||e.resolution===In.SQUARE_4K)&&l.jsxs("div",{className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:"YouTube Shorts "})]}),l.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"1:1  YouTube ShortsInstagram  TikTok"})]})]}),l.jsx(xt,{label:"",value:e.backgroundColor,onChange:r=>e.onBackgroundColorChange(r),options:Object.values(Oa).map(r=>({value:r,label:r}))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"text-center bg-gray-600 hover:bg-gray-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:["",l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:r=>{r.target.files&&r.target.files[0]&&e.onBackgroundImageSelect(r.target.files[0]),r.target.value=""}})]}),l.jsxs("label",{className:"text-center bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:[" ()",l.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:r=>{r.target.files&&e.onMultipleBackgroundImagesSelect(r.target.files),r.target.value=""}})]}),(e.backgroundImage||e.backgroundImages.length>0)&&l.jsxs("div",{className:"flex gap-2",children:[e.backgroundImage&&l.jsx(aa,{onClick:()=>{console.log(""),e.onClearBackgroundImage()},variant:"danger",className:"px-2 py-1 text-sm flex-1",children:" "}),e.backgroundImages.length>0&&l.jsx(aa,{onClick:()=>{console.log(":",e.backgroundImages.length),e.onClearAllBackgroundImages()},variant:"danger",className:"px-2 py-1 text-sm flex-1",children:" "})]})]}),l.jsxs("div",{className:"space-y-2 mt-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"text-center bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:[" ",l.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:r=>{r.target.files&&r.target.files[0]&&e.onBackgroundVideoSelect(r.target.files[0]),r.target.value=""}})]}),e.backgroundVideo&&l.jsx(aa,{onClick:()=>{console.log(""),e.onClearBackgroundVideo()},variant:"danger",className:"px-2 py-1 text-sm",children:" "}),e.backgroundVideo&&l.jsxs("div",{className:"p-3 bg-blue-500/20 border border-blue-400/30 rounded-lg text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:""})]}),l.jsx("p",{className:"text-blue-200 text-xs mt-1",children:""})]})]})]}),e.backgroundImages.length>0&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"text-sm text-gray-300",children:[" ",e.backgroundImages.length,"  ",e.currentImageIndex+1," "]}),e.backgroundImages.length>1&&l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.isSlideshowEnabled,onChange:r=>e.onSlideshowEnabledChange(r.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500 focus:ring-2"}),l.jsx("span",{className:"text-sm text-gray-300",children:""})]})}),e.isSlideshowEnabled&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:" ()"}),l.jsx("input",{type:"number",min:"5",max:"60",value:e.slideshowInterval,onChange:r=>e.onSlideshowIntervalChange(parseInt(r.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent"})]}),e.isSlideshowEnabled&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("select",{value:e.transitionType,onChange:r=>e.onTransitionTypeChange(r.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:[l.jsx("option",{value:de.TV_STATIC,children:" "}),l.jsx("option",{value:de.FADE,children:" "}),l.jsx("option",{value:de.SLIDE_LEFT,children:" "}),l.jsx("option",{value:de.SLIDE_RIGHT,children:" "}),l.jsx("option",{value:de.SLIDE_UP,children:" "}),l.jsx("option",{value:de.SLIDE_DOWN,children:" "}),l.jsx("option",{value:de.ZOOM_IN,children:" "}),l.jsx("option",{value:de.ZOOM_OUT,children:" "}),l.jsx("option",{value:de.SPIRAL,children:" "}),l.jsx("option",{value:de.WAVE,children:" "}),l.jsx("option",{value:de.DIAMOND,children:" "}),l.jsx("option",{value:de.CIRCLE,children:" "}),l.jsx("option",{value:de.BLINDS,children:" "}),l.jsx("option",{value:de.CHECKERBOARD,children:" "}),l.jsx("option",{value:de.RANDOM_PIXELS,children:" "})]})]}),e.isSlideshowEnabled&&l.jsxs("div",{className:"p-3 bg-purple-500/20 border border-purple-400/30 rounded-lg text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsxs("span",{className:"font-medium",children:[Ub(e.transitionType)," ",e.transitionType,""]})]}),l.jsxs("p",{className:"text-purple-200 text-xs mt-1",children:[" ",e.slideshowInterval," ",e.transitionType,""]})]})]})]})]})}),l.jsx(Jt,{title:"",icon:qe.SETTINGS,priority:"medium",defaultExpanded:!1,children:(()=>{const r=i(e.customTextOverlays);return l.jsxs("div",{className:"space-y-6",children:[r.map((u,E)=>l.jsxs("div",{className:"p-4 rounded-xl border border-gray-700 bg-gray-800/40",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(At,{path:qe.SETTINGS,className:"w-4 h-4 text-cyan-400"}),l.jsxs("h4",{className:"text-md font-semibold text-gray-200",children:[" ",E+1]})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 select-none",children:[l.jsx("input",{type:"checkbox",checked:!!u.enabled,onChange:f=>s(E,{enabled:f.target.checked}),className:"w-4 h-4 accent-cyan-500"}),""]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"text",value:u.text,onChange:f=>s(E,{text:f.target.value}),placeholder:"...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent"})]}),l.jsx(xt,{label:"",value:u.fontFamily,onChange:f=>s(E,{fontFamily:f}),options:[{value:g.NOTO_SANS_TC,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"}]}),l.jsx(xt,{label:"",value:u.graphicEffect,onChange:f=>s(E,{graphicEffect:f}),options:Object.values(U).map(f=>({value:f,label:f}))}),l.jsx(xt,{label:"",value:u.anchor,onChange:f=>s(E,{anchor:f}),options:Object.values(bn).map(f=>({value:f,label:f}))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(f=>l.jsx(wa,{color:f,onClick:y=>s(E,{color:y}),isActive:u.color===f},`custom-text-${E}-fill-${f}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:u.color,onChange:f=>s(E,{color:f.target.value}),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:u.color,onChange:f=>s(E,{color:f.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),u.graphicEffect===U.OUTLINE&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(f=>l.jsx(wa,{color:f,onClick:y=>s(E,{strokeColor:y}),isActive:(u.strokeColor||"#000000")===f},`custom-text-${E}-stroke-${f}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:u.strokeColor||"#000000",onChange:f=>s(E,{strokeColor:f.target.value}),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:u.strokeColor||"#000000",onChange:f=>s(E,{strokeColor:f.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]}),l.jsx("p",{className:"text-xs text-gray-400",children:""})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(At,{path:qe.SETTINGS,className:"w-4 h-4 text-cyan-400"}),l.jsx("h5",{className:"text-sm font-semibold text-gray-200",children:" /  / "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx($e,{label:" (vw)",value:u.textSize,onChange:f=>s(E,{textSize:f}),min:1,max:10,step:.5,colorType:"scale"}),l.jsx($e,{label:" (%)",value:u.textPositionX,onChange:f=>s(E,{textPositionX:f}),min:-50,max:50,step:5,colorType:"position"}),l.jsx($e,{label:" (%)",value:u.textPositionY,onChange:f=>s(E,{textPositionY:f}),min:-50,max:50,step:5,colorType:"position"}),l.jsx($e,{label:" ()",value:u.rotationDeg,onChange:f=>s(E,{rotationDeg:f}),min:-180,max:180,step:5,colorType:"position"})]})]})]},`custom-text-${E}`)),l.jsxs("div",{className:"p-3 bg-blue-500/20 border border-blue-400/30 rounded-lg text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:" "})]}),l.jsx("p",{className:"text-blue-200 text-xs mt-1",children:" -50%  +50%0% "})]})]})})()}),l.jsx(Jt,{title:"",icon:qe.SUBTITLES,priority:"high",defaultExpanded:!1,badge:"AI ",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx(xt,{label:"",value:e.subtitleFormat,onChange:r=>e.onSubtitleFormatChange(r),options:[{value:Bn.BRACKET,label:" [00:00.00]"},{value:Bn.SRT,label:"SRT 00:00:14,676 --> 00:00:19,347"}]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsx(xt,{label:"",value:e.subtitleLanguage,onChange:r=>e.onSubtitleLanguageChange(r),options:[{value:ia.CHINESE,label:" "},{value:ia.ENGLISH,label:" English"},{value:ia.KOREAN,label:" "},{value:ia.JAPANESE,label:" "}]}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:"  AI "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"file",accept:".srt,.lrc,.txt",onChange:r=>{var f;const u=(f=r.target.files)==null?void 0:f[0];if(!u)return;const E=new FileReader;E.onload=y=>{var N;const S=(N=y.target)==null?void 0:N.result,k=u.name.toLowerCase();try{if(k.endsWith(".lrc")){const j=oh(S);e.onSubtitlesRawTextChange(j),e.onSubtitleFormatChange&&e.onSubtitleFormatChange(Bn.BRACKET),alert(` LRC 

`)}else if(k.endsWith(".srt"))e.onSubtitlesRawTextChange(S),e.onSubtitleFormatChange&&e.onSubtitleFormatChange(Bn.SRT),alert(" SRT ");else if(S.includes("-->"))e.onSubtitlesRawTextChange(S),e.onSubtitleFormatChange&&e.onSubtitleFormatChange(Bn.SRT),alert("  SRT ");else if(S.match(/\[\d{1,2}:\d{1,2}[\.:]\d{1,2}\]/)){const j=oh(S);e.onSubtitlesRawTextChange(j),e.onSubtitleFormatChange&&e.onSubtitleFormatChange(Bn.BRACKET),alert("  LRC ")}else e.onSubtitlesRawTextChange(S),alert(` 

`)}catch(j){alert(` 

`+(j instanceof Error?j.message:String(j)))}},E.readAsText(u,"utf-8"),r.target.value=""},className:"hidden",id:"subtitle-file-input"}),l.jsxs("label",{htmlFor:"subtitle-file-input",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded-lg transition-colors",children:[l.jsx(At,{path:qe.UPLOAD,className:"w-4 h-4"}),l.jsx("span",{children:""})]})]}),l.jsx("textarea",{value:e.subtitlesRawText,onChange:r=>e.onSubtitlesRawTextChange(r.target.value),rows:5,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent font-mono text-sm",placeholder:e.subtitleFormat===Bn.BRACKET?" [00:00.00]  SRT/LRC AI ...":" 00:00:14,676 --> 00:00:19,347  SRT/LRC AI ..."}),l.jsx("p",{className:"text-xs text-gray-400",children:"  SRT  LRC "})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(aa,{onClick:e.onGenerateSubtitles,disabled:e.isGeneratingSubtitles||!e.audioFile,variant:"secondary",className:"bg-purple-600 hover:bg-purple-500",children:e.isGeneratingSubtitles?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}),l.jsx("span",{children:"..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(At,{path:qe.AI_SPARKLE,className:"w-5 h-5"}),l.jsx("span",{children:"AI "})]})}),l.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-80 p-3 bg-gray-900 border border-gray-600 rounded-md text-xs text-left text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"font-medium text-cyan-300",children:"AI "}),l.jsx("div",{children:"  AI "}),l.jsx("div",{children:" "}),l.jsx("div",{children:" "}),l.jsx("div",{className:"text-green-300 font-medium",children:"  "}),l.jsx("div",{className:"text-green-300",children:" "})]})})]}),l.jsxs(aa,{onClick:()=>{if(!e.subtitlesRawText.trim()){alert(`


1. 
2. AI `);return}const r=e.subtitleFormat===Bn.BRACKET?"bracket":"srt",u=zb(e.subtitlesRawText,r),E=new Blob([u],{type:"text/plain;charset=utf-8"}),f=URL.createObjectURL(E),y=document.createElement("a");y.href=f,y.download="subtitles.srt",document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(f)},variant:"secondary",className:`${e.subtitlesRawText.trim()?"bg-green-600 hover:bg-green-500":"bg-gray-500 hover:bg-gray-400"}`,disabled:!e.subtitlesRawText.trim(),children:[l.jsx(At,{path:qe.DOWNLOAD,className:"w-5 h-5"}),l.jsx("span",{children:" (SRT)"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:Object.values(Ut).map(r=>l.jsxs("button",{onClick:()=>e.onSubtitleDisplayModeChange(r),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e.subtitleDisplayMode===r?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[r===Ut.NONE&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.CLASSIC&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.LYRICS_SCROLL&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.WORD_BY_WORD&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.SLIDING_GROUP&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.FADE_LINES&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.PARTIAL_BLUR&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]},r))})]}),e.subtitleDisplayMode===Ut.FADE_LINES&&l.jsxs("div",{className:"mt-4 p-4 rounded-lg border border-gray-600 bg-gray-800/40 space-y-4",children:[l.jsx("div",{className:"text-sm font-medium text-cyan-300",children:""}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:""}),l.jsx("span",{className:"text-xs text-gray-400",children:""})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onSubtitleFadeLinesEnabledChange)==null?void 0:r.call(e,!(e.subtitleFadeLinesEnabled??!0))},className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.subtitleFadeLinesEnabled??!0?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.subtitleFadeLinesEnabled??!0,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.subtitleFadeLinesEnabled??!0?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx($e,{label:" ()",value:e.subtitleFadeInSeconds??.25,onChange:r=>{var u;return(u=e.onSubtitleFadeInSecondsChange)==null?void 0:u.call(e,r)},min:0,max:2,step:.05,colorType:"scale"}),l.jsx($e,{label:" ()",value:e.subtitleFadeOutSeconds??.25,onChange:r=>{var u;return(u=e.onSubtitleFadeOutSecondsChange)==null?void 0:u.call(e,r)},min:0,max:2,step:.05,colorType:"scale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2 flex-wrap",children:a.map(r=>l.jsx(wa,{color:r,onClick:u=>{var E;return(E=e.onSubtitleLineColorChange)==null?void 0:E.call(e,u)},isActive:(e.subtitleLineColor||"#FFFFFF")===r},`fade-lines-color-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.subtitleLineColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onSubtitleLineColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.subtitleLineColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onSubtitleLineColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),l.jsx($e,{label:" (px)",value:e.subtitleLineThickness??3,onChange:r=>{var u;return(u=e.onSubtitleLineThicknessChange)==null?void 0:u.call(e,r)},min:1,max:12,step:1,colorType:"scale"}),l.jsx($e,{label:" (px)",value:e.subtitleLineGap??10,onChange:r=>{var u;return(u=e.onSubtitleLineGapChange)==null?void 0:u.call(e,r)},min:0,max:40,step:1,colorType:"position"})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"///"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:Object.values(on).map(r=>l.jsxs("button",{onClick:()=>e.onSubtitleOrientationChange(r),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e.subtitleOrientation===r?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[r===on.HORIZONTAL&&l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===on.VERTICAL&&l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]},r))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx($e,{label:"",value:e.subtitleFontSize,onChange:e.onSubtitleFontSizeChange,min:2,max:8,step:.5}),l.jsxs("div",{className:"col-span-2 space-y-3",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-300",children:["  (",e.subtitleOrientation===on.VERTICAL?"":"",")"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx($e,{label:"",value:e.subtitleOrientation===on.VERTICAL?e.verticalSubtitlePosition||1:e.horizontalSubtitlePosition||.5,onChange:r=>{e.subtitleOrientation===on.VERTICAL?e.onVerticalSubtitlePositionChange(r):e.onHorizontalSubtitlePositionChange(r)},min:0,max:1.2,step:.05}),l.jsx($e,{label:"",value:e.subtitleOrientation===on.VERTICAL?e.verticalSubtitleVerticalPosition||.5:e.horizontalSubtitleVerticalPosition||1.2,onChange:r=>{e.subtitleOrientation===on.VERTICAL?e.onVerticalSubtitleVerticalPositionChange(r):e.onHorizontalSubtitleVerticalPositionChange(r)},min:0,max:1.2,step:.05})]})]}),l.jsx(xt,{label:"",value:e.subtitleFontFamily,onChange:r=>e.onSubtitleFontFamilyChange(r),options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:"LOGO"},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.RAMPART_ONE,label:""},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"},{value:g.RALEWAY,label:"Raleway"},{value:g.UBUNTU,label:"Ubuntu"},{value:g.PLAYFAIR_DISPLAY,label:"Playfair Display"},{value:g.MERRIWEATHER,label:"Merriweather"},{value:g.OSWALD,label:"Oswald"},{value:g.CAVEAT,label:"Caveat ()"},{value:g.KALAM,label:"Kalam ()"},{value:g.COMFORTAA,label:"Comfortaa ()"},{value:g.FREDOKA_ONE,label:"Fredoka One ()"},{value:g.NUNITO,label:"Nunito ()"},{value:g.QUICKSAND,label:"Quicksand ()"},{value:g.RUBIK,label:"Rubik ()"}]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(wa,{color:r,onClick:e.onSubtitleColorChange,isActive:e.subtitleColor===r},r))}),l.jsx("div",{className:"mt-2",children:l.jsx("input",{type:"color",value:e.subtitleColor,onChange:r=>e.onSubtitleColorChange(r.target.value),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})})]}),e.subtitleStrokeColor!==void 0&&e.onSubtitleStrokeColorChange&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(wa,{color:r,onClick:e.onSubtitleStrokeColorChange,isActive:e.subtitleStrokeColor===r},r))}),l.jsx("div",{className:"mt-2",children:l.jsx("input",{type:"color",value:e.subtitleStrokeColor,onChange:r=>e.onSubtitleStrokeColorChange(r.target.value),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})})]}),e.subtitleEffect!==void 0&&e.onSubtitleEffectChange&&l.jsx(xt,{label:"",value:e.subtitleEffect,onChange:r=>{var u;return(u=e.onSubtitleEffectChange)==null?void 0:u.call(e,r)},options:[{value:U.NONE,label:""},{value:U.BOLD,label:""},{value:U.SHADOW,label:""},{value:U.NEON,label:""},{value:U.OUTLINE,label:""},{value:U.FAUX_3D,label:"3D"},{value:U.GLITCH,label:""}]}),l.jsx(xt,{label:"",value:e.subtitleBgStyle,onChange:r=>e.onSubtitleBgStyleChange(r),options:Object.values(an).map(r=>({value:r,label:r}))})]})]})}),e.subtitleDisplayMode===Ut.LYRICS_SCROLL&&l.jsx(Jt,{title:"",icon:qe.SETTINGS,priority:"medium",defaultExpanded:!0,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{className:"text-sm text-gray-300",children:""})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx($e,{label:" (%)",value:e.lyricsFontSize,onChange:e.onLyricsFontSizeChange,min:.5,max:10,step:.1,colorType:"scale"}),l.jsx(xt,{label:"",value:e.lyricsFontFamily,onChange:r=>e.onLyricsFontFamilyChange(r),options:Object.entries(x).map(([r,u])=>({value:r,label:r===g.NOTO_SANS_TC?"":r===g.SOURCE_HAN_SANS?" (TC)":r===g.CW_TEX_KAI?"cwTeXKai":r===g.KLEE_ONE?"Klee One":r===g.QINGSONG_1?"1":r===g.QINGSONG_2?"2":r===g.TAIPEI_SANS?"":r===g.M_PLUS_ROUNDED?"":r===g.HINA_MINCHO?"":r===g.MA_SHAN_ZHENG?"":r===g.ZHI_MANG_XING?"":r===g.LONG_CANG?"":r===g.ZCOOL_KUAI_LE?"":r===g.ZCOOL_QING_KE?"":r===g.LIU_JIAN_MAO_CAO?"":r===g.ZCOOL_XIAO_WEI?"LOGO":r===g.BAKUDAI?"":r===g.MASA_FONT?"":r===g.POPPINS?" (Poppins)":r===g.ROCKNROLL_ONE?" (RocknRoll One)":u})),className:"sm:col-span-1 md:col-span-2"}),e.subtitleEffect!==void 0&&e.onSubtitleEffectChange&&l.jsx(xt,{label:"",value:e.subtitleEffect,onChange:r=>{var u;return(u=e.onSubtitleEffectChange)==null?void 0:u.call(e,r)},options:[{value:U.NONE,label:""},{value:U.BOLD,label:""},{value:U.SHADOW,label:""},{value:U.NEON,label:""},{value:U.OUTLINE,label:""},{value:U.FAUX_3D,label:"3D"},{value:U.GLITCH,label:""}]}),l.jsx($e,{label:" (%)",value:e.lyricsPositionX,onChange:e.onLyricsPositionXChange,min:-50,max:50,step:5,colorType:"position"}),l.jsx($e,{label:" (%)",value:e.lyricsPositionY,onChange:e.onLyricsPositionYChange,min:-100,max:100,step:5,colorType:"position"})]})]})}),e.visualizationType===re.GEOMETRIC_BARS&&l.jsx(Jt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.geometricSongName||"",onChange:r=>{var u;return(u=e.onGeometricSongNameChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border-2 border-black rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.geometricArtistName||"",onChange:r=>{var u;return(u=e.onGeometricArtistNameChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border-2 border-black rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onGeometricFrameImageUpload,className:"hidden",id:"frame-image-upload"}),l.jsx("label",{htmlFor:"frame-image-upload",className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg cursor-pointer transition-colors",children:""}),e.geometricFrameImage&&l.jsx("button",{onClick:e.onClearGeometricFrameImage,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:""})]}),e.geometricFrameImage&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:e.geometricFrameImage,alt:"",className:"w-20 h-20 object-cover rounded border"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onGeometricSemicircleImageUpload,className:"hidden",id:"semicircle-image-upload"}),l.jsx("label",{htmlFor:"semicircle-image-upload",className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg cursor-pointer transition-colors",children:""}),e.geometricSemicircleImage&&l.jsx("button",{onClick:e.onClearGeometricSemicircleImage,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:""})]}),e.geometricSemicircleImage&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:e.geometricSemicircleImage,alt:"",className:"w-20 h-20 object-cover rounded border"})})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onControlCardEnabledChange)==null?void 0:r.call(e,!e.controlCardEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.controlCardEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.controlCardEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.controlCardEnabled&&l.jsxs(l.Fragment,{children:[l.jsx($e,{label:"",value:e.controlCardFontSize||24,onChange:e.onControlCardFontSizeChange||(()=>{}),min:24,max:100,step:1}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.controlCardStyle,onChange:r=>{var u;return(u=e.onControlCardStyleChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:Yt.FILLED,children:" "}),l.jsx("option",{value:Yt.OUTLINE,children:" "}),l.jsx("option",{value:Yt.TRANSPARENT,children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"color",value:e.controlCardColor||"#ffffff",onChange:r=>{var u;return(u=e.onControlCardColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.controlCardColor||"#ffffff",onChange:r=>{var u;return(u=e.onControlCardColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#ffffff"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(xt,{label:"",value:e.controlCardFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onControlCardFontFamilyChange)==null?void 0:u.call(e,r)},options:Object.entries(x).map(([r,u])=>({value:r,label:u}))}),l.jsx(xt,{label:"",value:e.controlCardTextEffect||U.NONE,onChange:r=>{var u;return(u=e.onControlCardTextEffectChange)==null?void 0:u.call(e,r)},options:[{value:U.NONE,label:""},{value:U.BOLD,label:""},{value:U.SHADOW,label:""},{value:U.NEON,label:""},{value:U.NEON,label:""},{value:U.OUTLINE,label:""},{value:U.FAUX_3D,label:"3D"},{value:U.GLITCH,label:""}]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"color",value:e.controlCardStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onControlCardStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),e.controlCardStyle===Yt.FILLED&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"color",value:e.controlCardBackgroundColor||"rgba(0, 0, 0, 0.5)",onChange:r=>{var u;return(u=e.onControlCardBackgroundColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.controlCardBackgroundColor||"rgba(0, 0, 0, 0.5)",onChange:r=>{var u;return(u=e.onControlCardBackgroundColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"rgba(100, 120, 100, 0.9)"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onAutoChangeSongChange)==null?void 0:r.call(e,!e.autoChangeSong)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.autoChangeSong?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.autoChangeSong?"translate-x-6":"translate-x-1"}`})})]}),e.songNameList&&e.songNameList.length>0&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" (",e.songNameList.length," )"]}),l.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-h-32 overflow-y-auto",children:e.songNameList.map((r,u)=>l.jsxs("div",{className:"text-xs text-gray-300 py-1",children:[u+1,". ",r]},u))}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" 95% "})]})]})]})]})}),e.visualizationType===re.Z_CUSTOM&&l.jsx(Jt,{title:"Z",icon:qe.SETTINGS,priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onZCustomCenterImageUpload,className:"hidden",id:"z-custom-center-image-upload"}),l.jsx("label",{htmlFor:"z-custom-center-image-upload",className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg cursor-pointer transition-colors",children:""}),e.zCustomCenterImage&&l.jsx("button",{onClick:e.onClearZCustomCenterImage,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:""})]}),e.zCustomCenterImage&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:e.zCustomCenterImage,alt:"",className:"w-20 h-20 object-cover rounded border"})})]}),l.jsx($e,{label:"",value:e.zCustomScale||1,onChange:e.onZCustomScaleChange||(()=>{}),min:.1,max:3,step:.1}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx($e,{label:"",value:((C=e.zCustomPosition)==null?void 0:C.x)||0,onChange:r=>{var u,E;return(E=e.onZCustomPositionUpdate)==null?void 0:E.call(e,{x:r,y:((u=e.zCustomPosition)==null?void 0:u.y)||0})},min:-100,max:100,step:1}),l.jsx($e,{label:"",value:((v=e.zCustomPosition)==null?void 0:v.y)||0,onChange:r=>{var u,E;return(E=e.onZCustomPositionUpdate)==null?void 0:E.call(e,{x:((u=e.zCustomPosition)==null?void 0:u.x)||0,y:r})},min:-100,max:100,step:1})]})]})]})}),e.visualizationType===re.VINYL_RECORD&&l.jsx(Jt,{title:"",icon:qe.SETTINGS,priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{id:"vinyl-image-input",type:"file",className:"hidden",accept:"image/*",onChange:e.onVinylImageUpload}),l.jsx("label",{htmlFor:"vinyl-image-input",className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 rounded cursor-pointer text-sm",children:""}),e.vinylImage&&l.jsx("button",{onClick:e.onClearVinylImage,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 rounded text-sm",children:""})]}),e.vinylImage&&l.jsx("img",{src:e.vinylImage,alt:"Vinyl ",className:"w-24 h-24 object-cover rounded border"}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-400",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onVinylCenterFixedChange)==null?void 0:r.call(e,!e.vinylCenterFixed)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.vinylCenterFixed?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.vinylCenterFixed?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:""})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onVinylRecordEnabledChange)==null?void 0:r.call(e,!e.vinylRecordEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.vinylRecordEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.vinylRecordEnabled?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onVinylNeedleEnabledChange)==null?void 0:r.call(e,!e.vinylNeedleEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.vinylNeedleEnabled!==!1?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.vinylNeedleEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onControlCardEnabledChange)==null?void 0:r.call(e,!e.controlCardEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.controlCardEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.controlCardEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.controlCardEnabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.vinylLayoutMode||"horizontal",onChange:r=>{var u;return(u=e.onVinylLayoutModeChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:"horizontal",children:" "}),l.jsx("option",{value:"vertical",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.controlCardStyle,onChange:r=>{var u;return(u=e.onControlCardStyleChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:Yt.FILLED,children:" "}),l.jsx("option",{value:Yt.OUTLINE,children:" "}),l.jsx("option",{value:Yt.TRANSPARENT,children:" "})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"/"}),l.jsx("input",{type:"color",value:e.controlCardColor||"#111827",onChange:r=>{var u;return(u=e.onControlCardColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsx("select",{value:e.controlCardFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onControlCardFontFamilyChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:Object.entries(x).map(([r,u])=>l.jsx("option",{value:r,children:u},r))})]}),e.controlCardStyle!==Yt.TRANSPARENT&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"color",value:(()=>{const r=e.controlCardBackgroundColor||"rgba(240,244,248,0.92)",u=r.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/);if(u){const E=Number(u[1]).toString(16).padStart(2,"0"),f=Number(u[2]).toString(16).padStart(2,"0"),y=Number(u[3]).toString(16).padStart(2,"0");return`#${E}${f}${y}`}return r.startsWith("#")?r:"#f0f4f8"})(),onChange:r=>{var N;const u=r.target.value,E=document.getElementById("vinyl-card-bg-alpha"),f=E?Number(E.value||"0.92"):.92,y=parseInt(u.slice(1,3),16),S=parseInt(u.slice(3,5),16),k=parseInt(u.slice(5,7),16);(N=e.onControlCardBackgroundColorChange)==null||N.call(e,`rgba(${y},${S},${k},${f})`)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                                                            #9CA3AF 0%,
                                                                            #A5A0B0 50%,
                                                                            #B8B5C0 100%)`}}),l.jsx("input",{id:"vinyl-card-bg-alpha",type:"range",min:"0",max:"1",step:"0.01",defaultValue:(()=>{const u=(e.controlCardBackgroundColor||"rgba(240,244,248,0.92)").match(/rgba\(\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*([0-9.]+)\)/);return u?u[1]:"0.92"})(),onChange:r=>{var f;const E=(e.controlCardBackgroundColor||"rgba(240,244,248,0.92)").match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);if(E){const y=Number(E[1]),S=Number(E[2]),k=Number(E[3]);(f=e.onControlCardBackgroundColorChange)==null||f.call(e,`rgba(${y},${S},${k},${r.target.value})`)}},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(()=>{const u=(e.controlCardBackgroundColor||"rgba(240,244,248,0.92)").match(/rgba\(\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*([0-9.]+)\)/);return(u?parseFloat(u[1]):.92)*100})()}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]}),l.jsx("span",{className:"text-xs text-gray-400 w-10 text-right",children:""})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsxs("select",{value:e.controlCardTextEffect||U.NONE,onChange:r=>{var u;return(u=e.onControlCardTextEffectChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:U.NONE,children:""}),l.jsx("option",{value:U.BOLD,children:""}),l.jsx("option",{value:U.SHADOW,children:""}),l.jsx("option",{value:U.NEON,children:""}),l.jsx("option",{value:U.NEON,children:""}),l.jsx("option",{value:U.OUTLINE,children:""}),l.jsx("option",{value:U.FAUX_3D,children:"3D"}),l.jsx("option",{value:U.GLITCH,children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsx("input",{type:"color",value:e.controlCardStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onControlCardStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"})]})]})]})]})]})}),e.visualizationType===re.PHOTO_SHAKE&&l.jsx(Jt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-300",children:" "}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.photoShakeSongTitle||"",onChange:r=>{var u;return(u=e.onPhotoShakeSongTitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.photoShakeSubtitle||"",onChange:r=>{var u;return(u=e.onPhotoShakeSubtitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(xt,{label:"",value:e.photoShakeFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onPhotoShakeFontFamilyChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-sm text-gray-300 w-12 text-center",children:Math.round(e.photoShakeFontSize||60)}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #3B82F6 0%, #10B981 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.photoShakeFontSize||60,onChange:r=>{var u;return(u=e.onPhotoShakeFontSizeChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"20-150"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((typeof e.photoShakeOverlayOpacity=="number"?e.photoShakeOverlayOpacity:.4)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #3B82F6 0%, #8B5CF6 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:typeof e.photoShakeOverlayOpacity=="number"?e.photoShakeOverlayOpacity:.4,onChange:r=>{var u;return(u=e.onPhotoShakeOverlayOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]})]})}),e.visualizationType===re.FRAME_PIXELATION&&l.jsx(Jt,{title:" ",icon:"",priority:"high",defaultExpanded:!0,badge:" ",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementCenterOpacity||.3)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #3B82F6 0%, #8B5CF6 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.bassEnhancementCenterOpacity??.3,onChange:r=>{var u;return(u=e.onBassEnhancementCenterOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementBlurIntensity||.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #10B981 0%, #F59E0B 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.bassEnhancementBlurIntensity??.5,onChange:r=>{var u;return(u=e.onBassEnhancementBlurIntensityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementCurveIntensity||1)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #EF4444 0%, #F97316 100%)"}}),l.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.01",value:e.bassEnhancementCurveIntensity??1,onChange:r=>{var u;return(u=e.onBassEnhancementCurveIntensityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"10% 200% "})]})]})}),e.visualizationType===re.DYNAMIC_CONTROL_CARD&&l.jsx(Jt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.bassEnhancementText||"",onChange:r=>{var u;return(u=e.onBassEnhancementTextChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:e.bassEnhancementTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBassEnhancementTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.bassEnhancementTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBassEnhancementTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"#FFFFFF"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.bassEnhancementTextFont||g.POPPINS,onChange:r=>{var u;return(u=e.onBassEnhancementTextFontChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[l.jsx("option",{value:g.POPPINS,children:"Poppins"}),l.jsx("option",{value:g.ROCKNROLL_ONE,children:"RocknRoll One"}),l.jsx("option",{value:g.OPEN_SANS,children:"Open Sans"}),l.jsx("option",{value:g.LATO,children:"Lato"}),l.jsx("option",{value:g.MONTSERRAT,children:"Montserrat"}),l.jsx("option",{value:g.OSWALD,children:"Oswald"}),l.jsx("option",{value:g.SOURCE_SANS_PRO,children:"Source Sans Pro"}),l.jsx("option",{value:g.RALEWAY,children:"Raleway"}),l.jsx("option",{value:g.UBUNTU,children:"Ubuntu"}),l.jsx("option",{value:g.NUNITO,children:"Nunito"}),l.jsx("option",{value:g.PLAYFAIR_DISPLAY,children:"Playfair Display"}),l.jsx("option",{value:g.MERRIWEATHER,children:"Merriweather"}),l.jsx("option",{value:g.FREDOKA_ONE,children:"Fredoka One"}),l.jsx("option",{value:g.LOBSTER,children:"Lobster"}),l.jsx("option",{value:g.PACIFICO,children:"Pacifico"}),l.jsx("option",{value:g.ORBITRON,children:"Orbitron"}),l.jsx("option",{value:g.BUNGEE,children:"Bungee"}),l.jsx("option",{value:g.PRESS_START_2P,children:"Press Start 2P"}),l.jsx("option",{value:g.DANCING_SCRIPT,children:"Dancing Script"}),l.jsx("option",{value:g.REGGAE_ONE,children:"Reggae One"}),l.jsx("option",{value:g.VT323,children:"VT323"}),l.jsx("option",{value:g.NOTO_SANS_TC,children:""}),l.jsx("option",{value:g.SOURCE_HAN_SANS,children:""}),l.jsx("option",{value:g.CW_TEX_KAI,children:""}),l.jsx("option",{value:g.KLEE_ONE,children:"Klee One"}),l.jsx("option",{value:g.TAIPEI_SANS,children:""}),l.jsx("option",{value:g.M_PLUS_ROUNDED,children:"M PLUS Rounded"}),l.jsx("option",{value:g.HINA_MINCHO,children:"Hina Mincho"}),l.jsx("option",{value:g.RAMPART_ONE,children:"Rampart One"}),l.jsx("option",{value:g.ROBOTO_MONO,children:"Roboto Mono"}),l.jsx("option",{value:g.CAVEAT,children:"Caveat"}),l.jsx("option",{value:g.KALAM,children:"Kalam"}),l.jsx("option",{value:g.COMFORTAA,children:"Comfortaa"}),l.jsx("option",{value:g.QUICKSAND,children:"Quicksand"}),l.jsx("option",{value:g.RUBIK,children:"Rubik"}),l.jsx("option",{value:g.NOTO_SERIF_TC,children:""}),l.jsx("option",{value:g.MA_SHAN_ZHENG,children:""}),l.jsx("option",{value:g.ZHI_MANG_XING,children:""}),l.jsx("option",{value:g.LONG_CANG,children:""}),l.jsx("option",{value:g.ZCOOL_KUAI_LE,children:""}),l.jsx("option",{value:g.ZCOOL_QING_KE,children:""}),l.jsx("option",{value:g.LIU_JIAN_MAO_CAO,children:""}),l.jsx("option",{value:g.ZCOOL_XIAO_WEI,children:""}),l.jsx("option",{value:g.BAKUDAI,children:""})]})]}),l.jsxs("div",{children:[l.jsx($e,{label:"",value:e.bassEnhancementTextSize||4,onChange:e.onBassEnhancementTextSizeChange||(()=>{}),min:1,max:10,step:.1}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"1.0% - 10.0%"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementTextBgOpacity??.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(59, 130, 246, 0.5) 0%, rgba(139, 92, 246, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.bassEnhancementTextBgOpacity??.5,onChange:r=>{var u;return(u=e.onBassEnhancementTextBgOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]})]})})}),l.jsx(Jt,{title:"",icon:qe.SETTINGS,priority:"low",defaultExpanded:!1,badge:"/",children:l.jsx(Bb,{onLoadSettings:m,currentSettings:c()})}),e.visualizationType===re.CIRCULAR_WAVE&&l.jsx(Jt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:e.circularWaveImage?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"relative rounded-lg overflow-hidden",children:l.jsx("img",{src:e.circularWaveImage,alt:"",className:"w-full h-48 object-cover"})}),l.jsx("button",{onClick:()=>{var r;return(r=e.onClearCircularWaveImage)==null?void 0:r.call(e)},className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-200",children:""})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center",children:[l.jsx("p",{className:"text-gray-400 mb-2",children:""}),l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),l.jsx("p",{className:"text-xs text-cyan-400 font-medium",children:" "})]}),l.jsxs("label",{className:"block",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onCircularWaveImageUpload,className:"hidden"}),l.jsx("div",{className:"w-full px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors duration-200 cursor-pointer text-center",children:""})]})]})}),l.jsx("p",{className:"text-xs text-gray-400",children:" 1/4"}),l.jsx("p",{className:"text-xs text-cyan-400",children:" "})]})})}),e.visualizationType===re.BLURRED_EDGE&&l.jsx(Jt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.blurredEdgeSinger||"",onChange:r=>{var u;return(u=e.onBlurredEdgeSingerChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.blurredEdgeSongTitle||"",onChange:r=>{var u;return(u=e.onBlurredEdgeSongTitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(xt,{label:"",value:e.blurredEdgeFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onBlurredEdgeFontFamilyChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:e.blurredEdgeTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBlurredEdgeTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.blurredEdgeTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBlurredEdgeTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"#FFFFFF"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.blurredEdgeBgOpacity||.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(59, 130, 246, 0.5) 0%, rgba(139, 92, 246, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.blurredEdgeBgOpacity??.5,onChange:r=>{var u;return(u=e.onBlurredEdgeBgOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round(e.blurredEdgeFontSize||40),"px"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(59, 130, 246, 0.5) 0%, rgba(139, 92, 246, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.blurredEdgeFontSize??40,onChange:r=>{var u;return(u=e.onBlurredEdgeFontSizeChange)==null?void 0:u.call(e,parseInt(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"20-150px"})]})]})}),e.visualizationType===re.KE_YE_CUSTOM_V2&&l.jsx(Jt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((typeof e.keYeCustomV2BoxOpacity=="number"?e.keYeCustomV2BoxOpacity:.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.9) 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:typeof e.keYeCustomV2BoxOpacity=="number"?e.keYeCustomV2BoxOpacity:.5,onChange:r=>{var u;return(u=e.onKeYeCustomV2BoxOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(wa,{color:r,onClick:u=>{var E;return(E=e.onKeYeCustomV2BoxColorChange)==null?void 0:E.call(e,u)},isActive:(e.keYeCustomV2BoxColor||"#FFFFFF")===r},`keye-v2-box-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.keYeCustomV2BoxColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2BoxColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.keYeCustomV2BoxColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2BoxColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(wa,{color:r,onClick:u=>{var E;return(E=e.onKeYeCustomV2VisualizerColorChange)==null?void 0:E.call(e,u)},isActive:(e.keYeCustomV2VisualizerColor||"#FFFFFF")===r},`keye-v2-vis-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.keYeCustomV2VisualizerColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2VisualizerColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.keYeCustomV2VisualizerColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2VisualizerColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.keYeCustomV2Text1||"",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1Change)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(xt,{label:"",value:e.keYeCustomV2Text1Font||g.POPPINS,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1FontChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text1Color||"#000000",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1ColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]}),l.jsx(xt,{label:"",value:e.keYeCustomV2Text1Effect||U.NONE,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1EffectChange)==null?void 0:u.call(e,r)},options:[{value:U.NONE,label:""},{value:U.BOLD,label:""},{value:U.SHADOW,label:""},{value:U.NEON,label:""},{value:U.NEON,label:""},{value:U.OUTLINE,label:""},{value:U.FAUX_3D,label:"3D"},{value:U.GLITCH,label:""}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text1StrokeColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1StrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["",e.keYeCustomV2Text1Size||40,"px"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(156, 163, 175, 0.4) 0%, rgba(168, 181, 196, 0.45) 50%, rgba(139, 157, 195, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.keYeCustomV2Text1Size||40,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1SizeChange)==null?void 0:u.call(e,parseInt(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${((e.keYeCustomV2Text1Size||40)-20)/130*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.35)"}})]})]})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.keYeCustomV2Text2||"",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2Change)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(xt,{label:"",value:e.keYeCustomV2Text2Font||g.POPPINS,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2FontChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text2Color||"#000000",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2ColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]}),l.jsx(xt,{label:"",value:e.keYeCustomV2Text2Effect||U.NONE,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2EffectChange)==null?void 0:u.call(e,r)},options:[{value:U.NONE,label:""},{value:U.BOLD,label:""},{value:U.SHADOW,label:""},{value:U.NEON,label:""},{value:U.NEON,label:""},{value:U.OUTLINE,label:""},{value:U.FAUX_3D,label:"3D"},{value:U.GLITCH,label:""}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text2StrokeColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2StrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["",e.keYeCustomV2Text2Size||30,"px"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(156, 163, 175, 0.4) 0%, rgba(168, 181, 196, 0.45) 50%, rgba(139, 157, 195, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.keYeCustomV2Text2Size||30,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2SizeChange)==null?void 0:u.call(e,parseInt(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${((e.keYeCustomV2Text2Size||30)-20)/130*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.35)"}})]})]})]})]})}),e.visualizationType===re.PIANO_VIRTUOSO&&l.jsx(Jt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx($e,{label:"",value:e.pianoOpacity??1,onChange:e.onPianoOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:""})]})}),e.visualizationType===re.FUSION&&l.jsx(Jt,{title:"Fusion",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx($e,{label:"",value:e.fusionCenterOpacity??1,onChange:e.onFusionCenterOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:" Fusion /"})]})}),e.visualizationType===re.STELLAR_CORE&&l.jsx(Jt,{title:"Stellar Core",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx($e,{label:"",value:e.stellarCoreInnerOpacity??1,onChange:e.onStellarCoreInnerOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx($e,{label:"",value:e.stellarCoreTentaclesOpacity??1,onChange:e.onStellarCoreTentaclesOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:" Stellar Core "})]})}),l.jsx(Jt,{title:"",icon:"",priority:"medium",defaultExpanded:!1,badge:e.filterEffectEnabled?"":"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-400/30 rounded-lg p-3 mb-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.74c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-yellow-200 mb-1",children:""}),l.jsxs("p",{className:"text-xs text-yellow-300 leading-relaxed",children:["",l.jsx("strong",{children:""}),""]})]})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onFilterEffectEnabledChange)==null?void 0:r.call(e,!e.filterEffectEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.filterEffectEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.filterEffectEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.filterEffectEnabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.filterEffectType,onChange:r=>{var u;return(u=e.onFilterEffectTypeChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:Et.SNOW,children:" "}),l.jsx("option",{value:Et.PARTICLES,children:" "}),l.jsx("option",{value:Et.STARS,children:" "}),l.jsx("option",{value:Et.RAIN,children:" "}),l.jsx("option",{value:Et.CHERRY_BLOSSOM,children:" "}),l.jsx("option",{value:Et.LIGHTNING,children:" "}),l.jsx("option",{value:Et.GLITCH1,children:" 1"}),l.jsx("option",{value:Et.GLITCH2,children:" 2"})]})]}),l.jsxs("div",{children:[l.jsx($e,{label:"",value:e.filterEffectIntensity||.5,onChange:e.onFilterEffectIntensityChange||(()=>{}),min:0,max:1,step:.1}),l.jsxs("p",{className:"text-xs text-yellow-400 mt-1 flex items-center space-x-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3",children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.74c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),l.jsx("span",{children:""})]})]}),l.jsx($e,{label:"",value:e.filterEffectOpacity||.6,onChange:e.onFilterEffectOpacityChange||(()=>{}),min:0,max:1,step:.1}),l.jsx($e,{label:"",value:e.filterEffectSpeed||1,onChange:e.onFilterEffectSpeedChange||(()=>{}),min:.5,max:2,step:.1})]})]})})]})]})},Ub=e=>{switch(e){case de.TV_STATIC:return"";case de.FADE:return"";case de.SLIDE_LEFT:return"";case de.SLIDE_RIGHT:return"";case de.SLIDE_UP:return"";case de.SLIDE_DOWN:return"";case de.ZOOM_IN:return"";case de.ZOOM_OUT:return"";case de.SPIRAL:return"";case de.WAVE:return"";case de.DIAMOND:return"";case de.CIRCLE:return"";case de.BLINDS:return"";case de.CHECKERBOARD:return"";case de.RANDOM_PIXELS:return"";default:return""}},Hb=()=>{const e=new Date().getFullYear(),t=o=>{o.preventDefault();const i=document.getElementById("contactModal");i&&(i.style.display="block",document.body.style.overflow="hidden")},n=o=>{o.preventDefault();const i=document.getElementById("privacyModal");i&&(i.style.display="block",document.body.style.overflow="hidden")},a=o=>{o.preventDefault();const i=document.getElementById("termsModal");i&&(i.style.display="block",document.body.style.overflow="hidden")};return l.jsx("footer",{className:"unified-footer w-full mt-8 border-t border-gray-800 bg-gray-900/80 backdrop-blur-sm py-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[l.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-8",children:[l.jsxs("a",{href:"https://www.youtube.com/@%E9%9F%B3%E6%A8%82%E8%84%88%E5%8B%95SonicPulse",target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-cyan-400 transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fab fa-youtube"})," YouTube"]}),l.jsxs("a",{href:"#",onClick:t,className:"text-gray-400 hover:text-cyan-400 transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-envelope"})," "]}),l.jsxs("a",{href:"#",onClick:n,className:"text-gray-400 hover:text-cyan-400 transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-shield-alt"})," "]}),l.jsxs("a",{href:"#",onClick:a,className:"text-gray-400 hover:text-cyan-400 transition-colors flex items-center gap-2",children:[l.jsx("i",{className:"fas fa-file-contract"})," "]})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:""}),l.jsxs("a",{href:"https://buymeacoffee.com/sonicpulse2025",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-gray-400 to-gray-500 rounded-xl hover:from-cyan-500 hover:to-blue-500 transition-all text-white shadow-lg hover:shadow-cyan-500/20 transform hover:-translate-y-1",children:[l.jsx("img",{src:"/assets/cat-avatar.png",alt:"",className:"w-8 h-8 rounded-full"}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("span",{className:"font-bold text-sm",children:""}),l.jsx("span",{className:"text-xs opacity-90",children:"Buy me a coffee"})]})]})]}),l.jsx("div",{className:"text-center text-gray-600 text-sm",children:l.jsxs("p",{children:[" ",e," -Sonic Pulse. . |   "]})})]})})},Wb=({type:e,className:t=""})=>{M.useEffect(()=>{if(window.adsbygoogle)try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(o){console.log("AdSense error:",o)}},[]);const n=()=>{switch(e){case"banner":return"w-full h-24 md:h-32 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center";case"sidebar":return"w-full h-64 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center";case"footer":return"w-full h-20 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center";default:return"w-full h-24 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center"}},a=()=>{switch(e){case"banner":return l.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-7718548739614199","data-ad-slot":"YOUR_BANNER_AD_SLOT","data-ad-format":"auto","data-full-width-responsive":"true"});case"sidebar":return l.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-7718548739614199","data-ad-slot":"YOUR_SIDEBAR_AD_SLOT","data-ad-format":"auto","data-full-width-responsive":"true"});case"footer":return l.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-7718548739614199","data-ad-slot":"YOUR_FOOTER_AD_SLOT","data-ad-format":"auto","data-full-width-responsive":"true"});default:return null}};return l.jsxs("div",{className:`${n()} ${t}`,children:[a(),l.jsxs("div",{className:"text-gray-400 text-sm",children:[e==="banner"&&"Advertisement",e==="sidebar"&&"Sponsored Content",e==="footer"&&"Advertisement"]})]})},Gb=({isOpen:e,onClose:t,onSave:n,onSkip:a,title:o="API ",message:i=" Gemini API  API Key  AI "})=>{const[s,c]=M.useState(""),[m,x]=M.useState(!1),[h,b]=M.useState(""),C=async()=>{if(!s.trim()){b(" API Key");return}x(!0),b("");try{if(!s.startsWith("AIza")||s.length<30)throw new Error("API Key ");if(!(await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${s}`)).ok)throw new Error("API Key ");localStorage.setItem("user_gemini_api_key",s),n(s),t()}catch(r){b(r instanceof Error?r.message:"API Key ")}finally{x(!1)}},v=()=>{a(),t()};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl max-w-md w-full border border-gray-600",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-white",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),l.jsx("h2",{className:"text-xl font-bold text-white",children:o})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:i}),l.jsx("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",children:l.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-blue-200 mb-1",children:""}),l.jsxs("p",{className:"text-xs text-blue-300 leading-relaxed",children:[" API Key ",l.jsx("strong",{children:""})," API Key API Key"]})]})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Gemini API Key"}),l.jsx("input",{type:"password",value:s,onChange:r=>c(r.target.value),placeholder:" Gemini API Key...",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h&&l.jsxs("p",{className:"text-red-400 text-sm mt-2 flex items-center space-x-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:l.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),l.jsx("span",{children:h})]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 mb-6",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-200 mb-2",children:" API Key"}),l.jsxs("ol",{className:"text-xs text-gray-400 space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:[" ",l.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 hover:text-orange-300 underline",children:"Google AI Studio"})]}),l.jsx("li",{children:" Google "}),l.jsx("li",{children:"Create API Key"}),l.jsx("li",{children:" API Key "})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-700 bg-gray-800/50 rounded-b-lg",children:[l.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:""}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:""}),l.jsxs("button",{onClick:C,disabled:m||!s.trim(),className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:[m&&l.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:m?"...":""})]})]})]})]})}):null},$b=()=>l.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-50 py-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("img",{src:"/assets/cat-avatar.png",alt:"",className:"w-10 h-10 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-bold text-lg",children:"Sonic Pulse"}),l.jsx("div",{className:"text-gray-400 text-sm",children:" "})]})]}),l.jsxs("ul",{className:"flex items-center space-x-6",children:[l.jsx("li",{children:l.jsx("a",{href:"/",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/#tools",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/articles/index.html",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/#channel",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/#contact",className:"text-gray-300 hover:text-white transition-colors",children:""})})]})]})}),Xb=()=>{const e=M.useRef(null),t=M.useRef(null),n=M.useRef(null),a=M.useRef(null),o=M.useRef(null),i=M.useRef(null),s=M.useRef(null),[c,m]=M.useState(!1),x=M.useCallback(v=>{if(!v)return;e.current&&n.current&&e.current.state==="suspended"&&e.current.resume();const r=e.current||new(window.AudioContext||window.webkitAudioContext);if(e.current=r,!t.current){const u=r.createAnalyser();u.fftSize=2048,t.current=u}if(!a.current){const u=r.createMediaStreamDestination();a.current=u}if(t.current&&a.current)try{t.current.disconnect(),t.current.connect(r.destination),t.current.connect(a.current)}catch(u){console.warn("Graph reconnection warning:",u)}try{if(!n.current){const u=r.createMediaElementSource(v);n.current=u}if(n.current&&t.current){try{n.current.disconnect()}catch{}n.current.connect(t.current)}}catch(u){console.error("Source connection failed:",u)}m(!0)},[]),h=M.useCallback(()=>{i.current&&i.current.disconnect(),o.current&&o.current.disconnect(),i.current=null,o.current=null,s.current=null},[]),b=M.useCallback((v,r)=>{const u=e.current,E=a.current;if(!(!u||!E)){if(s.current!==v){try{i.current&&i.current.disconnect(),o.current&&o.current.disconnect()}catch{}if(i.current=null,o.current=null,s.current=v,v)try{const f=u.createMediaElementSource(v),y=u.createGain();y.gain.value=1,f.connect(y),o.current=f,i.current=y}catch(f){console.warn("Failed to create aux MediaElementSourceNode:",f),s.current=null}}if(i.current){try{i.current.disconnect()}catch{}r&&i.current&&s.current&&(i.current.connect(u.destination),i.current.connect(E))}}},[]),C=M.useCallback(()=>{var v;return((v=a.current)==null?void 0:v.stream)??null},[]);return{analyser:t.current,initializeAudio:x,isAudioInitialized:c,getAudioStream:C,setAuxMediaElement:b,resetAudioAnalysis:h}},Kb=e=>{const[t,n]=M.useState(!1),a=M.useRef(null),o=M.useRef([]),i=M.useCallback((c,m,x=!1)=>{if(!c)return;const h={mimeType:"video/webm;codecs=vp9,opus",extension:"webm"},b={mimeType:"video/webm;codecs=vp8,opus",extension:"webm"},C={mimeType:"video/webm",extension:"webm"},v={mimeType:"video/mp4;codecs=h264,aac",extension:"mp4"};let r;if(x)if(MediaRecorder.isTypeSupported(h.mimeType))r=h;else if(MediaRecorder.isTypeSupported(b.mimeType))r=b;else if(MediaRecorder.isTypeSupported(C.mimeType))r=C;else{alert("Your browser does not support recording with a transparent background. Please try a modern browser like Chrome or Firefox.");return}else if(MediaRecorder.isTypeSupported(h.mimeType))r=h;else if(MediaRecorder.isTypeSupported(b.mimeType))r=b;else if(MediaRecorder.isTypeSupported(v.mimeType))r=v;else if(MediaRecorder.isTypeSupported(C.mimeType))r=C;else{alert("Your browser does not support MP4 or WEBM video recording.");return}const u=c.captureStream(30),E=new MediaStream([...u.getVideoTracks(),...m.getAudioTracks()]);try{a.current=new MediaRecorder(E,{mimeType:r.mimeType})}catch(f){console.error("MediaRecorder instantiation error:",f),alert("An unexpected error occurred while starting the recorder.");return}a.current.onerror=f=>{console.error("[Recorder] Error:",f)},a.current.onstart=()=>{console.log("[Recorder] Started successfully")},a.current.ondataavailable=f=>{var y;console.log(`[Recorder] Data available: ${f.data.size} bytes`,{state:(y=a.current)==null?void 0:y.state}),f.data.size>0&&o.current.push(f.data)},a.current.onstop=()=>{const f=new Blob(o.current,{type:r.mimeType}),y=URL.createObjectURL(f);e(y,r.extension),o.current=[]},o.current=[],a.current.start(),n(!0)},[e]),s=M.useCallback(()=>{a.current&&a.current.state!=="inactive"&&a.current.stop(),n(!1)},[]);return{isRecording:t,startRecording:i,stopRecording:s}},Zb=({type:e,intensity:t,opacity:n,speed:a,enabled:o})=>{const i=M.useRef(null),s=M.useRef(),c=M.useRef([]),[m,x]=M.useState({width:0,height:0});M.useEffect(()=>{const v=()=>{const r=i.current;if(r){const u=r.getBoundingClientRect();r.width=u.width,r.height=u.height,x({width:u.width,height:u.height})}};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);const h=()=>{const v=i.current;if(!v)return{};const r=.5+a*1.5,u=Math.max(v.width/1920,v.height/1080)*2,E=(6+Math.random()*12)*u;switch(e){case"snow":return{x:Math.random()*v.width,y:-10,vx:(Math.random()-.5)*.5,vy:r+Math.random()*r,size:E,opacity:.3+Math.random()*.4,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,color:"#ffffff",life:1,maxLife:1};case"particles":return{x:Math.random()*v.width,y:-10,vx:(Math.random()-.5)*.8,vy:r*.5+Math.random()*r*.7,size:E*1.2,opacity:.7+Math.random()*.3,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,color:`hsl(${Math.random()*360}, 90%, ${60+Math.random()*25}%)`,life:1,maxLife:1};case"stars":return{x:Math.random()*v.width,y:Math.random()*v.height,vx:0,vy:0,size:(3+Math.random()*6)*u,opacity:.4+Math.random()*.6,rotation:0,rotationSpeed:0,color:"#ffffff",life:Math.random()*3+1,maxLife:Math.random()*3+1};case"rain":return{x:Math.random()*v.width,y:-10,vx:(Math.random()-.5)*.2,vy:r*2+Math.random()*r,size:1+Math.random()*2,opacity:.2+Math.random()*.3,rotation:0,rotationSpeed:0,color:"#ffffff",life:1,maxLife:1};case"cherry-blossom":return{x:Math.random()*v.width,y:-10,vx:(Math.random()-.5)*.8,vy:r*.6+Math.random()*r*.4,size:E*1.2,opacity:.4+Math.random()*.4,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,color:`hsl(${320+Math.random()*40}, 60%, ${70+Math.random()*20}%)`,life:1,maxLife:1};default:return{}}},b=(v,r)=>{switch(v.save(),v.globalAlpha=r.opacity*n,v.translate(r.x,r.y),v.rotate(r.rotation),e){case"snow":v.fillStyle=r.color,v.beginPath();for(let y=0;y<6;y++){const S=Math.PI/3*y,k=Math.cos(S)*r.size,N=Math.sin(S)*r.size;y===0?v.moveTo(k,N):v.lineTo(k,N)}v.closePath(),v.fill();break;case"particles":v.fillStyle=r.color,v.beginPath(),v.arc(0,0,r.size,0,Math.PI*2),v.fill();const u=v.createRadialGradient(0,0,0,0,0,r.size*3);u.addColorStop(0,"rgba(255, 255, 255, 0)"),u.addColorStop(.7,r.color+"66"),u.addColorStop(1,r.color+"00"),v.fillStyle=u,v.beginPath(),v.arc(0,0,r.size*3,0,Math.PI*2),v.fill();break;case"stars":const E=Math.sin(Date.now()*.01+r.x+r.y)*.5+.5,f=r.opacity*n*(.3+E*.7);v.save(),v.globalAlpha=f*.2,v.fillStyle="#ffffff",v.shadowColor="#ffffff",v.shadowBlur=r.size*3,v.beginPath(),v.arc(0,0,r.size*2,0,Math.PI*2),v.fill(),v.restore(),v.save(),v.globalAlpha=f*.8,v.strokeStyle="#ffffff",v.lineWidth=Math.max(1,r.size*.2),v.shadowColor="#ffffff",v.shadowBlur=r.size*1.5,v.beginPath(),v.moveTo(-r.size*1.5,0),v.lineTo(r.size*1.5,0),v.moveTo(0,-r.size*1.5),v.lineTo(0,r.size*1.5),v.stroke(),v.restore(),v.globalAlpha=f,v.fillStyle="#ffffff",v.shadowColor="rgba(255, 255, 255, 0.8)",v.shadowBlur=r.size*1.2,v.beginPath(),v.arc(0,0,r.size,0,Math.PI*2),v.fill(),v.shadowBlur=0;break;case"rain":v.strokeStyle=r.color,v.lineWidth=r.size,v.beginPath(),v.moveTo(0,-r.size*3),v.lineTo(0,r.size*3),v.stroke();break;case"cherry-blossom":v.fillStyle=r.color,v.beginPath(),v.ellipse(0,0,r.size,r.size*.6,0,0,Math.PI*2),v.fill();break}v.restore()},C=()=>{const v=i.current;if(!v||!o)return;const r=v.getContext("2d");if(!r)return;r.clearRect(0,0,v.width,v.height);const u=Math.max(v.width/1920,v.height/1080)*1.5,E=Math.floor(t*150*u);c.current.length<E&&Math.random()<.08&&c.current.push(h()),c.current=c.current.filter(f=>{const y=(Math.random()-.5)*.4,S=Math.sin(Date.now()*.001+f.x*.01)*.15;if(f.x+=(f.vx+y+S)*a,f.y+=f.vy*a,f.rotation+=f.rotationSpeed,e==="stars")f.life-=.01,f.life<=0&&(f.x=Math.random()*v.width,f.y=Math.random()*v.height,f.life=f.maxLife,f.opacity=.3+Math.random()*.7);else if(f.y>v.height+20||f.x<-20||f.x>v.width+20)return!1;return b(r,f),!0}),s.current=requestAnimationFrame(C)};return M.useEffect(()=>(o?(c.current=[],C()):s.current&&cancelAnimationFrame(s.current),()=>{s.current&&cancelAnimationFrame(s.current)}),[o,e,t,n,a]),o?l.jsx("canvas",{ref:i,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1,mixBlendMode:e==="particles"?"normal":"screen"}}):null},Qb=()=>{var b;const[e,t]=M.useState("snow"),[n,a]=M.useState(.5),[o,i]=M.useState(.6),[s,c]=M.useState(1),[m,x]=M.useState(!0),h=[{value:"snow",label:"",description:""},{value:"particles",label:"",description:""},{value:"stars",label:"",description:""},{value:"rain",label:"",description:""},{value:"cherry-blossom",label:"",description:""}];return l.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh",background:"linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2d2d2d 100%)",overflow:"hidden",fontFamily:"Arial, sans-serif"},children:[l.jsx(Zb,{type:e,intensity:n,opacity:o,speed:s,enabled:m}),l.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"20px",color:"white",zIndex:10,minWidth:"300px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" "}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold"},children:""}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:h.map(C=>l.jsx("button",{onClick:()=>t(C.value),style:{padding:"8px 12px",background:e===C.value?"linear-gradient(45deg, #4ecdc4, #45b7d1)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseEnter:v=>{e!==C.value&&(v.currentTarget.style.background="rgba(255, 255, 255, 0.2)")},onMouseLeave:v=>{e!==C.value&&(v.currentTarget.style.background="rgba(255, 255, 255, 0.1)")},children:C.label},C.value))}),l.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"#b8b8b8",fontStyle:"italic"},children:(b=h.find(C=>C.value===e))==null?void 0:b.description})]}),l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[": ",Math.round(n*100),"%"]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n,onChange:C=>a(parseFloat(C.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",outline:"none",cursor:"pointer"}})]}),l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[": ",Math.round(o*100),"%"]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:o,onChange:C=>i(parseFloat(C.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",outline:"none",cursor:"pointer"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[": ",s.toFixed(1),"x"]}),l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:s,onChange:C=>c(parseFloat(C.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",outline:"none",cursor:"pointer"}})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("button",{onClick:()=>x(!m),style:{padding:"10px 20px",background:m?"linear-gradient(45deg, #ff6b6b, #4ecdc4)":"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",transition:"all 0.3s ease"},children:m?"":""}),l.jsx("span",{style:{fontSize:"0.9rem",color:"#b8b8b8"},children:m?"":""})]})]}),l.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"15px 25px",color:"white",textAlign:"center",zIndex:10,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[l.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem"},children:"  - "}),l.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"#b8b8b8"},children:""}),l.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"0.8rem",color:"#888"},children:" mix-blend-mode: screen "})]})]})},qb=window.location.search.includes("test=filter");function Jb(){var I0,M0,k0,F0,P0,R0,j0,A0,p0,L0;if(qb)return l.jsxs("div",{style:{width:"100vw",height:"100vh"},children:[l.jsx(Qb,{}),l.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"10px",borderRadius:"5px",zIndex:1e3},children:l.jsx("a",{href:"/audio-visualizer/",style:{color:"#4ecdc4",textDecoration:"none"},children:" "})})]});const[e,t]=M.useState(null),[n,a]=M.useState(""),[o,i]=M.useState(0),[s,c]=M.useState(0),[m,x]=M.useState(""),[h,b]=M.useState("webm"),[C,v]=M.useState(!1),[r,u]=M.useState(re.MONSTERCAT),[E,f]=M.useState(!1),[y,S]=M.useState([re.MONSTERCAT]),[k,N]=M.useState({}),[j,L]=M.useState({}),[d,I]=M.useState(!1),[T,F]=M.useState(()=>[{enabled:!0,text:"Sonic Pulse",color:"#67E8F9",strokeColor:"#000000",fontFamily:g.ROCKNROLL_ONE,graphicEffect:U.NEON,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.BOTTOM_RIGHT},{enabled:!1,text:"",color:"#FFFFFF",strokeColor:"#000000",fontFamily:g.POPPINS,graphicEffect:U.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.CENTER},{enabled:!1,text:"",color:"#FFFFFF",strokeColor:"#000000",fontFamily:g.POPPINS,graphicEffect:U.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.CENTER}]),[w,A]=M.useState(1),[P,V]=M.useState(0),[D,B]=M.useState(.25),[O,_]=M.useState(!1),[z,p]=M.useState(Oa.BLACK),[W,G]=M.useState(Ie.DEFAULT),[X,ne]=M.useState("#67E8F9"),[q,ie]=M.useState("#F472B6"),[Z,H]=M.useState("#FFFFFF"),[ae,ee]=M.useState(In.P1080),[te,$]=M.useState(null),[K,fe]=M.useState([]),[ge,se]=M.useState(0),[oe,Se]=M.useState(!1),[Fe,ke]=M.useState(15),[Ce,xe]=M.useState(!1),[je,Ze]=M.useState(de.TV_STATIC),[Te,tt]=M.useState(null),He=M.useCallback((R,Y)=>{F(J=>{const le=[...J];for(;le.length<3;)le.push({enabled:!1,text:"",color:"#FFFFFF",strokeColor:"#000000",fontFamily:g.POPPINS,graphicEffect:U.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.CENTER});return le[R]={...le[R],...Y},le.slice(0,3)})},[]),[Ke,at]=M.useState(!0),[ue,Ge]=M.useState(!0),[Be,lt]=M.useState(!0),[Re,Ft]=M.useState(1),[Qe,we]=M.useState(0),[Ee,Wt]=M.useState(0),[Lt,et]=M.useState(0),[We,ht]=M.useState([]),[gn,st]=M.useState(""),[yn,Gt]=M.useState(!1),[mt,Pt]=M.useState(!0),[Rt,Me]=M.useState(4),[be,Oe]=M.useState(g.POPPINS),[Le,ze]=M.useState("#FFFFFF"),[Tt,dt]=M.useState("#000000"),[Bt,Dt]=M.useState(U.NONE),[qn,va]=M.useState(an.TRANSPARENT),[Q,pe]=M.useState(Ut.CLASSIC),[Ye,ot]=M.useState(.25),[Ve,nt]=M.useState(.25),[Ae,ut]=M.useState(!0),[Ot,$t]=M.useState("#FFFFFF"),[zt,wn]=M.useState(3),[Qt,sl]=M.useState(10),[gt,Ca]=M.useState(Bn.BRACKET),[Sa,ba]=M.useState(ia.CHINESE),[La,vn]=M.useState(()=>on.HORIZONTAL),[Tn,jn]=M.useState(1),[da,Na]=M.useState(.5),[Hn,An]=M.useState(.5),[qt,_a]=M.useState(1.2),[Jn,ul]=M.useState(null),[fr,Ki]=M.useState("horizontal"),[De,Vt]=M.useState(!1),[jt,ea]=M.useState(!0),[pn,Cn]=M.useState(!0),[xa,hr]=M.useState(null),[mr,t5]=M.useState(""),[n5,a5]=M.useState(""),[l5,o5]=M.useState(g.POPPINS),[Fc,Pg]=M.useState(null),[Pc,Rg]=M.useState(""),[Rc,jg]=M.useState(""),[jc,Ag]=M.useState(g.POPPINS),[Ac,pg]=M.useState(0),[pc,Lg]=M.useState(60),[Lc,_g]=M.useState(.95),[_c,Bc]=M.useState(null),[Dc,Bg]=M.useState(""),[zc,Dg]=M.useState(""),[Vc,zg]=M.useState(g.POPPINS),[Yc,Vg]=M.useState("#FFFFFF"),[Uc,Yg]=M.useState(.5),[Hc,Ug]=M.useState(40),[Wc,Hg]=M.useState(.5),[Gc,Wg]=M.useState("#FFFFFF"),[$c,Gg]=M.useState("#FFFFFF"),[Xc,$g]=M.useState(""),[Kc,Xg]=M.useState(""),[Zc,Kg]=M.useState(g.POPPINS),[Qc,Zg]=M.useState(g.POPPINS),[qc,Qg]=M.useState(40),[Jc,qg]=M.useState(30),[ed,Jg]=M.useState("#000000"),[td,ey]=M.useState("#000000"),[nd,ty]=M.useState(U.NONE),[ad,ny]=M.useState(U.NONE),[ld,ay]=M.useState("#FFFFFF"),[od,ly]=M.useState("#FFFFFF"),[rd,oy]=M.useState(.5),[id,ry]=M.useState(1),[sd,iy]=M.useState(""),[ud,sy]=M.useState("#FFFFFF"),[cd,uy]=M.useState(g.POPPINS),[dd,cy]=M.useState(4),[fd,dy]=M.useState(.5),[fy,r5]=M.useState(.3),[Zi,hy]=M.useState(!1),[hd,my]=M.useState(2),[md,gy]=M.useState(g.POPPINS),[gd,yy]=M.useState(0),[yd,vy]=M.useState(0),[Cy,Sy]=M.useState({x:0,y:0}),[by,Ny]=M.useState({x:0,y:0}),[On,vd]=M.useState({x:0,y:0,scale:1}),[gr,Cd]=M.useState(1),[Sd,xy]=M.useState(!1),[bd,Ey]=M.useState(""),[wy,Qi]=M.useState({x:50,y:50}),[Nd,Ty]=M.useState(g.POPPINS),[xd,Oy]=M.useState("#FFFFFF"),[Ed,Iy]=M.useState("#000000"),[wd,My]=M.useState(U.NONE),[ky,Fy]=M.useState(50),[Py,Ry]=M.useState(50),[ta,yr]=M.useState(null),[jy,Td]=M.useState(""),[Ba,io]=M.useState(!1),[vr,qi]=M.useState(!1),[Cr,Sr]=M.useState(!1),Wn=M.useRef(null),{analyser:Ay,initializeAudio:br,isAudioInitialized:Od,getAudioStream:Id,resetAudioAnalysis:Ji,setAuxMediaElement:so}=Xb(),[uo,py]=M.useState(!1),[Md,Ly]=M.useState(""),[kd,_y]=M.useState(""),[Fd,By]=M.useState(""),[Pd,Dy]=M.useState(g.POPPINS),[Rd,zy]=M.useState(U.NEON),[jd,Vy]=M.useState("#FFFFFF"),[Ad,Yy]=M.useState("#000000"),[pd,Uy]=M.useState(6),[Ld,Hy]=M.useState(4),[_d,Wy]=M.useState(2.8),[Bd,Gy]=M.useState(.8),[Dd,$y]=M.useState(1.6),[zd,Xy]=M.useState(.8),[Vd,Ky]=M.useState(.35),[Yd,Zy]=M.useState(50),[Ud,Qy]=M.useState(50),[qy,es]=M.useState(0),[Jy,ts]=M.useState(0),[Hd,ev]=M.useState(!0),tv=R=>{Fy(R),Qi(Y=>({...Y,x:R}))},nv=R=>{Ry(R),Qi(Y=>({...Y,y:R}))},av=M.useCallback(R=>{if(!R)return;if(!R.type.startsWith("video/")){alert("video/*");return}yr(J=>(J&&URL.revokeObjectURL(J),URL.createObjectURL(R))),Td(R.name),io(!0),Sr(!0)},[]),lv=M.useCallback(()=>{yr(R=>(R&&URL.revokeObjectURL(R),null)),Td(""),io(!1),qi(!1),Sr(!1),so(null,!1)},[so]);M.useEffect(()=>{const R=Wn.current;if(R&&!(!ta||!Ba)){try{R.currentTime=0}catch{}R.play().catch(()=>{})}},[ta,Ba]);const[ov,rv]=M.useState(!1),[Wd,Gd]=M.useState(null),[$d,Xd]=M.useState(null),[Kd,Nr]=M.useState(""),[Zd,iv]=M.useState(""),[sv,uv]=M.useState(!1),[xr,Qd]=M.useState(null),[qd,cv]=M.useState(1),[Jd,e0]=M.useState({x:0,y:0}),[t0,dv]=M.useState(Et.SNOW),[n0,fv]=M.useState(.5),[a0,hv]=M.useState(.6),[l0,mv]=M.useState(1),[o0,gv]=M.useState(!1),[r0,yv]=M.useState(1),[i0,vv]=M.useState(1),[s0,Cv]=M.useState(1),[u0,Sv]=M.useState(1),[c0,bv]=M.useState(!0),[d0,Nv]=M.useState(24),[f0,xv]=M.useState(g.POPPINS),[h0,Ev]=M.useState(U.NONE),[m0,wv]=M.useState("#000000"),[Tv,ns]=M.useState(!1),[Er,g0]=M.useState(""),[y0,as]=M.useState(!1),[v0,Ov]=M.useState(Yt.FILLED),[C0,Iv]=M.useState("#ffffff"),[S0,Mv]=M.useState("rgba(0, 0, 0, 0.5)"),[co,b0]=M.useState([]),[wr,kv]=M.useState(0),[ls,Fv]=M.useState(!1),[cl,Pv]=M.useState(!1),[Da,fo]=M.useState([]),[dl,Il]=M.useState(0),[Ml,os]=M.useState(!1),ho=R=>{R&&(t(R.audioFile),a(R.audioUrl),st(R.subtitlesRawText||""),R.ctaVideoUrl?(yr(R.ctaVideoUrl),io(!0),qi(!0),Sr(!0)):(yr(null),io(!1)))},Rv=M.useCallback(()=>{fo(R=>[...R,{id:Math.random().toString(36).substr(2,9),audioFile:void 0,audioUrl:"",audioDuration:0,backgroundImage:null,backgroundVideo:null,subtitlesRawText:"",subtitles:[],songName:"",ctaVideoFile:null,ctaVideoUrl:null}]),Il(R=>Da.length===0?0:R)},[Da.length]),jv=M.useCallback(R=>{fo(Y=>Y.filter((le,ye)=>ye!==R)),Il(Y=>R<Y||R===Y&&Y>0?Y-1:Y)},[]),Av=M.useCallback(async(R,Y,J)=>{if(fo(le=>{const ye=[...le];if(!ye[R])return le;const me={...ye[R]};if(Y==="audio"){me.audioFile=J,me.audioUrl=URL.createObjectURL(J);const _e=J.name,Ue=_e.lastIndexOf(".");me.songName=Ue===-1?_e:_e.substring(0,Ue)}return Y==="cta"&&(me.ctaVideoFile=J,me.ctaVideoUrl=URL.createObjectURL(J)),ye[R]=me,R===dl&&Y==="audio"&&ho(me),ye}),Y==="subtitle"){J.name.toLowerCase().endsWith(".srt")&&Ca(Bn.SRT);try{const le=await J.text();fo(ye=>{const me=[...ye];return me[R]&&(me[R]={...me[R],subtitlesRawText:le},R===dl&&ho(me[R])),me})}catch(le){console.error("Failed to read subtitle file:",le)}}},[dl]);M.useCallback(async R=>{const Y=R.target.files;if(!Y||Y.length===0)return;const J=new Map;Array.from(Y).forEach(ye=>{const me=ye.name,_e=me.lastIndexOf("."),Ue=_e===-1?me:me.substring(0,_e),yt=_e===-1?"":me.substring(_e+1).toLowerCase();J.has(Ue)||J.set(Ue,{}),["mp3","wav","ogg","m4a","flac"].includes(yt)?J.get(Ue).audio=ye:["srt","vtt","txt","lrc"].includes(yt)&&(J.get(Ue).subtitle=ye)});const le=[];for(const[ye,me]of J.entries())if(me.audio){let _e="";if(me.subtitle)try{_e=await me.subtitle.text()}catch(Ue){console.error(`Failed to read subtitle file for ${ye}:`,Ue)}le.push({id:Math.random().toString(36).substr(2,9),audioFile:me.audio,audioUrl:URL.createObjectURL(me.audio),audioDuration:0,backgroundImage:null,backgroundVideo:null,subtitlesRawText:_e,subtitles:[],songName:ye})}le.length>0&&fo(ye=>{const me=[...ye,...le];if(ye.length===0){Il(0);const _e=le[0];_e&&setTimeout(()=>ho(_e),100)}return me})},[]),M.useEffect(()=>{cl&&(Ml||C)&&ct.current&&n&&(console.log("BatchMode: Auto-playing new track"),setTimeout(()=>{var R;(R=ct.current)==null||R.play().then(()=>{v(!0),ta&&Wn.current&&(console.log("BatchMode: Auto-playing CTA video"),Wn.current.currentTime=0,Wn.current.play().catch(Y=>console.error("CTA Auto-play failed:",Y)))}).catch(Y=>{console.error("Auto-play failed:",Y)})},500))},[n,ta,Ml,cl]);const ct=M.useRef(null),Ea=M.useRef(null),[rs,pv]=M.useState(!1),[Lv,Tr]=M.useState(!1),[Or,Ir]=M.useState(null),_v={[Oa.BLACK]:"rgba(0, 0, 0, 1)",[Oa.GREEN]:"rgba(0, 255, 0, 1)",[Oa.WHITE]:"rgba(255, 255, 255, 1)",[Oa.TRANSPARENT]:"transparent"};M.useEffect(()=>{const R=localStorage.getItem("user_gemini_api_key");R&&g0(R)},[]),M.useEffect(()=>{(()=>{const Y="pictureInPictureEnabled"in document||document.pictureInPictureEnabled||"requestPictureInPicture"in HTMLVideoElement.prototype;console.log("Picture-in-Picture :",{pictureInPictureEnabledInDocument:"pictureInPictureEnabled"in document,documentPictureInPictureEnabled:document.pictureInPictureEnabled,requestPictureInPictureInPrototype:"requestPictureInPicture"in HTMLVideoElement.prototype,hasPipSupport:Y}),pv(Y)})()},[]),M.useCallback(()=>{if(!Ea.current)return null;const R=Ea.current,Y=R.getContext("2d");if(!Y)return null;if(R.width===0||R.height===0)return console.warn("Canvas  0 Picture-in-Picture"),alert("Canvas "),null;console.log("Canvas :",R.width,"x",R.height);const le=Y.getImageData(0,0,R.width,R.height).data;let ye=!1,me=0,_e=0;for(let Nt=0;Nt<le.length;Nt+=4){_e++;const vt=le[Nt],Xt=le[Nt+1],rt=le[Nt+2];le[Nt+3]>0&&(vt>5||Xt>5||rt>5)&&(me++,ye||(ye=!0))}const Ue=_e>0?me/_e:0;console.log(`Canvas : ${me}/${_e}  (${(Ue*100).toFixed(2)}%)`),console.log("Canvas :",ye?"":""),ye||(console.warn("Canvas  Picture-in-Picture"),console.log("Canvas :"),console.log("- :",ue),console.log("- :",C),console.log("- URL:",n?"":""),console.log("- :",r),console.log("- Canvas :",R.style.backgroundColor),console.log("- Canvas :",getComputedStyle(R).getPropertyValue("background-color")));let yt;try{yt=R.captureStream(30)}catch(Nt){console.warn("captureStream :",Nt);try{yt=R.captureStream()}catch(vt){return console.error(" captureStream :",vt),null}}const bt=document.createElement("video");return bt.srcObject=yt,bt.autoplay=!0,bt.muted=!0,bt.playsInline=!0,bt.style.width="100%",bt.style.height="100%",console.log("Video :",bt),console.log("Stream tracks:",yt.getTracks().length),yt.getTracks().forEach((Nt,vt)=>{console.log(`Track ${vt}:`,Nt.kind,Nt.label,Nt.enabled)}),new Promise((Nt,vt)=>{bt.onloadedmetadata=()=>{console.log("Video metadata "),Nt(bt)},bt.onerror=Xt=>{console.error("Video :",Xt),vt(Xt)},setTimeout(()=>{vt(new Error("Video metadata "))},3e3)})},[]);const Bv=M.useCallback(()=>{if(!Ea.current)return null;const R=Ea.current,Y=R.getContext("2d");if(!Y)return null;if(R.width===0||R.height===0)return console.warn("Canvas  0 Picture-in-Picture"),null;console.log("Canvas :",R.width,"x",R.height);const le=Y.getImageData(0,0,R.width,R.height).data;let ye=0,me=0;for(let yt=0;yt<le.length;yt+=40){me++;const bt=le[yt],Nt=le[yt+1],vt=le[yt+2];le[yt+3]>1&&(bt>1||Nt>1||vt>1)&&ye++}console.log("Canvas :"),console.log("- :",ue),console.log("- :",C),console.log("- :",r),console.log("- Canvas :",R.style.backgroundColor),console.log("- Canvas :",getComputedStyle(R).getPropertyValue("background-color")),console.log("- Canvas :",R.style.width,"x",R.style.height),console.log("- Canvas :",R.width,"x",R.height);const _e=me>0?ye/me:0;console.log(`Canvas : ${ye}/${me}  (${(_e*100).toFixed(2)}%)`);const Ue=_e>.01;return console.log("Canvas :",Ue?"":""),Ue?new Promise((yt,bt)=>{const Nt=()=>{try{const vt=R.getContext("2d");if(vt){const kl=vt.getImageData(0,0,R.width,R.height).data;let yo=!1;for(let ds=3;ds<kl.length;ds+=4)if(kl[ds]>0){yo=!0;break}yo||(console.log("Canvas "),vt.fillStyle="#ff0000",vt.fillRect(10,10,100,100),vt.fillStyle="#00ff00",vt.fillRect(120,10,100,100),vt.fillStyle="#0000ff",vt.fillRect(230,10,100,100))}let Xt;try{const cn=R.getContext("2d");cn&&(cn.save(),cn.restore()),Xt=R.captureStream(30),console.log("Stream :",{videoTracks:Xt.getVideoTracks().length,audioTracks:Xt.getAudioTracks().length,canvasWidth:R.width,canvasHeight:R.height})}catch(cn){console.warn("captureStream :",cn);try{Xt=R.captureStream()}catch(kl){console.error(" captureStream :",kl),bt(new Error(" Canvas "));return}}const rt=document.createElement("video");rt.srcObject=Xt,rt.autoplay=!0,rt.muted=!0,rt.playsInline=!0,rt.style.width="100%",rt.style.height="100%",console.log("Video :",rt),console.log("Stream tracks:",Xt.getTracks().length),rt.addEventListener("loadeddata",()=>{console.log("Video loadeddata ")}),rt.addEventListener("canplay",()=>{console.log("Video canplay "),rt.play().then(()=>{console.log("Video play() ")}).catch(cn=>{console.error("Video play() :",cn)})}),rt.addEventListener("playing",()=>{console.log("Video playing ")}),setTimeout(()=>{console.log("Video :",{readyState:rt.readyState,paused:rt.paused,currentTime:rt.currentTime,duration:rt.duration,videoWidth:rt.videoWidth,videoHeight:rt.videoHeight})},1e3),rt.onloadedmetadata=()=>{console.log("Video metadata "),rt.play().then(()=>{console.log("Video metadata  play() ")}).catch(cn=>{console.warn("Video metadata  play() :",cn)}),yt(rt)},rt.onerror=cn=>{console.error("Video :",cn),bt(cn)},setTimeout(()=>{bt(new Error("Video metadata "))},3e3)}catch(vt){bt(vt)}};requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(Nt)})})}):(console.warn("Canvas "),console.log("Canvas :"),console.log("- :",ue),console.log("- :",C),console.log("- URL:",n?"":""),console.log("- :",r),console.log("- Canvas :",R.style.backgroundColor),console.log("- Canvas :",getComputedStyle(R).getPropertyValue("background-color")),alert(` Canvas  (${(_e*100).toFixed(2)}%)


1. 
2. 
3. 
4. 

 1% `),null)},[ue,C,n,r]),Dv=M.useCallback(()=>{if(!rs){alert(` 


 ChromeEdge  Safari `);return}if(!n){alert(` 


`);return}if(!C){alert(` 


`);return}if(!ue){alert(` 


`);return}console.log("...");try{(async()=>{try{const R=await Bv();if(!R)return;Ir(R),console.log("..."),await R.requestPictureInPicture(),Tr(!0),console.log(""),R.addEventListener("leavepictureinpicture",()=>{Tr(!1),Ir(null)})}catch(R){console.error(":",R),R.message.includes("user gesture")?alert(` 



`):R.message.includes("Video")?alert(` 

${R.message}


1. 
2. 
3.  Canvas `):alert(` 

${R.message}


1. 
2. 
3. 

`)}})()}catch(R){console.error(":",R),alert(` 

${R.message}

`)}},[rs,n,C,ue]),zv=M.useCallback(async()=>{if(Or&&document.pictureInPictureElement)try{await document.exitPictureInPicture(),Tr(!1),Ir(null),console.log("")}catch(R){console.error(":",R);try{Or&&(Or.remove(),Ir(null),Tr(!1))}catch(Y){console.error(":",Y)}}},[Or]);M.useEffect(()=>{const R=gn.split(`
`),Y=[];if(gt===Bn.BRACKET){const J=/\[(\d{2}):(\d{2})\.(\d{2})\]/;R.forEach(le=>{const ye=le.match(J);if(ye){const me=parseInt(ye[1],10),_e=parseInt(ye[2],10),Ue=parseInt(ye[3],10),yt=me*60+_e+Ue/100,bt=le.replace(J,"").trim();bt&&Y.push({time:yt,text:bt})}}),Y.forEach((le,ye)=>{ye<Y.length-1?le.endTime=Y[ye+1].time:le.endTime=le.time+10})}else if(gt===Bn.SRT){const J=/^(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})\s*-->\s*(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})$/;for(let le=0;le<R.length;le++){const ye=R[le].trim();if(!ye)continue;const me=ye.match(J);if(me){const _e=parseInt(me[1],10),Ue=parseInt(me[2],10),yt=parseInt(me[3],10),bt=parseInt(me[4],10),Nt=_e*3600+Ue*60+yt+bt/1e3,vt=parseInt(me[5],10),Xt=parseInt(me[6],10),rt=parseInt(me[7],10),cn=parseInt(me[8],10),kl=vt*3600+Xt*60+rt+cn/1e3;if(le+1<R.length){const yo=R[le+1].trim();yo&&(Y.push({time:Nt,text:yo,endTime:kl}),le++)}}}}ht(Y.sort((J,le)=>J.time-le.time))},[gn,gt]),M.useEffect(()=>{if(!ls||!ct.current||co.length===0)return;const R=ct.current;let Y=-1;const J=()=>{const le=R.currentTime;if(We.length>0){let ye=-1;for(let me=0;me<We.length;me++){const _e=We[me];if(le>=_e.time&&le<(_e.endTime||_e.time+5)){ye=me;break}}ye!==-1&&ye!==Y&&(Y=ye,Nr(We[ye].text))}else{const ye=R.duration;if(le>=ye*.95){const me=(wr+1)%co.length;kv(me),Nr(co[me])}}};return R.addEventListener("timeupdate",J),()=>R.removeEventListener("timeupdate",J)},[ls,We,wr,co]),M.useEffect(()=>{if(We.length>0){const R=We.map(Y=>Y.text).filter(Y=>Y.length>0).slice(0,10);R.length>0&&(b0(R),R.length>wr&&Nr(R[wr]))}},[We]),M.useEffect(()=>{if(console.log(" useEffect :",{isSlideshowEnabled:oe,backgroundImagesLength:K.length,isPlaying:C}),!oe||K.length<=1||!C){console.log(":",{isSlideshowEnabled:oe,backgroundImagesLength:K.length,isPlaying:C});return}console.log(" interval");const R=setInterval(()=>{if(console.log("Interval :",{backgroundImagesLength:K.length,isPlaying:C}),K.length>1&&C){console.log(""),window.transitionStartTime=performance.now(),xe(!0);const J=(ye=>{switch(ye){case de.TV_STATIC:return 800;case de.FADE:return 800;case de.SLIDE_LEFT:case de.SLIDE_RIGHT:case de.SLIDE_UP:case de.SLIDE_DOWN:return 600;case de.ZOOM_IN:case de.ZOOM_OUT:return 700;case de.SPIRAL:return 1200;case de.WAVE:return 900;case de.DIAMOND:case de.CIRCLE:return 650;case de.BLINDS:return 800;case de.CHECKERBOARD:return 750;case de.RANDOM_PIXELS:return 1e3;default:return 1e3}})(je),le=J*.5;setTimeout(()=>{console.log(""),se(ye=>(ye+1)%K.length)},le),setTimeout(()=>{console.log(""),xe(!1)},J)}},Fe*1e3);return()=>{console.log(" interval"),clearInterval(R)}},[oe,K.length,Fe,C]),M.useEffect(()=>{K.length>0&&$(K[ge])},[K,ge]);const Vv=async()=>{if(!e){alert("");return}let R=Er||void 0;if(console.log("API Key :",{hasUserApiKey:!!Er,hasBuiltInApiKey:!1,apiKeyLength:R?R.length:0,apiKeyPrefix:R?R.substring(0,10)+"...":"",isUsingUserApiKey:!!Er}),!R){console.error("No API Key available"),ns(!0),as(!1);return}Gt(!0),st(" AI ...");try{const Y=await new Promise((Nt,vt)=>{const Xt=new FileReader;Xt.onload=()=>{const rt=Xt.result;Nt(rt.split(",")[1])},Xt.onerror=rt=>vt(rt),Xt.readAsDataURL(e)}),J=new IS(R),le={inlineData:{mimeType:e.type,data:Y}},ye=Nt=>{switch(Nt){case ia.CHINESE:return`

****
1. ****
2. ****
3. ****

****
- 
-  LRC 
-  \`[mm:ss.xx]\`
- 
- 
- 

**** ${o.toFixed(2)} 

****  LRC `;case ia.ENGLISH:return`You are a professional audio transcription and lyrics synchronization expert, specializing in English content.

**Important Requirements:**
1. **Language**: All transcription content must be in English
2. **Format**: Use standard English punctuation and grammar
3. **Style**: Maintain natural English flow and rhythm

**Task Description:**
- Transcribe the provided audio file content in English
- Format the content as standard LRC file format
- Each line must have a timestamp \`[mm:ss.xx]\`
- Timestamps must be accurate and logically distributed throughout the audio length
- Transcription should be clear with proper punctuation
- The last line's timestamp must not exceed the total audio length

**Audio Duration:** ${o.toFixed(2)} seconds

**Response Format:** Only respond with LRC format text, do not add any introductory text, summaries, or explanations.`;case ia.KOREAN:return`         .

** :**
1. ****:      
2. ****:     
3. ****:     

** :**
-      
-   LRC   
-    \`[mm:ss.xx]\`  
-          
-       
-         

** :** ${o.toFixed(2)}

** :** LRC   ,  ,     .`;case ia.JAPANESE:return`

****
1. ****: 
2. ****: 
3. ****: 

****
- 
- LRC
-  \`[mm:ss.xx]\` 
- 
- 
- 

**:** ${o.toFixed(2)}

**:** LRC`;default:return ye(ia.CHINESE)}},me={text:ye(Sa)},bt=(await(await J.getGenerativeModel({model:"gemini-2.5-flash"}).generateContent([me,le])).response).text();st(bt.trim())}catch(Y){console.error("Error generating subtitles with AI:",Y);const J=(Y==null?void 0:Y.message)||(Y==null?void 0:Y.toString())||"";(J.includes("quota")||J.includes("limit")||J.includes("exceeded")||(Y==null?void 0:Y.status)===429||(Y==null?void 0:Y.code)===429)&&!Er?(ns(!0),as(!0),st(" AI API  API Key ")):(alert("AI  API Key"),st(""))}finally{Gt(!1)}},Yv=R=>{g0(R),as(!1),console.log("User API Key saved successfully")},Uv=()=>{console.log("User skipped API Key input"),st(" API Key AI ")},Hv=()=>{ns(!1)},Wv=R=>{ee(R)},N0=R=>{u(R),S(Y=>E?Y.includes(R)?Y:[...Y,R]:[R])},Gv=R=>{R&&!E&&!window.confirm(` 

`)||(f(R),S(R?Y=>Y.length>0?Y:[r]:[r]))},$v=R=>{if(!E){N0(R);return}S(Y=>{if(Y.includes(R)){if(Y.length===1)return Y;const le=Y.filter(ye=>ye!==R);return r===R&&u(le[0]),le}return u(R),[...Y,R]})},Xv=R=>{const Y=(R||[]).filter(Boolean);Y.length!==0&&(S(Y),Y.includes(r)||u(Y[Y.length-1]))},Kv=(R,Y)=>{N(J=>({...J,[R]:{x:Y.x,y:Y.y}})),L(J=>{const le=J[R]||{x:0,y:0,scale:1,rotation:0};return{...J,[R]:{...le,x:Y.x,y:Y.y}}})},Zv=(R,Y)=>{const J=r;N(le=>{const ye=le[J]||{x:0,y:0};return{...le,[J]:{x:ye.x+R,y:ye.y+Y}}}),L(le=>{const ye=le[J]||{x:0,y:0,scale:1,rotation:0};return{...le,[J]:{...ye,x:(ye.x||0)+R,y:(ye.y||0)+Y}}})},Qv=()=>{const R=r;N(Y=>({...Y,[R]:{x:0,y:0}})),L(Y=>{const J=Y[R]||{x:0,y:0,scale:1,rotation:0};return{...Y,[R]:{...J,x:0,y:0}}})},qv=R=>{R&&(N(R),L(Y=>{const J={...Y};for(const[le,ye]of Object.entries(R)){const me=le,_e=J[me]||{x:0,y:0,scale:1,rotation:0},Ue=ye;J[me]={..._e,x:(Ue==null?void 0:Ue.x)??_e.x,y:(Ue==null?void 0:Ue.y)??_e.y}}return J}))},x0=M.useCallback(R=>{L(Y=>{if(Y[R])return Y;const J=(k==null?void 0:k[R])||{x:0,y:0},le={x:(J.x||0)+(Qe||0)+((On==null?void 0:On.x)||0),y:(J.y||0)+(Ee||0)+((On==null?void 0:On.y)||0),scale:(Re||1)*(gr||1),rotation:typeof Lt=="number"?Lt:0};return{...Y,[R]:le}})},[Qe,Ee,Lt,Re,k,gr,On]);M.useEffect(()=>{E&&(y||[]).forEach(R=>x0(R))},[E,y,x0]);const Jv=(R,Y)=>{L(J=>{const le=J[R]||{x:0,y:0,scale:1,rotation:0};return{...J,[R]:{...le,...Y}}})},e1=()=>{const R=r;L(Y=>({...Y,[R]:{x:0,y:0,scale:1,rotation:0}})),N(Y=>({...Y,[R]:{x:0,y:0}}))},t1=R=>{G(R)},is=R=>{if(!R||!R.startsWith("#"))return 180;let Y=R.slice(1);if(Y.length===3&&(Y=Y.split("").map(yt=>yt+yt).join("")),Y.length!==6)return 180;const J=parseInt(Y.slice(0,2),16)/255,le=parseInt(Y.slice(2,4),16)/255,ye=parseInt(Y.slice(4,6),16)/255,me=Math.max(J,le,ye),_e=Math.min(J,le,ye);let Ue=0;return me!==_e&&(me===J?Ue=(le-ye)/(me-_e)%6:me===le?Ue=(ye-J)/(me-_e)+2:Ue=(J-le)/(me-_e)+4),Ue=Ue*60,Ue<0&&(Ue+=360),Ue},n1=()=>{if(W===Ie.CUSTOM){const R=is(X),Y=is(q),J=is(Z),le=[R,Y,J],ye=Math.min(...le),me=Math.max(...le);return{name:Ie.CUSTOM,primary:X,secondary:q,accent:Z,backgroundGlow:"rgba(10, 80, 150, 0.2)",hueRange:[ye,me]}}return Rb[W]},a1=R=>{te&&URL.revokeObjectURL(te);const Y=URL.createObjectURL(R);$(Y)},l1=R=>{K.forEach(J=>URL.revokeObjectURL(J));const Y=[];Array.from(R).forEach(J=>{J.type.startsWith("image/")&&Y.push(URL.createObjectURL(J))}),fe(Y),se(0),Y.length<=1&&Se(!1)},o1=()=>{te&&URL.revokeObjectURL(te),$(null)},r1=()=>{console.log(":",K.length),K.forEach(R=>URL.revokeObjectURL(R)),fe([]),se(0),$(null),Se(!1),console.log("")},i1=R=>{Te&&URL.revokeObjectURL(Te);const Y=URL.createObjectURL(R);tt(Y)},s1=()=>{Te&&URL.revokeObjectURL(Te),tt(null)},u1=R=>{var J;const Y=(J=R.target.files)==null?void 0:J[0];if(Y){const le=new FileReader;le.onload=ye=>{var me;Gd((me=ye.target)==null?void 0:me.result)},le.readAsDataURL(Y)}},c1=R=>{var J;const Y=(J=R.target.files)==null?void 0:J[0];if(Y){const le=new FileReader;le.onload=ye=>{var me;Xd((me=ye.target)==null?void 0:me.result)},le.readAsDataURL(Y)}},d1=()=>{Gd(null)},f1=()=>{Xd(null)},h1=R=>{var J;const Y=(J=R.target.files)==null?void 0:J[0];if(Y){const le=URL.createObjectURL(Y);Qd(le)}},m1=()=>{xr&&URL.revokeObjectURL(xr),Qd(null)},g1=R=>{var le;const Y=(le=R.target.files)==null?void 0:le[0];if(!Y)return;const J=URL.createObjectURL(Y);Jn&&URL.revokeObjectURL(Jn),ul(J)},y1=()=>{Jn&&URL.revokeObjectURL(Jn),ul(null)},v1=M.useCallback((R,Y)=>{x(R),b(Y),I(!1),_(!1)},[]),{isRecording:mo,startRecording:E0,stopRecording:ss}=Kb(v1),C1=R=>{const Y=R.type.startsWith("video/")||R.name.toLowerCase().endsWith(".mp4");console.log(`${Y?"":""}:`,{name:R.name,type:R.type,size:R.size}),C&&ct.current&&(ct.current.pause(),v(!1)),Ji(),Te&&(URL.revokeObjectURL(Te),tt(null)),t(R);const J=URL.createObjectURL(R);a(J),Y?(console.log(" MP4 "),tt(J),lt(!0)):tt(null)},S1=M.useCallback(()=>{C&&(ct.current&&ct.current.pause(),v(!1));const R=n,Y=Te;Y&&Y===R?(R&&URL.revokeObjectURL(R),tt(null)):(R&&URL.revokeObjectURL(R),Y&&(URL.revokeObjectURL(Y),tt(null))),m&&URL.revokeObjectURL(m),t(null),a(""),x(""),_(!1),st(""),i(0),c(0),Ji(),ct.current&&br(ct.current)},[n,m,C,Ji,br]),b1=M.useCallback(()=>{if(!ct.current)return;Od||br(ct.current);const R=!C;console.log("/:",{currentIsPlaying:C,newIsPlaying:R}),R?ct.current.play().then(()=>{var Y;console.log(""),v(!0),ta&&Wn.current&&Wn.current.play().catch(J=>console.error("CTA play failed:",J)),uo&&(((Y=ct.current)==null?void 0:Y.currentTime)??0)<.1&&(es(0),ts(J=>J+1))}).catch(Y=>{console.error("Audio play failed:",Y),v(!1)}):(ct.current.pause(),Wn.current&&Wn.current.pause(),console.log(""),v(!1))},[C,Od,br,uo]);M.useEffect(()=>{const R=Wn.current,Y=!!(ta&&Ba&&vr);if(!R){so(null,!1);return}R.muted=!Y,so(R,Y)},[ta,Ba,vr,so]);const N1=()=>{ct.current&&i(ct.current.duration)},us=M.useCallback((R,Y)=>{if(!ta||!Ba||!Cr)return;const J=Wn.current;if(J&&!(R>.06)){try{J.pause(),J.currentTime=0}catch{}J.play().catch(()=>{})}},[ta,Ba,Cr]),w0=M.useRef(0),x1=()=>{if(ct.current){const R=ct.current.currentTime;c(R);const Y=w0.current;w0.current=R,R<=.06&&Y>.3&&us(R,"rewind")}},E1=R=>{ct.current&&(ct.current.currentTime=R,c(R),us(R,"seek"))},w1=()=>{if(mo)ss(),I(!0),os(!1);else{if(Q!==Ut.NONE){if(mt&&We.length===0){alert(`

AI  [00:00.00] `);return}if(Zi&&We.length===0){alert(`

AI  [00:00.00] `);return}}const R=Id();if(Ea.current&&R&&ct.current){_(!0);const Y=z===Oa.TRANSPARENT;if(cl&&(os(!0),Da.length>0)){const J=Da[0];if(J.audioUrl!==n){console.log("Batch Record: Switching to first song before recording starts"),Il(0),ho(J);const le=Id();Ea.current&&le&&E0(Ea.current,le,Y);return}Il(0)}E0(Ea.current,R,Y),ct.current.currentTime=0,us(0,"record"),uo&&(es(0),ts(J=>J+1)),ct.current.play().then(()=>v(!0))}else alert("")}},T1=M.useCallback(()=>{var Y;const R=((Y=ct.current)==null?void 0:Y.currentTime)??0;es(R),ts(J=>J+1)},[]),go=Pb[ae],O1={width:go?`${go.width}px`:"100%",height:go?`${go.height}px`:"100%",flexShrink:0},I1=go?{}:{width:"100%",aspectRatio:"16/9"},M1=z===Oa.TRANSPARENT,k1=`url("data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><rect width="10" height="10" x="0" y="0" fill="#888" /><rect width="10" height="10" x="10" y="10" fill="#888" /><rect width="10" height="10" x="10" y="0" fill="#444" /><rect width="10" height="10" x="0" y="10" fill="#444" /></svg>')}")`,Mr=M.useRef(!1),kr=M.useRef(null),cs=M.useRef(null),F1=M.useRef(null),P1=R=>{var Y,J;R.button===0&&((J=(Y=R.currentTarget).setPointerCapture)==null||J.call(Y,R.pointerId),Mr.current=!0,kr.current={x:R.clientX,y:R.clientY},cs.current={pointerX:R.clientX,pointerY:R.clientY,startX:(On==null?void 0:On.x)||0,startY:(On==null?void 0:On.y)||0},R.cancelable&&R.preventDefault())},R1=R=>{if(!Mr.current||!kr.current)return;kr.current={x:R.clientX,y:R.clientY};const Y=cs.current,J=.5;if(Y){const le=(R.clientX-Y.pointerX)*J,ye=(R.clientY-Y.pointerY)*J,me=Y.startX+le,_e=Y.startY+ye;vd(Ue=>({x:me,y:_e,scale:(Ue==null?void 0:Ue.scale)??1}))}R.cancelable&&R.preventDefault()},T0=R=>{var Y,J;Mr.current=!1,kr.current=null,cs.current=null,(J=(Y=R.currentTarget).releasePointerCapture)==null||J.call(Y,R.pointerId),R.cancelable&&R.preventDefault()},O0=M.useRef({batchQueue:Da,currentBatchIndex:dl,isBatchMode:cl,isRecording:mo,isBatchRecording:Ml,isPlaying:C});return M.useEffect(()=>{O0.current={batchQueue:Da,currentBatchIndex:dl,isBatchMode:cl,isRecording:mo,isBatchRecording:Ml,isPlaying:C}},[Da,dl,cl,mo,Ml,C]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx($b,{}),n&&l.jsx("audio",{ref:ct,src:n,onPlay:()=>{console.log(" onPlay "),v(!0)},onPause:()=>{console.log(" onPause "),v(!1)},onEnded:()=>{console.log(" onEnded ");const{isBatchMode:R,currentBatchIndex:Y,batchQueue:J,isBatchRecording:le,isRecording:ye}=O0.current;if(R){const me=Y+1;if(console.log(`BatchMode Check: Index ${Y} -> ${me}, Queue Length: ${J.length}`),me<J.length){console.log(`BatchMode: Playing next song ${me+1}/${J.length}`),v(!0),Il(me),ho(J[me]);return}else{console.log("BatchMode: All songs finished"),os(!1),v(!1),ye&&ss();return}}v(!1),ye&&ss()},onLoadedMetadata:N1,onTimeUpdate:x1,crossOrigin:"anonymous",className:"hidden"}),l.jsx("video",{ref:Wn,src:ta||void 0,muted:!vr,playsInline:!0,preload:"auto",className:"hidden"}),l.jsx("main",{className:"flex flex-col p-4 overflow-y-auto pt-24",children:l.jsxs("div",{className:"w-full max-w-7xl mx-auto flex flex-col items-center gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),l.jsx("p",{className:"text-gray-300",children:""})]}),l.jsx("div",{style:I1,className:"flex items-center justify-center bg-black rounded-lg border border-gray-700 overflow-hidden",children:l.jsx("div",{ref:F1,onPointerDown:P1,onPointerMove:R1,onPointerUp:T0,onPointerCancel:T0,style:{...O1,backgroundImage:M1?k1:"none",backgroundSize:"20px 20px",touchAction:"none",cursor:Mr.current?"grabbing":"grab"},className:"relative shadow-2xl shadow-cyan-500/10",children:l.jsx(kg,{ref:Ea,analyser:Ay,audioRef:ct,visualizationType:r,multiEffectEnabled:E,selectedVisualizationTypes:y,multiEffectOffsets:k,multiEffectTransforms:j,isPlaying:C,customTextOverlays:T,customText:((I0=T==null?void 0:T[0])==null?void 0:I0.enabled)??!0?((M0=T==null?void 0:T[0])==null?void 0:M0.text)??"":"",textColor:((k0=T==null?void 0:T[0])==null?void 0:k0.color)??"#FFFFFF",textStrokeColor:((F0=T==null?void 0:T[0])==null?void 0:F0.strokeColor)??"#000000",fontFamily:((P0=T==null?void 0:T[0])==null?void 0:P0.fontFamily)??g.POPPINS,graphicEffect:((R0=T==null?void 0:T[0])==null?void 0:R0.graphicEffect)??U.NONE,textSize:((j0=T==null?void 0:T[0])==null?void 0:j0.textSize)??4,textPositionX:((A0=T==null?void 0:T[0])==null?void 0:A0.textPositionX)??0,textPositionY:((p0=T==null?void 0:T[0])==null?void 0:p0.textPositionY)??0,sensitivity:w,smoothing:P,equalization:D,backgroundColor:_v[z],colors:n1(),backgroundImage:Be?te:null,backgroundVideo:Be?Te:null,watermarkPosition:((L0=T==null?void 0:T[0])==null?void 0:L0.anchor)??bn.BOTTOM_RIGHT,waveformStroke:Ke,isTransitioning:Ce,transitionType:je,backgroundImages:Be?K:[],currentImageIndex:ge,subtitles:We,showSubtitles:mt,subtitleFontSize:Rt,subtitleFontFamily:be,subtitleColor:Le,subtitleStrokeColor:Tt,subtitleEffect:Bt,subtitleBgStyle:qn,subtitleFadeInSeconds:Ye,subtitleFadeOutSeconds:Ve,subtitleLineColor:Ot,subtitleLineThickness:zt,subtitleLineGap:Qt,effectScale:Re,effectOffsetX:Qe,effectOffsetY:Ee,effectRotation:Lt,showLyricsDisplay:Zi,currentTime:s,lyricsFontSize:hd,lyricsFontFamily:md,lyricsPositionX:gd,lyricsPositionY:yd,subtitleDisplayMode:Q,subtitleOrientation:La,verticalSubtitlePosition:Tn,horizontalSubtitlePosition:da,verticalSubtitleVerticalPosition:Hn,horizontalSubtitleVerticalPosition:qt,subtitleFadeLinesEnabled:Ae,disableVisualizer:!ue,subtitleDragOffset:Cy,lyricsDragOffset:by,onSubtitleDragUpdate:Sy,onLyricsDragUpdate:Ny,visualizationTransform:On,onVisualizationTransformUpdate:vd,visualizationScale:gr,onVisualizationScaleChange:Cd,showCtaAnimation:Sd,ctaChannelName:bd,ctaFontFamily:Nd,ctaTextColor:xd,ctaStrokeColor:Ed,ctaTextEffect:wd,ctaPosition:wy,onCtaPositionUpdate:Qi,ctaVideoElement:Wn.current,ctaVideoEnabled:Ba,ctaVideoReplaceCtaAnimation:Cr,showIntroOverlay:uo,introTitle:Md,introArtist:kd,introDescription:Fd,introFontFamily:Pd,introEffect:Rd,introColor:jd,introStrokeColor:Ad,introTitleSize:pd,introArtistSize:Ld,introDescriptionSize:_d,introFadeIn:Bd,introHold:Dd,introFadeOut:zd,introBgOpacity:Vd,introPositionX:Yd,introPositionY:Ud,introStartTime:qy,introTriggerId:Jy,introLightBarsEnabled:Hd,zCustomCenterImage:xr,zCustomScale:qd,zCustomPosition:Jd,onZCustomPositionUpdate:e0,vinylImage:Jn,vinylLayoutMode:fr,vinylCenterFixed:De,pianoOpacity:r0,fusionCenterOpacity:i0,stellarCoreInnerOpacity:s0,stellarCoreTentaclesOpacity:u0,geometricFrameImage:Wd,geometricSemicircleImage:$d,geometricSongName:Kd,geometricArtistName:Zd,filterEffectType:t0,filterEffectIntensity:n0,filterEffectOpacity:a0,filterEffectSpeed:l0,filterEffectEnabled:o0,controlCardEnabled:c0,controlCardFontSize:d0,controlCardStyle:v0,controlCardColor:C0,controlCardBackgroundColor:S0,controlCardFontFamily:f0,controlCardTextEffect:h0,controlCardStrokeColor:m0,vinylRecordEnabled:jt,vinylNeedleEnabled:pn,photoShakeImage:Fc,photoShakeSongTitle:Pc,photoShakeSubtitle:Rc,photoShakeFontFamily:jc,photoShakeOverlayOpacity:Ac,photoShakeFontSize:pc,photoShakeDecaySpeed:Lc,bassEnhancementBlurIntensity:rd,bassEnhancementCurveIntensity:id,bassEnhancementText:sd,bassEnhancementTextColor:ud,bassEnhancementTextFont:cd,bassEnhancementTextSize:dd,bassEnhancementTextBgOpacity:fd,bassEnhancementCenterOpacity:fy,circularWaveImage:_c,blurredEdgeSinger:Dc,blurredEdgeSongTitle:zc,blurredEdgeFontFamily:Vc,blurredEdgeTextColor:Yc,blurredEdgeBgOpacity:Uc,blurredEdgeFontSize:Hc,keYeCustomV2BoxOpacity:Wc,keYeCustomV2BoxColor:Gc,keYeCustomV2VisualizerColor:$c,keYeCustomV2Text1:Xc,keYeCustomV2Text2:Kc,keYeCustomV2Text1Font:Zc,keYeCustomV2Text2Font:Qc,keYeCustomV2Text1Size:qc,keYeCustomV2Text2Size:Jc,keYeCustomV2Text1Color:ed,keYeCustomV2Text2Color:td,keYeCustomV2Text1Effect:nd,keYeCustomV2Text2Effect:ad,keYeCustomV2Text1StrokeColor:ld,keYeCustomV2Text2StrokeColor:od},ue?"vis-on":"vis-off")})}),l.jsx("div",{className:"w-full max-w-7xl mx-auto mb-6",children:l.jsx(Wb,{type:"banner"})}),O&&l.jsxs("div",{className:"w-full max-w-7xl p-3 bg-yellow-500/10 border border-yellow-400 text-yellow-200 rounded-lg text-center shadow-lg flex items-center justify-center gap-3",role:"alert",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-yellow-400 flex-shrink-0",children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.74c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),l.jsxs("p",{children:[l.jsx("strong",{children:"..."})," "]})]}),l.jsx(Yb,{isPlaying:C,onPlayPause:b1,isRecording:mo,onRecordToggle:w1,isBatchMode:cl,onBatchModeChange:Pv,onAddBatchRow:Rv,onRemoveBatchRow:jv,onUpdateBatchRow:Av,batchQueue:Da,currentBatchIndex:dl,isBatchRecording:Ml,photoShakeImage:Fc,onPhotoShakeImageUpload:R=>{var J;const Y=(J=R.target.files)==null?void 0:J[0];if(Y){const le=new FileReader;le.onload=ye=>{var me;Pg((me=ye.target)==null?void 0:me.result)},le.readAsDataURL(Y)}},photoShakeSongTitle:Pc,onPhotoShakeSongTitleChange:Rg,photoShakeSubtitle:Rc,onPhotoShakeSubtitleChange:jg,photoShakeFontFamily:jc,onPhotoShakeFontFamilyChange:Ag,photoShakeOverlayOpacity:Ac,onPhotoShakeOverlayOpacityChange:pg,photoShakeFontSize:pc,onPhotoShakeFontSizeChange:Lg,photoShakeDecaySpeed:Lc,onPhotoShakeDecaySpeedChange:_g,circularWaveImage:_c,onCircularWaveImageUpload:R=>{var J;const Y=(J=R.target.files)==null?void 0:J[0];if(Y){const le=new FileReader;le.onload=ye=>{var me;Bc((me=ye.target)==null?void 0:me.result)},le.readAsDataURL(Y)}},onClearCircularWaveImage:()=>Bc(null),blurredEdgeSinger:Dc,onBlurredEdgeSingerChange:Bg,blurredEdgeSongTitle:zc,onBlurredEdgeSongTitleChange:Dg,blurredEdgeFontFamily:Vc,onBlurredEdgeFontFamilyChange:zg,blurredEdgeTextColor:Yc,onBlurredEdgeTextColorChange:Vg,blurredEdgeBgOpacity:Uc,onBlurredEdgeBgOpacityChange:Yg,blurredEdgeFontSize:Hc,onBlurredEdgeFontSizeChange:Ug,keYeCustomV2BoxOpacity:Wc,onKeYeCustomV2BoxOpacityChange:Hg,keYeCustomV2BoxColor:Gc,onKeYeCustomV2BoxColorChange:Wg,keYeCustomV2VisualizerColor:$c,onKeYeCustomV2VisualizerColorChange:Gg,keYeCustomV2Text1:Xc,onKeYeCustomV2Text1Change:$g,keYeCustomV2Text2:Kc,onKeYeCustomV2Text2Change:Xg,keYeCustomV2Text1Font:Zc,onKeYeCustomV2Text1FontChange:Kg,keYeCustomV2Text2Font:Qc,onKeYeCustomV2Text2FontChange:Zg,keYeCustomV2Text1Size:qc,onKeYeCustomV2Text1SizeChange:Qg,keYeCustomV2Text2Size:Jc,onKeYeCustomV2Text2SizeChange:qg,keYeCustomV2Text1Color:ed,onKeYeCustomV2Text1ColorChange:Jg,keYeCustomV2Text2Color:td,onKeYeCustomV2Text2ColorChange:ey,keYeCustomV2Text1Effect:nd,onKeYeCustomV2Text1EffectChange:ty,keYeCustomV2Text2Effect:ad,onKeYeCustomV2Text2EffectChange:ny,keYeCustomV2Text1StrokeColor:ld,onKeYeCustomV2Text1StrokeColorChange:ay,keYeCustomV2Text2StrokeColor:od,onKeYeCustomV2Text2StrokeColorChange:ly,bassEnhancementBlurIntensity:rd,onBassEnhancementBlurIntensityChange:oy,bassEnhancementCurveIntensity:id,onBassEnhancementCurveIntensityChange:ry,bassEnhancementText:sd,onBassEnhancementTextChange:iy,bassEnhancementTextColor:ud,onBassEnhancementTextColorChange:sy,bassEnhancementTextFont:cd,onBassEnhancementTextFontChange:uy,bassEnhancementTextSize:dd,onBassEnhancementTextSizeChange:cy,bassEnhancementTextBgOpacity:fd,onBassEnhancementTextBgOpacityChange:dy,isLoading:d,visualizationType:r,onVisualizationChange:N0,multiEffectEnabled:E,onMultiEffectEnabledChange:Gv,selectedVisualizationTypes:y,onToggleVisualizationType:$v,onSelectedVisualizationTypesChange:Xv,multiEffectOffsets:k,onMultiEffectOffsetsChange:qv,onActiveMultiEffectNudge:Zv,onActiveMultiEffectOffsetChange:R=>Kv(r,R),onActiveMultiEffectOffsetReset:Qv,multiEffectTransforms:j,onMultiEffectTransformsChange:L,onActiveMultiEffectTransformChange:R=>Jv(r,R),onActiveMultiEffectTransformReset:e1,vinylImage:Jn,onVinylImageUpload:g1,onClearVinylImage:y1,vinylLayoutMode:fr,onVinylLayoutModeChange:Ki,vinylCenterFixed:De,onVinylCenterFixedChange:Vt,pianoOpacity:r0,onPianoOpacityChange:yv,fusionCenterOpacity:i0,onFusionCenterOpacityChange:vv,stellarCoreInnerOpacity:s0,onStellarCoreInnerOpacityChange:Cv,stellarCoreTentaclesOpacity:u0,onStellarCoreTentaclesOpacityChange:Sv,customTextOverlays:T,onCustomTextOverlaysChange:F,onUpdateCustomTextOverlay:He,sensitivity:w,onSensitivityChange:A,smoothing:P,onSmoothingChange:V,equalization:D,onEqualizationChange:B,audioFile:e,onClearAudio:S1,onFileSelect:C1,videoUrl:m,videoExtension:h,backgroundColor:z,onBackgroundColorChange:p,colorPalette:W,onColorPaletteChange:t1,customPrimaryColor:X,customSecondaryColor:q,customAccentColor:Z,onCustomPrimaryColorChange:ne,onCustomSecondaryColorChange:ie,onCustomAccentColorChange:H,resolution:ae,onResolutionChange:Wv,backgroundImage:te,onBackgroundImageSelect:a1,onClearBackgroundImage:o1,backgroundImages:K,onMultipleBackgroundImagesSelect:l1,onClearAllBackgroundImages:r1,backgroundVideo:Te,onBackgroundVideoSelect:i1,onClearBackgroundVideo:s1,currentImageIndex:ge,isSlideshowEnabled:oe,onSlideshowEnabledChange:Se,slideshowInterval:Fe,onSlideshowIntervalChange:ke,isTransitioning:Ce,transitionType:je,onTransitionTypeChange:Ze,waveformStroke:Ke,onWaveformStrokeChange:at,subtitlesRawText:gn,onSubtitlesRawTextChange:st,onGenerateSubtitles:Vv,isGeneratingSubtitles:yn,showSubtitles:mt,onShowSubtitlesChange:Pt,subtitleFontSize:Rt,onSubtitleFontSizeChange:Me,subtitleFontFamily:be,onSubtitleFontFamilyChange:Oe,subtitleColor:Le,onSubtitleColorChange:ze,subtitleStrokeColor:Tt,onSubtitleStrokeColorChange:dt,subtitleEffect:Bt,onSubtitleEffectChange:Dt,subtitleBgStyle:qn,onSubtitleBgStyleChange:va,subtitleFormat:gt,onSubtitleFormatChange:Ca,subtitleLanguage:Sa,onSubtitleLanguageChange:ba,subtitleOrientation:La,onSubtitleOrientationChange:vn,verticalSubtitlePosition:Tn,onVerticalSubtitlePositionChange:jn,horizontalSubtitlePosition:da,onHorizontalSubtitlePositionChange:Na,verticalSubtitleVerticalPosition:Hn,onVerticalSubtitleVerticalPositionChange:An,horizontalSubtitleVerticalPosition:qt,onHorizontalSubtitleVerticalPositionChange:_a,effectScale:Re,onEffectScaleChange:Ft,effectOffsetX:Qe,onEffectOffsetXChange:we,effectOffsetY:Ee,onEffectOffsetYChange:Wt,effectRotation:Lt,onEffectRotationChange:et,showLyricsDisplay:Zi,onShowLyricsDisplayChange:hy,lyricsFontSize:hd,onLyricsFontSizeChange:my,lyricsFontFamily:md,onLyricsFontFamilyChange:gy,lyricsPositionX:gd,onLyricsPositionXChange:yy,lyricsPositionY:yd,onLyricsPositionYChange:vy,subtitleDisplayMode:Q,onSubtitleDisplayModeChange:pe,subtitleFadeInSeconds:Ye,onSubtitleFadeInSecondsChange:ot,subtitleFadeOutSeconds:Ve,onSubtitleFadeOutSecondsChange:nt,subtitleFadeLinesEnabled:Ae,onSubtitleFadeLinesEnabledChange:ut,subtitleLineColor:Ot,onSubtitleLineColorChange:$t,subtitleLineThickness:zt,onSubtitleLineThicknessChange:wn,subtitleLineGap:Qt,onSubtitleLineGapChange:sl,currentTime:s,audioDuration:o,onSeek:E1,showVisualizer:ue,onShowVisualizerChange:Ge,showBackgroundImage:Be,onShowBackgroundImageChange:lt,showGeometricControls:ov,onShowGeometricControlsChange:rv,geometricFrameImage:Wd,onGeometricFrameImageUpload:u1,onClearGeometricFrameImage:d1,geometricSemicircleImage:$d,onGeometricSemicircleImageUpload:c1,onClearGeometricSemicircleImage:f1,geometricSongName:Kd,onGeometricSongNameChange:Nr,geometricArtistName:Zd,onGeometricArtistNameChange:iv,visualizationScale:gr,onVisualizationScaleChange:Cd,showCtaAnimation:Sd,onShowCtaAnimationChange:xy,ctaChannelName:bd,onCtaChannelNameChange:Ey,ctaFontFamily:Nd,onCtaFontFamilyChange:Ty,ctaTextColor:xd,onCtaTextColorChange:Oy,ctaStrokeColor:Ed,onCtaStrokeColorChange:Iy,ctaTextEffect:wd,onCtaTextEffectChange:My,ctaPositionX:ky,onCtaPositionXChange:tv,ctaPositionY:Py,onCtaPositionYChange:nv,ctaVideoUrl:ta,ctaVideoFileName:jy,onCtaVideoSelect:av,onClearCtaVideo:lv,ctaVideoEnabled:Ba,onCtaVideoEnabledChange:io,ctaVideoIncludeAudio:vr,onCtaVideoIncludeAudioChange:qi,ctaVideoReplaceCtaAnimation:Cr,onCtaVideoReplaceCtaAnimationChange:Sr,showIntroOverlay:uo,onShowIntroOverlayChange:py,introTitle:Md,onIntroTitleChange:Ly,introArtist:kd,onIntroArtistChange:_y,introDescription:Fd,onIntroDescriptionChange:By,introFontFamily:Pd,onIntroFontFamilyChange:Dy,introEffect:Rd,onIntroEffectChange:zy,introColor:jd,onIntroColorChange:Vy,introStrokeColor:Ad,onIntroStrokeColorChange:Yy,introTitleSize:pd,onIntroTitleSizeChange:Uy,introArtistSize:Ld,onIntroArtistSizeChange:Hy,introDescriptionSize:_d,onIntroDescriptionSizeChange:Wy,introFadeIn:Bd,onIntroFadeInChange:Gy,introHold:Dd,onIntroHoldChange:$y,introFadeOut:zd,onIntroFadeOutChange:Xy,introBgOpacity:Vd,onIntroBgOpacityChange:Ky,introPositionX:Yd,onIntroPositionXChange:Zy,introPositionY:Ud,onIntroPositionYChange:Qy,introLightBarsEnabled:Hd,onIntroLightBarsEnabledChange:ev,onPreviewIntro:T1,showZCustomControls:sv,onShowZCustomControlsChange:uv,zCustomCenterImage:xr,onZCustomCenterImageUpload:h1,onClearZCustomCenterImage:m1,zCustomScale:qd,onZCustomScaleChange:cv,zCustomPosition:Jd,onZCustomPositionUpdate:e0,filterEffectType:t0,onFilterEffectTypeChange:dv,filterEffectIntensity:n0,onFilterEffectIntensityChange:fv,filterEffectOpacity:a0,onFilterEffectOpacityChange:hv,filterEffectSpeed:l0,onFilterEffectSpeedChange:mv,filterEffectEnabled:o0,onFilterEffectEnabledChange:gv,controlCardEnabled:c0,onControlCardEnabledChange:bv,controlCardFontSize:d0,onControlCardFontSizeChange:Nv,controlCardStyle:v0,onControlCardStyleChange:Ov,controlCardColor:C0,onControlCardColorChange:Iv,controlCardBackgroundColor:S0,onControlCardBackgroundColorChange:Mv,controlCardFontFamily:f0,onControlCardFontFamilyChange:xv,controlCardTextEffect:h0,onControlCardTextEffectChange:Ev,controlCardStrokeColor:m0,onControlCardStrokeColorChange:wv,vinylRecordEnabled:jt,onVinylRecordEnabledChange:ea,vinylNeedleEnabled:pn,onVinylNeedleEnabledChange:Cn,songNameList:co,onSongNameListChange:b0,autoChangeSong:ls,onAutoChangeSongChange:Fv,isPipSupported:rs,isPipActive:Lv,onEnterPictureInPicture:Dv,onExitPictureInPicture:zv})]})}),l.jsx(Hb,{})]}),l.jsx(Gb,{isOpen:Tv,onClose:Hv,onSave:Yv,onSkip:Uv,title:y0?"API ":"API Key ",message:y0?" Gemini API  API Key  AI ":" Gemini API Key  AI "})]})}const Fg=document.getElementById("root");if(!Fg)throw new Error("Could not find root element to mount to");const e5=zs.createRoot(Fg);e5.render(l.jsx(K1.StrictMode,{children:l.jsx(Jb,{})}));
