(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function S1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xf={exports:{}},Ni={},Kf={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),b1=Symbol.for("react.portal"),N1=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),x1=Symbol.for("react.profiler"),w1=Symbol.for("react.provider"),O1=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),k1=Symbol.for("react.memo"),M1=Symbol.for("react.lazy"),T0=Symbol.iterator;function P1(e){return e===null||typeof e!="object"?null:(e=T0&&e[T0]||e["@@iterator"],typeof e=="function"?e:null)}var Zf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qf=Object.assign,qf={};function Ql(e,t,n){this.props=e,this.context=t,this.refs=qf,this.updater=n||Zf}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ql.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jf(){}Jf.prototype=Ql.prototype;function wu(e,t,n){this.props=e,this.context=t,this.refs=qf,this.updater=n||Zf}var Ou=wu.prototype=new Jf;Ou.constructor=wu;Qf(Ou,Ql.prototype);Ou.isPureReactComponent=!0;var I0=Array.isArray,eh=Object.prototype.hasOwnProperty,Tu={current:null},th={key:!0,ref:!0,__self:!0,__source:!0};function nh(e,t,n){var a,o={},i=null,s=null;if(t!=null)for(a in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)eh.call(t,a)&&!th.hasOwnProperty(a)&&(o[a]=t[a]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var m=Array(c),N=0;N<c;N++)m[N]=arguments[N+2];o.children=m}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)o[a]===void 0&&(o[a]=c[a]);return{$$typeof:Ko,type:e,key:i,ref:s,props:o,_owner:Tu.current}}function F1(e,t){return{$$typeof:Ko,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Iu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ko}function R1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var k0=/\/+/g;function ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R1(""+e.key):t.toString(36)}function pr(e,t,n,a,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ko:case b1:s=!0}}if(s)return s=e,o=o(s),e=a===""?"."+ts(s,0):a,I0(o)?(n="",e!=null&&(n=e.replace(k0,"$&/")+"/"),pr(o,t,n,"",function(N){return N})):o!=null&&(Iu(o)&&(o=F1(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(k0,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=a===""?".":a+":",I0(e))for(var c=0;c<e.length;c++){i=e[c];var m=a+ts(i,c);s+=pr(i,t,n,m,o)}else if(m=P1(e),typeof m=="function")for(e=m.call(e),c=0;!(i=e.next()).done;)i=i.value,m=a+ts(i,c++),s+=pr(i,t,n,m,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Cr(e,t,n){if(e==null)return e;var a=[],o=0;return pr(e,a,"","",function(i){return t.call(n,i,o++)}),a}function j1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},_r={transition:null},A1={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:_r,ReactCurrentOwner:Tu};function ah(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Cr,forEach:function(e,t,n){Cr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cr(e,function(){t++}),t},toArray:function(e){return Cr(e,function(t){return t})||[]},only:function(e){if(!Iu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Component=Ql;Ge.Fragment=N1;Ge.Profiler=x1;Ge.PureComponent=wu;Ge.StrictMode=E1;Ge.Suspense=I1;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1;Ge.act=ah;Ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Qf({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Tu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(m in t)eh.call(t,m)&&!th.hasOwnProperty(m)&&(a[m]=t[m]===void 0&&c!==void 0?c[m]:t[m])}var m=arguments.length-2;if(m===1)a.children=n;else if(1<m){c=Array(m);for(var N=0;N<m;N++)c[N]=arguments[N+2];a.children=c}return{$$typeof:Ko,type:e.type,key:o,ref:i,props:a,_owner:s}};Ge.createContext=function(e){return e={$$typeof:O1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w1,_context:e},e.Consumer=e};Ge.createElement=nh;Ge.createFactory=function(e){var t=nh.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:T1,render:e}};Ge.isValidElement=Iu;Ge.lazy=function(e){return{$$typeof:M1,_payload:{_status:-1,_result:e},_init:j1}};Ge.memo=function(e,t){return{$$typeof:k1,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=_r.transition;_r.transition={};try{e()}finally{_r.transition=t}};Ge.unstable_act=ah;Ge.useCallback=function(e,t){return En.current.useCallback(e,t)};Ge.useContext=function(e){return En.current.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e){return En.current.useDeferredValue(e)};Ge.useEffect=function(e,t){return En.current.useEffect(e,t)};Ge.useId=function(){return En.current.useId()};Ge.useImperativeHandle=function(e,t,n){return En.current.useImperativeHandle(e,t,n)};Ge.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return En.current.useMemo(e,t)};Ge.useReducer=function(e,t,n){return En.current.useReducer(e,t,n)};Ge.useRef=function(e){return En.current.useRef(e)};Ge.useState=function(e){return En.current.useState(e)};Ge.useSyncExternalStore=function(e,t,n){return En.current.useSyncExternalStore(e,t,n)};Ge.useTransition=function(){return En.current.useTransition()};Ge.version="18.3.1";Kf.exports=Ge;var k=Kf.exports;const p1=S1(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1=k,L1=Symbol.for("react.element"),B1=Symbol.for("react.fragment"),D1=Object.prototype.hasOwnProperty,z1=_1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V1={key:!0,ref:!0,__self:!0,__source:!0};function lh(e,t,n){var a,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(a in t)D1.call(t,a)&&!V1.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)o[a]===void 0&&(o[a]=t[a]);return{$$typeof:L1,type:e,key:i,ref:s,props:o,_owner:z1.current}}Ni.Fragment=B1;Ni.jsx=lh;Ni.jsxs=lh;Xf.exports=Ni;var l=Xf.exports,Ms={},oh={exports:{}},Vn={},rh={exports:{}},ih={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var z=T.length;T.push(L);e:for(;0<z;){var A=z-1>>>1,H=T[A];if(0<o(H,L))T[A]=L,T[z]=H,z=A;else break e}}function n(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var L=T[0],z=T.pop();if(z!==L){T[0]=z;e:for(var A=0,H=T.length,W=H>>>1;A<W;){var X=2*(A+1)-1,te=T[X],q=X+1,re=T[q];if(0>o(te,z))q<H&&0>o(re,te)?(T[A]=re,T[q]=z,A=q):(T[A]=te,T[X]=z,A=X);else if(q<H&&0>o(re,z))T[A]=re,T[q]=z,A=q;else break e}}return L}function o(T,L){var z=T.sortIndex-L.sortIndex;return z!==0?z:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var m=[],N=[],h=1,S=null,C=3,r=!1,u=!1,f=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var L=n(N);L!==null;){if(L.callback===null)a(N);else if(L.startTime<=T)a(N),L.sortIndex=L.expirationTime,t(m,L);else break;L=n(N)}}function M(T){if(f=!1,x(T),!u)if(n(m)!==null)u=!0,D(b);else{var L=n(N);L!==null&&B(M,L.startTime-T)}}function b(T,L){u=!1,f&&(f=!1,y(d),d=-1),r=!0;var z=C;try{for(x(L),S=n(m);S!==null&&(!(S.expirationTime>L)||T&&!P());){var A=S.callback;if(typeof A=="function"){S.callback=null,C=S.priorityLevel;var H=A(S.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?S.callback=H:S===n(m)&&a(m),x(L)}else a(m);S=n(m)}if(S!==null)var W=!0;else{var X=n(N);X!==null&&B(M,X.startTime-L),W=!1}return W}finally{S=null,C=z,r=!1}}var j=!1,p=null,d=-1,I=5,O=-1;function P(){return!(e.unstable_now()-O<I)}function w(){if(p!==null){var T=e.unstable_now();O=T;var L=!0;try{L=p(!0,T)}finally{L?R():(j=!1,p=null)}}else j=!1}var R;if(typeof v=="function")R=function(){v(w)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=w,R=function(){V.postMessage(null)}}else R=function(){E(w,0)};function D(T){p=T,j||(j=!0,R())}function B(T,L){d=E(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){u||r||(u=!0,D(b))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(T){switch(C){case 1:case 2:case 3:var L=3;break;default:L=C}var z=C;C=L;try{return T()}finally{C=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=C;C=T;try{return L()}finally{C=z}},e.unstable_scheduleCallback=function(T,L,z){var A=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?A+z:A):z=A,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,T={id:h++,callback:L,priorityLevel:T,startTime:z,expirationTime:H,sortIndex:-1},z>A?(T.sortIndex=z,t(N,T),n(m)===null&&T===n(N)&&(f?(y(d),d=-1):f=!0,B(M,z-A))):(T.sortIndex=H,t(m,T),u||r||(u=!0,D(b))),T},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(T){var L=C;return function(){var z=C;C=L;try{return T.apply(this,arguments)}finally{C=z}}}})(ih);rh.exports=ih;var Y1=rh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1=k,zn=Y1;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sh=new Set,Po={};function bl(e,t){Hl(e,t),Hl(e+"Capture",t)}function Hl(e,t){for(Po[e]=t,e=0;e<t.length;e++)sh.add(t[e])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=Object.prototype.hasOwnProperty,H1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M0={},P0={};function W1(e){return Ps.call(P0,e)?!0:Ps.call(M0,e)?!1:H1.test(e)?P0[e]=!0:(M0[e]=!0,!1)}function G1(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $1(e,t,n,a){if(t===null||typeof t>"u"||G1(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xn(e,t,n,a,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new xn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new xn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new xn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new xn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new xn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new xn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new xn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new xn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new xn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ku=/[\-:]([a-z])/g;function Mu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ku,Mu);sn[t]=new xn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ku,Mu);sn[t]=new xn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ku,Mu);sn[t]=new xn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new xn(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new xn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pu(e,t,n,a){var o=sn.hasOwnProperty(t)?sn[t]:null;(o!==null?o.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($1(t,n,o,a)&&(n=null),a||o===null?W1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,a=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Ma=U1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sr=Symbol.for("react.element"),Tl=Symbol.for("react.portal"),Il=Symbol.for("react.fragment"),Fu=Symbol.for("react.strict_mode"),Fs=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),ch=Symbol.for("react.context"),Ru=Symbol.for("react.forward_ref"),Rs=Symbol.for("react.suspense"),js=Symbol.for("react.suspense_list"),ju=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),dh=Symbol.for("react.offscreen"),F0=Symbol.iterator;function ro(e){return e===null||typeof e!="object"?null:(e=F0&&e[F0]||e["@@iterator"],typeof e=="function"?e:null)}var Mt=Object.assign,ns;function yo(e){if(ns===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ns=t&&t[1]||""}return`
`+ns+e}var as=!1;function ls(e,t){if(!e||as)return"";as=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var a=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){a=N}e.call(t.prototype)}else{try{throw Error()}catch(N){a=N}e()}}catch(N){if(N&&a&&typeof N.stack=="string"){for(var o=N.stack.split(`
`),i=a.stack.split(`
`),s=o.length-1,c=i.length-1;1<=s&&0<=c&&o[s]!==i[c];)c--;for(;1<=s&&0<=c;s--,c--)if(o[s]!==i[c]){if(s!==1||c!==1)do if(s--,c--,0>c||o[s]!==i[c]){var m=`
`+o[s].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=s&&0<=c);break}}}finally{as=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yo(e):""}function X1(e){switch(e.tag){case 5:return yo(e.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return e=ls(e.type,!1),e;case 11:return e=ls(e.type.render,!1),e;case 1:return e=ls(e.type,!0),e;default:return""}}function As(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Il:return"Fragment";case Tl:return"Portal";case Fs:return"Profiler";case Fu:return"StrictMode";case Rs:return"Suspense";case js:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ch:return(e.displayName||"Context")+".Consumer";case uh:return(e._context.displayName||"Context")+".Provider";case Ru:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ju:return t=e.displayName||null,t!==null?t:As(e.type)||"Memo";case La:t=e._payload,e=e._init;try{return As(e(t))}catch{}}return null}function K1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return As(t);case 8:return t===Fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z1(e){var t=fh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){a=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function br(e){e._valueTracker||(e._valueTracker=Z1(e))}function hh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=fh(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ps(e,t){var n=t.checked;return Mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function R0(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=Ja(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mh(e,t){t=t.checked,t!=null&&Pu(e,"checked",t,!1)}function _s(e,t){mh(e,t);var n=Ja(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ls(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ls(e,t.type,Ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function j0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ls(e,t,n){(t!=="number"||$r(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vo=Array.isArray;function Bl(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ja(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Bs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ue(92));if(vo(n)){if(1<n.length)throw Error(ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ja(n)}}function gh(e,t){var n=Ja(t.value),a=Ja(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function p0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ds(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nr,vh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q1=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){Q1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function Ch(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function Sh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,o=Ch(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,o):e[n]=o}}var q1=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zs(e,t){if(t){if(q1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Vs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function Au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,Dl=null,zl=null;function _0(e){if(e=qo(e)){if(typeof Us!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Ti(t),Us(e.stateNode,e.type,t))}}function bh(e){Dl?zl?zl.push(e):zl=[e]:Dl=e}function Nh(){if(Dl){var e=Dl,t=zl;if(zl=Dl=null,_0(e),t)for(e=0;e<t.length;e++)_0(t[e])}}function Eh(e,t){return e(t)}function xh(){}var os=!1;function wh(e,t,n){if(os)return e(t,n);os=!0;try{return Eh(e,t,n)}finally{os=!1,(Dl!==null||zl!==null)&&(xh(),Nh())}}function Ro(e,t){var n=e.stateNode;if(n===null)return null;var a=Ti(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ue(231,t,typeof n));return n}var Hs=!1;if(Oa)try{var io={};Object.defineProperty(io,"passive",{get:function(){Hs=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Hs=!1}function J1(e,t,n,a,o,i,s,c,m){var N=Array.prototype.slice.call(arguments,3);try{t.apply(n,N)}catch(h){this.onError(h)}}var No=!1,Xr=null,Kr=!1,Ws=null,eC={onError:function(e){No=!0,Xr=e}};function tC(e,t,n,a,o,i,s,c,m){No=!1,Xr=null,J1.apply(eC,arguments)}function nC(e,t,n,a,o,i,s,c,m){if(tC.apply(this,arguments),No){if(No){var N=Xr;No=!1,Xr=null}else throw Error(ue(198));Kr||(Kr=!0,Ws=N)}}function Nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Oh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L0(e){if(Nl(e)!==e)throw Error(ue(188))}function aC(e){var t=e.alternate;if(!t){if(t=Nl(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(a=o.return,a!==null){n=a;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return L0(o),e;if(i===a)return L0(o),t;i=i.sibling}throw Error(ue(188))}if(n.return!==a.return)n=o,a=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,a=i;break}if(c===a){s=!0,a=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,a=o;break}if(c===a){s=!0,a=i,n=o;break}c=c.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==a)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?e:t}function Th(e){return e=aC(e),e!==null?Ih(e):null}function Ih(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ih(e);if(t!==null)return t;e=e.sibling}return null}var kh=zn.unstable_scheduleCallback,B0=zn.unstable_cancelCallback,lC=zn.unstable_shouldYield,oC=zn.unstable_requestPaint,Lt=zn.unstable_now,rC=zn.unstable_getCurrentPriorityLevel,pu=zn.unstable_ImmediatePriority,Mh=zn.unstable_UserBlockingPriority,Zr=zn.unstable_NormalPriority,iC=zn.unstable_LowPriority,Ph=zn.unstable_IdlePriority,Ei=null,da=null;function sC(e){if(da&&typeof da.onCommitFiberRoot=="function")try{da.onCommitFiberRoot(Ei,e,void 0,(e.current.flags&128)===128)}catch{}}var aa=Math.clz32?Math.clz32:dC,uC=Math.log,cC=Math.LN2;function dC(e){return e>>>=0,e===0?32:31-(uC(e)/cC|0)|0}var Er=64,xr=4194304;function Co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qr(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var c=s&~o;c!==0?a=Co(c):(i&=s,i!==0&&(a=Co(i)))}else s=n&~o,s!==0?a=Co(s):i!==0&&(a=Co(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&o)&&(o=a&-a,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-aa(t),o=1<<n,a|=e[n],t&=~o;return a}function fC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hC(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-aa(i),c=1<<s,m=o[s];m===-1?(!(c&n)||c&a)&&(o[s]=fC(c,t)):m<=t&&(e.expiredLanes|=c),i&=~c}}function Gs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fh(){var e=Er;return Er<<=1,!(Er&4194240)&&(Er=64),e}function rs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-aa(t),e[t]=n}function mC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-aa(n),i=1<<o;t[o]=0,a[o]=-1,e[o]=-1,n&=~i}}function _u(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-aa(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}var ot=0;function Rh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jh,Lu,Ah,ph,_h,$s=!1,wr=[],Wa=null,Ga=null,$a=null,jo=new Map,Ao=new Map,za=[],gC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D0(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":jo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function so(e,t,n,a,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[o]},t!==null&&(t=qo(t),t!==null&&Lu(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function yC(e,t,n,a,o){switch(t){case"focusin":return Wa=so(Wa,e,t,n,a,o),!0;case"dragenter":return Ga=so(Ga,e,t,n,a,o),!0;case"mouseover":return $a=so($a,e,t,n,a,o),!0;case"pointerover":var i=o.pointerId;return jo.set(i,so(jo.get(i)||null,e,t,n,a,o)),!0;case"gotpointercapture":return i=o.pointerId,Ao.set(i,so(Ao.get(i)||null,e,t,n,a,o)),!0}return!1}function Lh(e){var t=ul(e.target);if(t!==null){var n=Nl(t);if(n!==null){if(t=n.tag,t===13){if(t=Oh(n),t!==null){e.blockedOn=t,_h(e.priority,function(){Ah(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ys=a,n.target.dispatchEvent(a),Ys=null}else return t=qo(n),t!==null&&Lu(t),e.blockedOn=n,!1;t.shift()}return!0}function z0(e,t,n){Lr(e)&&n.delete(t)}function vC(){$s=!1,Wa!==null&&Lr(Wa)&&(Wa=null),Ga!==null&&Lr(Ga)&&(Ga=null),$a!==null&&Lr($a)&&($a=null),jo.forEach(z0),Ao.forEach(z0)}function uo(e,t){e.blockedOn===t&&(e.blockedOn=null,$s||($s=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,vC)))}function po(e){function t(o){return uo(o,e)}if(0<wr.length){uo(wr[0],e);for(var n=1;n<wr.length;n++){var a=wr[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Wa!==null&&uo(Wa,e),Ga!==null&&uo(Ga,e),$a!==null&&uo($a,e),jo.forEach(t),Ao.forEach(t),n=0;n<za.length;n++)a=za[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<za.length&&(n=za[0],n.blockedOn===null);)Lh(n),n.blockedOn===null&&za.shift()}var Vl=Ma.ReactCurrentBatchConfig,qr=!0;function CC(e,t,n,a){var o=ot,i=Vl.transition;Vl.transition=null;try{ot=1,Bu(e,t,n,a)}finally{ot=o,Vl.transition=i}}function SC(e,t,n,a){var o=ot,i=Vl.transition;Vl.transition=null;try{ot=4,Bu(e,t,n,a)}finally{ot=o,Vl.transition=i}}function Bu(e,t,n,a){if(qr){var o=Xs(e,t,n,a);if(o===null)ys(e,t,a,Jr,n),D0(e,a);else if(yC(o,e,t,n,a))a.stopPropagation();else if(D0(e,a),t&4&&-1<gC.indexOf(e)){for(;o!==null;){var i=qo(o);if(i!==null&&jh(i),i=Xs(e,t,n,a),i===null&&ys(e,t,a,Jr,n),i===o)break;o=i}o!==null&&a.stopPropagation()}else ys(e,t,a,null,n)}}var Jr=null;function Xs(e,t,n,a){if(Jr=null,e=Au(a),e=ul(e),e!==null)if(t=Nl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Oh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jr=e,null}function Bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rC()){case pu:return 1;case Mh:return 4;case Zr:case iC:return 16;case Ph:return 536870912;default:return 16}default:return 16}}var Ya=null,Du=null,Br=null;function Dh(){if(Br)return Br;var e,t=Du,n=t.length,a,o="value"in Ya?Ya.value:Ya.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===o[i-a];a++);return Br=o.slice(e,1<a?1-a:void 0)}function Dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function V0(){return!1}function Yn(e){function t(n,a,o,i,s){this._reactName=n,this._targetInst=o,this.type=a,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Or:V0,this.isPropagationStopped=V0,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),t}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=Yn(ql),Qo=Mt({},ql,{view:0,detail:0}),bC=Yn(Qo),is,ss,co,xi=Mt({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?(is=e.screenX-co.screenX,ss=e.screenY-co.screenY):ss=is=0,co=e),is)},movementY:function(e){return"movementY"in e?e.movementY:ss}}),Y0=Yn(xi),NC=Mt({},xi,{dataTransfer:0}),EC=Yn(NC),xC=Mt({},Qo,{relatedTarget:0}),us=Yn(xC),wC=Mt({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),OC=Yn(wC),TC=Mt({},ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IC=Yn(TC),kC=Mt({},ql,{data:0}),U0=Yn(kC),MC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FC[e])?!!t[e]:!1}function Vu(){return RC}var jC=Mt({},Qo,{key:function(e){if(e.key){var t=MC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AC=Yn(jC),pC=Mt({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H0=Yn(pC),_C=Mt({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),LC=Yn(_C),BC=Mt({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=Yn(BC),zC=Mt({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VC=Yn(zC),YC=[9,13,27,32],Yu=Oa&&"CompositionEvent"in window,Eo=null;Oa&&"documentMode"in document&&(Eo=document.documentMode);var UC=Oa&&"TextEvent"in window&&!Eo,zh=Oa&&(!Yu||Eo&&8<Eo&&11>=Eo),W0=" ",G0=!1;function Vh(e,t){switch(e){case"keyup":return YC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kl=!1;function HC(e,t){switch(e){case"compositionend":return Yh(t);case"keypress":return t.which!==32?null:(G0=!0,W0);case"textInput":return e=t.data,e===W0&&G0?null:e;default:return null}}function WC(e,t){if(kl)return e==="compositionend"||!Yu&&Vh(e,t)?(e=Dh(),Br=Du=Ya=null,kl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zh&&t.locale!=="ko"?null:t.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GC[e.type]:t==="textarea"}function Uh(e,t,n,a){bh(a),t=ei(t,"onChange"),0<t.length&&(n=new zu("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var xo=null,_o=null;function $C(e){em(e,0)}function wi(e){var t=Fl(e);if(hh(t))return e}function XC(e,t){if(e==="change")return t}var Hh=!1;if(Oa){var cs;if(Oa){var ds="oninput"in document;if(!ds){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),ds=typeof X0.oninput=="function"}cs=ds}else cs=!1;Hh=cs&&(!document.documentMode||9<document.documentMode)}function K0(){xo&&(xo.detachEvent("onpropertychange",Wh),_o=xo=null)}function Wh(e){if(e.propertyName==="value"&&wi(_o)){var t=[];Uh(t,_o,e,Au(e)),wh($C,t)}}function KC(e,t,n){e==="focusin"?(K0(),xo=t,_o=n,xo.attachEvent("onpropertychange",Wh)):e==="focusout"&&K0()}function ZC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wi(_o)}function QC(e,t){if(e==="click")return wi(t)}function qC(e,t){if(e==="input"||e==="change")return wi(t)}function JC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oa=typeof Object.is=="function"?Object.is:JC;function Lo(e,t){if(oa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!Ps.call(t,o)||!oa(e[o],t[o]))return!1}return!0}function Z0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Q0(e,t){var n=Z0(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z0(n)}}function Gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $h(){for(var e=window,t=$r();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$r(e.document)}return t}function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e2(e){var t=$h(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gh(n.ownerDocument.documentElement,n)){if(a!==null&&Uu(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(a.start,o);a=a.end===void 0?i:Math.min(a.end,o),!e.extend&&i>a&&(o=a,a=i,i=o),o=Q0(n,i);var s=Q0(n,a);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t2=Oa&&"documentMode"in document&&11>=document.documentMode,Ml=null,Ks=null,wo=null,Zs=!1;function q0(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zs||Ml==null||Ml!==$r(a)||(a=Ml,"selectionStart"in a&&Uu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),wo&&Lo(wo,a)||(wo=a,a=ei(Ks,"onSelect"),0<a.length&&(t=new zu("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Ml)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pl={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},fs={},Xh={};Oa&&(Xh=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Oi(e){if(fs[e])return fs[e];if(!Pl[e])return e;var t=Pl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xh)return fs[e]=t[n];return e}var Kh=Oi("animationend"),Zh=Oi("animationiteration"),Qh=Oi("animationstart"),qh=Oi("transitionend"),Jh=new Map,J0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(e,t){Jh.set(e,t),bl(t,[e])}for(var hs=0;hs<J0.length;hs++){var ms=J0[hs],n2=ms.toLowerCase(),a2=ms[0].toUpperCase()+ms.slice(1);tl(n2,"on"+a2)}tl(Kh,"onAnimationEnd");tl(Zh,"onAnimationIteration");tl(Qh,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(qh,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l2=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function ef(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,nC(a,t,void 0,e),e.currentTarget=null}function em(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var c=a[s],m=c.instance,N=c.currentTarget;if(c=c.listener,m!==i&&o.isPropagationStopped())break e;ef(o,c,N),i=m}else for(s=0;s<a.length;s++){if(c=a[s],m=c.instance,N=c.currentTarget,c=c.listener,m!==i&&o.isPropagationStopped())break e;ef(o,c,N),i=m}}}if(Kr)throw e=Ws,Kr=!1,Ws=null,e}function yt(e,t){var n=t[tu];n===void 0&&(n=t[tu]=new Set);var a=e+"__bubble";n.has(a)||(tm(t,e,2,!1),n.add(a))}function gs(e,t,n){var a=0;t&&(a|=4),tm(n,e,a,t)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[Ir]){e[Ir]=!0,sh.forEach(function(n){n!=="selectionchange"&&(l2.has(n)||gs(n,!1,e),gs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ir]||(t[Ir]=!0,gs("selectionchange",!1,t))}}function tm(e,t,n,a){switch(Bh(t)){case 1:var o=CC;break;case 4:o=SC;break;default:o=Bu}n=o.bind(null,t,n,e),o=void 0,!Hs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ys(e,t,n,a,o){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var c=a.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(s===4)for(s=a.return;s!==null;){var m=s.tag;if((m===3||m===4)&&(m=s.stateNode.containerInfo,m===o||m.nodeType===8&&m.parentNode===o))return;s=s.return}for(;c!==null;){if(s=ul(c),s===null)return;if(m=s.tag,m===5||m===6){a=i=s;continue e}c=c.parentNode}}a=a.return}wh(function(){var N=i,h=Au(n),S=[];e:{var C=Jh.get(e);if(C!==void 0){var r=zu,u=e;switch(e){case"keypress":if(Dr(n)===0)break e;case"keydown":case"keyup":r=AC;break;case"focusin":u="focus",r=us;break;case"focusout":u="blur",r=us;break;case"beforeblur":case"afterblur":r=us;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=EC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=LC;break;case Kh:case Zh:case Qh:r=OC;break;case qh:r=DC;break;case"scroll":r=bC;break;case"wheel":r=VC;break;case"copy":case"cut":case"paste":r=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=H0}var f=(t&4)!==0,E=!f&&e==="scroll",y=f?C!==null?C+"Capture":null:C;f=[];for(var v=N,x;v!==null;){x=v;var M=x.stateNode;if(x.tag===5&&M!==null&&(x=M,y!==null&&(M=Ro(v,y),M!=null&&f.push(Do(v,M,x)))),E)break;v=v.return}0<f.length&&(C=new r(C,u,null,n,h),S.push({event:C,listeners:f}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",r=e==="mouseout"||e==="pointerout",C&&n!==Ys&&(u=n.relatedTarget||n.fromElement)&&(ul(u)||u[Ta]))break e;if((r||C)&&(C=h.window===h?h:(C=h.ownerDocument)?C.defaultView||C.parentWindow:window,r?(u=n.relatedTarget||n.toElement,r=N,u=u?ul(u):null,u!==null&&(E=Nl(u),u!==E||u.tag!==5&&u.tag!==6)&&(u=null)):(r=null,u=N),r!==u)){if(f=Y0,M="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(f=H0,M="onPointerLeave",y="onPointerEnter",v="pointer"),E=r==null?C:Fl(r),x=u==null?C:Fl(u),C=new f(M,v+"leave",r,n,h),C.target=E,C.relatedTarget=x,M=null,ul(h)===N&&(f=new f(y,v+"enter",u,n,h),f.target=x,f.relatedTarget=E,M=f),E=M,r&&u)t:{for(f=r,y=u,v=0,x=f;x;x=xl(x))v++;for(x=0,M=y;M;M=xl(M))x++;for(;0<v-x;)f=xl(f),v--;for(;0<x-v;)y=xl(y),x--;for(;v--;){if(f===y||y!==null&&f===y.alternate)break t;f=xl(f),y=xl(y)}f=null}else f=null;r!==null&&tf(S,C,r,f,!1),u!==null&&E!==null&&tf(S,E,u,f,!0)}}e:{if(C=N?Fl(N):window,r=C.nodeName&&C.nodeName.toLowerCase(),r==="select"||r==="input"&&C.type==="file")var b=XC;else if($0(C))if(Hh)b=qC;else{b=ZC;var j=KC}else(r=C.nodeName)&&r.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(b=QC);if(b&&(b=b(e,N))){Uh(S,b,n,h);break e}j&&j(e,C,N),e==="focusout"&&(j=C._wrapperState)&&j.controlled&&C.type==="number"&&Ls(C,"number",C.value)}switch(j=N?Fl(N):window,e){case"focusin":($0(j)||j.contentEditable==="true")&&(Ml=j,Ks=N,wo=null);break;case"focusout":wo=Ks=Ml=null;break;case"mousedown":Zs=!0;break;case"contextmenu":case"mouseup":case"dragend":Zs=!1,q0(S,n,h);break;case"selectionchange":if(t2)break;case"keydown":case"keyup":q0(S,n,h)}var p;if(Yu)e:{switch(e){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else kl?Vh(e,n)&&(d="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(d="onCompositionStart");d&&(zh&&n.locale!=="ko"&&(kl||d!=="onCompositionStart"?d==="onCompositionEnd"&&kl&&(p=Dh()):(Ya=h,Du="value"in Ya?Ya.value:Ya.textContent,kl=!0)),j=ei(N,d),0<j.length&&(d=new U0(d,e,null,n,h),S.push({event:d,listeners:j}),p?d.data=p:(p=Yh(n),p!==null&&(d.data=p)))),(p=UC?HC(e,n):WC(e,n))&&(N=ei(N,"onBeforeInput"),0<N.length&&(h=new U0("onBeforeInput","beforeinput",null,n,h),S.push({event:h,listeners:N}),h.data=p))}em(S,t)})}function Do(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ei(e,t){for(var n=t+"Capture",a=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ro(e,n),i!=null&&a.unshift(Do(e,i,o)),i=Ro(e,t),i!=null&&a.push(Do(e,i,o))),e=e.return}return a}function xl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tf(e,t,n,a,o){for(var i=t._reactName,s=[];n!==null&&n!==a;){var c=n,m=c.alternate,N=c.stateNode;if(m!==null&&m===a)break;c.tag===5&&N!==null&&(c=N,o?(m=Ro(n,i),m!=null&&s.unshift(Do(n,m,c))):o||(m=Ro(n,i),m!=null&&s.push(Do(n,m,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var o2=/\r\n?/g,r2=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(o2,`
`).replace(r2,"")}function kr(e,t,n){if(t=nf(t),nf(e)!==t&&n)throw Error(ue(425))}function ti(){}var Qs=null,qs=null;function Js(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eu=typeof setTimeout=="function"?setTimeout:void 0,i2=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,s2=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(e){return af.resolve(null).then(e).catch(u2)}:eu;function u2(e){setTimeout(function(){throw e})}function vs(e,t){var n=t,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(a===0){e.removeChild(o),po(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=o}while(n);po(t)}function Xa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),ca="__reactFiber$"+Jl,zo="__reactProps$"+Jl,Ta="__reactContainer$"+Jl,tu="__reactEvents$"+Jl,c2="__reactListeners$"+Jl,d2="__reactHandles$"+Jl;function ul(e){var t=e[ca];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ta]||n[ca]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lf(e);e!==null;){if(n=e[ca])return n;e=lf(e)}return t}e=n,n=e.parentNode}return null}function qo(e){return e=e[ca]||e[Ta],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Ti(e){return e[zo]||null}var nu=[],Rl=-1;function nl(e){return{current:e}}function vt(e){0>Rl||(e.current=nu[Rl],nu[Rl]=null,Rl--)}function dt(e,t){Rl++,nu[Rl]=e.current,e.current=t}var el={},mn=nl(el),Fn=nl(!1),ml=el;function Wl(e,t){var n=e.type.contextTypes;if(!n)return el;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rn(e){return e=e.childContextTypes,e!=null}function ni(){vt(Fn),vt(mn)}function of(e,t,n){if(mn.current!==el)throw Error(ue(168));dt(mn,t),dt(Fn,n)}function nm(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var o in a)if(!(o in t))throw Error(ue(108,K1(e)||"Unknown",o));return Mt({},n,a)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||el,ml=mn.current,dt(mn,e),dt(Fn,Fn.current),!0}function rf(e,t,n){var a=e.stateNode;if(!a)throw Error(ue(169));n?(e=nm(e,t,ml),a.__reactInternalMemoizedMergedChildContext=e,vt(Fn),vt(mn),dt(mn,e)):vt(Fn),dt(Fn,n)}var Na=null,Ii=!1,Cs=!1;function am(e){Na===null?Na=[e]:Na.push(e)}function f2(e){Ii=!0,am(e)}function al(){if(!Cs&&Na!==null){Cs=!0;var e=0,t=ot;try{var n=Na;for(ot=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Na=null,Ii=!1}catch(o){throw Na!==null&&(Na=Na.slice(e+1)),kh(pu,al),o}finally{ot=t,Cs=!1}}return null}var jl=[],Al=0,li=null,oi=0,Un=[],Hn=0,gl=null,Ea=1,xa="";function il(e,t){jl[Al++]=oi,jl[Al++]=li,li=e,oi=t}function lm(e,t,n){Un[Hn++]=Ea,Un[Hn++]=xa,Un[Hn++]=gl,gl=e;var a=Ea;e=xa;var o=32-aa(a)-1;a&=~(1<<o),n+=1;var i=32-aa(t)+o;if(30<i){var s=o-o%5;i=(a&(1<<s)-1).toString(32),a>>=s,o-=s,Ea=1<<32-aa(t)+o|n<<o|a,xa=i+e}else Ea=1<<i|n<<o|a,xa=e}function Hu(e){e.return!==null&&(il(e,1),lm(e,1,0))}function Wu(e){for(;e===li;)li=jl[--Al],jl[Al]=null,oi=jl[--Al],jl[Al]=null;for(;e===gl;)gl=Un[--Hn],Un[Hn]=null,xa=Un[--Hn],Un[Hn]=null,Ea=Un[--Hn],Un[Hn]=null}var Dn=null,Bn=null,xt=!1,ta=null;function om(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,Bn=Xa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,Bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gl!==null?{id:Ea,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dn=e,Bn=null,!0):!1;default:return!1}}function au(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lu(e){if(xt){var t=Bn;if(t){var n=t;if(!sf(e,t)){if(au(e))throw Error(ue(418));t=Xa(n.nextSibling);var a=Dn;t&&sf(e,t)?om(a,n):(e.flags=e.flags&-4097|2,xt=!1,Dn=e)}}else{if(au(e))throw Error(ue(418));e.flags=e.flags&-4097|2,xt=!1,Dn=e}}}function uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function Mr(e){if(e!==Dn)return!1;if(!xt)return uf(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Js(e.type,e.memoizedProps)),t&&(t=Bn)){if(au(e))throw rm(),Error(ue(418));for(;t;)om(e,t),t=Xa(t.nextSibling)}if(uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bn=Xa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bn=null}}else Bn=Dn?Xa(e.stateNode.nextSibling):null;return!0}function rm(){for(var e=Bn;e;)e=Xa(e.nextSibling)}function Gl(){Bn=Dn=null,xt=!1}function Gu(e){ta===null?ta=[e]:ta.push(e)}var h2=Ma.ReactCurrentBatchConfig;function fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var a=n.stateNode}if(!a)throw Error(ue(147,e));var o=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var c=o.refs;s===null?delete c[i]:c[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,e))}return e}function Pr(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cf(e){var t=e._init;return t(e._payload)}function im(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function a(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function o(y,v){return y=qa(y,v),y.index=0,y.sibling=null,y}function i(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,v,x,M){return v===null||v.tag!==6?(v=Os(x,y.mode,M),v.return=y,v):(v=o(v,x),v.return=y,v)}function m(y,v,x,M){var b=x.type;return b===Il?h(y,v,x.props.children,M,x.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===La&&cf(b)===v.type)?(M=o(v,x.props),M.ref=fo(y,v,x),M.return=y,M):(M=Gr(x.type,x.key,x.props,null,y.mode,M),M.ref=fo(y,v,x),M.return=y,M)}function N(y,v,x,M){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Ts(x,y.mode,M),v.return=y,v):(v=o(v,x.children||[]),v.return=y,v)}function h(y,v,x,M,b){return v===null||v.tag!==7?(v=hl(x,y.mode,M,b),v.return=y,v):(v=o(v,x),v.return=y,v)}function S(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Os(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sr:return x=Gr(v.type,v.key,v.props,null,y.mode,x),x.ref=fo(y,null,v),x.return=y,x;case Tl:return v=Ts(v,y.mode,x),v.return=y,v;case La:var M=v._init;return S(y,M(v._payload),x)}if(vo(v)||ro(v))return v=hl(v,y.mode,x,null),v.return=y,v;Pr(y,v)}return null}function C(y,v,x,M){var b=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:c(y,v,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sr:return x.key===b?m(y,v,x,M):null;case Tl:return x.key===b?N(y,v,x,M):null;case La:return b=x._init,C(y,v,b(x._payload),M)}if(vo(x)||ro(x))return b!==null?null:h(y,v,x,M,null);Pr(y,x)}return null}function r(y,v,x,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return y=y.get(x)||null,c(v,y,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Sr:return y=y.get(M.key===null?x:M.key)||null,m(v,y,M,b);case Tl:return y=y.get(M.key===null?x:M.key)||null,N(v,y,M,b);case La:var j=M._init;return r(y,v,x,j(M._payload),b)}if(vo(M)||ro(M))return y=y.get(x)||null,h(v,y,M,b,null);Pr(v,M)}return null}function u(y,v,x,M){for(var b=null,j=null,p=v,d=v=0,I=null;p!==null&&d<x.length;d++){p.index>d?(I=p,p=null):I=p.sibling;var O=C(y,p,x[d],M);if(O===null){p===null&&(p=I);break}e&&p&&O.alternate===null&&t(y,p),v=i(O,v,d),j===null?b=O:j.sibling=O,j=O,p=I}if(d===x.length)return n(y,p),xt&&il(y,d),b;if(p===null){for(;d<x.length;d++)p=S(y,x[d],M),p!==null&&(v=i(p,v,d),j===null?b=p:j.sibling=p,j=p);return xt&&il(y,d),b}for(p=a(y,p);d<x.length;d++)I=r(p,y,d,x[d],M),I!==null&&(e&&I.alternate!==null&&p.delete(I.key===null?d:I.key),v=i(I,v,d),j===null?b=I:j.sibling=I,j=I);return e&&p.forEach(function(P){return t(y,P)}),xt&&il(y,d),b}function f(y,v,x,M){var b=ro(x);if(typeof b!="function")throw Error(ue(150));if(x=b.call(x),x==null)throw Error(ue(151));for(var j=b=null,p=v,d=v=0,I=null,O=x.next();p!==null&&!O.done;d++,O=x.next()){p.index>d?(I=p,p=null):I=p.sibling;var P=C(y,p,O.value,M);if(P===null){p===null&&(p=I);break}e&&p&&P.alternate===null&&t(y,p),v=i(P,v,d),j===null?b=P:j.sibling=P,j=P,p=I}if(O.done)return n(y,p),xt&&il(y,d),b;if(p===null){for(;!O.done;d++,O=x.next())O=S(y,O.value,M),O!==null&&(v=i(O,v,d),j===null?b=O:j.sibling=O,j=O);return xt&&il(y,d),b}for(p=a(y,p);!O.done;d++,O=x.next())O=r(p,y,d,O.value,M),O!==null&&(e&&O.alternate!==null&&p.delete(O.key===null?d:O.key),v=i(O,v,d),j===null?b=O:j.sibling=O,j=O);return e&&p.forEach(function(w){return t(y,w)}),xt&&il(y,d),b}function E(y,v,x,M){if(typeof x=="object"&&x!==null&&x.type===Il&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Sr:e:{for(var b=x.key,j=v;j!==null;){if(j.key===b){if(b=x.type,b===Il){if(j.tag===7){n(y,j.sibling),v=o(j,x.props.children),v.return=y,y=v;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===La&&cf(b)===j.type){n(y,j.sibling),v=o(j,x.props),v.ref=fo(y,j,x),v.return=y,y=v;break e}n(y,j);break}else t(y,j);j=j.sibling}x.type===Il?(v=hl(x.props.children,y.mode,M,x.key),v.return=y,y=v):(M=Gr(x.type,x.key,x.props,null,y.mode,M),M.ref=fo(y,v,x),M.return=y,y=M)}return s(y);case Tl:e:{for(j=x.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=o(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=Ts(x,y.mode,M),v.return=y,y=v}return s(y);case La:return j=x._init,E(y,v,j(x._payload),M)}if(vo(x))return u(y,v,x,M);if(ro(x))return f(y,v,x,M);Pr(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=o(v,x),v.return=y,y=v):(n(y,v),v=Os(x,y.mode,M),v.return=y,y=v),s(y)):n(y,v)}return E}var $l=im(!0),sm=im(!1),ri=nl(null),ii=null,pl=null,$u=null;function Xu(){$u=pl=ii=null}function Ku(e){var t=ri.current;vt(ri),e._currentValue=t}function ou(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Yl(e,t){ii=e,$u=pl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pn=!0),e.firstContext=null)}function $n(e){var t=e._currentValue;if($u!==e)if(e={context:e,memoizedValue:t,next:null},pl===null){if(ii===null)throw Error(ue(308));pl=e,ii.dependencies={lanes:0,firstContext:e}}else pl=pl.next=e;return t}var cl=null;function Zu(e){cl===null?cl=[e]:cl.push(e)}function um(e,t,n,a){var o=t.interleaved;return o===null?(n.next=n,Zu(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ia(e,a)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ba=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Ze&2){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,Ia(e,n)}return o=a.interleaved,o===null?(t.next=t,Zu(a)):(t.next=o.next,o.next=t),a.interleaved=t,Ia(e,n)}function zr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_u(e,n)}}function df(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,a){var o=e.updateQueue;Ba=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var m=c,N=m.next;m.next=null,s===null?i=N:s.next=N,s=m;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==s&&(c===null?h.firstBaseUpdate=N:c.next=N,h.lastBaseUpdate=m))}if(i!==null){var S=o.baseState;s=0,h=N=m=null,c=i;do{var C=c.lane,r=c.eventTime;if((a&C)===C){h!==null&&(h=h.next={eventTime:r,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var u=e,f=c;switch(C=t,r=n,f.tag){case 1:if(u=f.payload,typeof u=="function"){S=u.call(r,S,C);break e}S=u;break e;case 3:u.flags=u.flags&-65537|128;case 0:if(u=f.payload,C=typeof u=="function"?u.call(r,S,C):u,C==null)break e;S=Mt({},S,C);break e;case 2:Ba=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,C=o.effects,C===null?o.effects=[c]:C.push(c))}else r={eventTime:r,lane:C,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(N=h=r,m=S):h=h.next=r,s|=C;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;C=c,c=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);if(h===null&&(m=S),o.baseState=m,o.firstBaseUpdate=N,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);vl|=s,e.lanes=s,e.memoizedState=S}}function ff(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],o=a.callback;if(o!==null){if(a.callback=null,a=n,typeof o!="function")throw Error(ue(191,o));o.call(a)}}}var Jo={},fa=nl(Jo),Vo=nl(Jo),Yo=nl(Jo);function dl(e){if(e===Jo)throw Error(ue(174));return e}function qu(e,t){switch(dt(Yo,t),dt(Vo,e),dt(fa,Jo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ds(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ds(t,e)}vt(fa),dt(fa,t)}function Xl(){vt(fa),vt(Vo),vt(Yo)}function dm(e){dl(Yo.current);var t=dl(fa.current),n=Ds(t,e.type);t!==n&&(dt(Vo,e),dt(fa,n))}function Ju(e){Vo.current===e&&(vt(fa),vt(Vo))}var It=nl(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ss=[];function ec(){for(var e=0;e<Ss.length;e++)Ss[e]._workInProgressVersionPrimary=null;Ss.length=0}var Vr=Ma.ReactCurrentDispatcher,bs=Ma.ReactCurrentBatchConfig,yl=0,kt=null,Kt=null,Jt=null,ci=!1,Oo=!1,Uo=0,m2=0;function dn(){throw Error(ue(321))}function tc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function nc(e,t,n,a,o,i){if(yl=i,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vr.current=e===null||e.memoizedState===null?C2:S2,e=n(a,o),Oo){i=0;do{if(Oo=!1,Uo=0,25<=i)throw Error(ue(301));i+=1,Jt=Kt=null,t.updateQueue=null,Vr.current=b2,e=n(a,o)}while(Oo)}if(Vr.current=di,t=Kt!==null&&Kt.next!==null,yl=0,Jt=Kt=kt=null,ci=!1,t)throw Error(ue(300));return e}function ac(){var e=Uo!==0;return Uo=0,e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?kt.memoizedState=Jt=e:Jt=Jt.next=e,Jt}function Xn(){if(Kt===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=Jt===null?kt.memoizedState:Jt.next;if(t!==null)Jt=t,Kt=e;else{if(e===null)throw Error(ue(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Jt===null?kt.memoizedState=Jt=e:Jt=Jt.next=e}return Jt}function Ho(e,t){return typeof t=="function"?t(e):t}function Ns(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=e;var a=Kt,o=a.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}a.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,a=a.baseState;var c=s=null,m=null,N=i;do{var h=N.lane;if((yl&h)===h)m!==null&&(m=m.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),a=N.hasEagerState?N.eagerState:e(a,N.action);else{var S={lane:h,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};m===null?(c=m=S,s=a):m=m.next=S,kt.lanes|=h,vl|=h}N=N.next}while(N!==null&&N!==i);m===null?s=a:m.next=c,oa(a,t.memoizedState)||(Pn=!0),t.memoizedState=a,t.baseState=s,t.baseQueue=m,n.lastRenderedState=a}if(e=n.interleaved,e!==null){o=e;do i=o.lane,kt.lanes|=i,vl|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);oa(i,t.memoizedState)||(Pn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function fm(){}function hm(e,t){var n=kt,a=Xn(),o=t(),i=!oa(a.memoizedState,o);if(i&&(a.memoizedState=o,Pn=!0),a=a.queue,lc(ym.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,Wo(9,gm.bind(null,n,a,o,t),void 0,null),tn===null)throw Error(ue(349));yl&30||mm(n,t,o)}return o}function mm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gm(e,t,n,a){t.value=n,t.getSnapshot=a,vm(t)&&Cm(e)}function ym(e,t,n){return n(function(){vm(t)&&Cm(e)})}function vm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch{return!0}}function Cm(e){var t=Ia(e,1);t!==null&&la(t,e,1,-1)}function hf(e){var t=ua();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=v2.bind(null,kt,e),[t.memoizedState,e]}function Wo(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Sm(){return Xn().memoizedState}function Yr(e,t,n,a){var o=ua();kt.flags|=e,o.memoizedState=Wo(1|t,n,void 0,a===void 0?null:a)}function ki(e,t,n,a){var o=Xn();a=a===void 0?null:a;var i=void 0;if(Kt!==null){var s=Kt.memoizedState;if(i=s.destroy,a!==null&&tc(a,s.deps)){o.memoizedState=Wo(t,n,i,a);return}}kt.flags|=e,o.memoizedState=Wo(1|t,n,i,a)}function mf(e,t){return Yr(8390656,8,e,t)}function lc(e,t){return ki(2048,8,e,t)}function bm(e,t){return ki(4,2,e,t)}function Nm(e,t){return ki(4,4,e,t)}function Em(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xm(e,t,n){return n=n!=null?n.concat([e]):null,ki(4,4,Em.bind(null,t,e),n)}function oc(){}function wm(e,t){var n=Xn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&tc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Om(e,t){var n=Xn();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&tc(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Tm(e,t,n){return yl&21?(oa(n,t)||(n=Fh(),kt.lanes|=n,vl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=n)}function g2(e,t){var n=ot;ot=n!==0&&4>n?n:4,e(!0);var a=bs.transition;bs.transition={};try{e(!1),t()}finally{ot=n,bs.transition=a}}function Im(){return Xn().memoizedState}function y2(e,t,n){var a=Qa(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},km(e))Mm(t,n);else if(n=um(e,t,n,a),n!==null){var o=Nn();la(n,e,a,o),Pm(n,t,a)}}function v2(e,t,n){var a=Qa(e),o={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(km(e))Mm(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,c=i(s,n);if(o.hasEagerState=!0,o.eagerState=c,oa(c,s)){var m=t.interleaved;m===null?(o.next=o,Zu(t)):(o.next=m.next,m.next=o),t.interleaved=o;return}}catch{}finally{}n=um(e,t,o,a),n!==null&&(o=Nn(),la(n,e,a,o),Pm(n,t,a))}}function km(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function Mm(e,t){Oo=ci=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pm(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_u(e,n)}}var di={readContext:$n,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},C2={readContext:$n,useCallback:function(e,t){return ua().memoizedState=[e,t===void 0?null:t],e},useContext:$n,useEffect:mf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yr(4194308,4,Em.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yr(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=ua();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=y2.bind(null,kt,e),[a.memoizedState,e]},useRef:function(e){var t=ua();return e={current:e},t.memoizedState=e},useState:hf,useDebugValue:oc,useDeferredValue:function(e){return ua().memoizedState=e},useTransition:function(){var e=hf(!1),t=e[0];return e=g2.bind(null,e[1]),ua().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=kt,o=ua();if(xt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=t(),tn===null)throw Error(ue(349));yl&30||mm(a,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,mf(ym.bind(null,a,i,e),[e]),a.flags|=2048,Wo(9,gm.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=ua(),t=tn.identifierPrefix;if(xt){var n=xa,a=Ea;n=(a&~(1<<32-aa(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Uo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=m2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},S2={readContext:$n,useCallback:wm,useContext:$n,useEffect:lc,useImperativeHandle:xm,useInsertionEffect:bm,useLayoutEffect:Nm,useMemo:Om,useReducer:Ns,useRef:Sm,useState:function(){return Ns(Ho)},useDebugValue:oc,useDeferredValue:function(e){var t=Xn();return Tm(t,Kt.memoizedState,e)},useTransition:function(){var e=Ns(Ho)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:hm,useId:Im,unstable_isNewReconciler:!1},b2={readContext:$n,useCallback:wm,useContext:$n,useEffect:lc,useImperativeHandle:xm,useInsertionEffect:bm,useLayoutEffect:Nm,useMemo:Om,useReducer:Es,useRef:Sm,useState:function(){return Es(Ho)},useDebugValue:oc,useDeferredValue:function(e){var t=Xn();return Kt===null?t.memoizedState=e:Tm(t,Kt.memoizedState,e)},useTransition:function(){var e=Es(Ho)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:fm,useSyncExternalStore:hm,useId:Im,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=Mt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ru(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mi={isMounted:function(e){return(e=e._reactInternals)?Nl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Nn(),o=Qa(e),i=wa(a,o);i.payload=t,n!=null&&(i.callback=n),t=Ka(e,i,o),t!==null&&(la(t,e,o,a),zr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Nn(),o=Qa(e),i=wa(a,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ka(e,i,o),t!==null&&(la(t,e,o,a),zr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nn(),a=Qa(e),o=wa(n,a);o.tag=2,t!=null&&(o.callback=t),t=Ka(e,o,a),t!==null&&(la(t,e,a,n),zr(t,e,a))}};function gf(e,t,n,a,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,s):t.prototype&&t.prototype.isPureReactComponent?!Lo(n,a)||!Lo(o,i):!0}function Fm(e,t,n){var a=!1,o=el,i=t.contextType;return typeof i=="object"&&i!==null?i=$n(i):(o=Rn(t)?ml:mn.current,a=t.contextTypes,i=(a=a!=null)?Wl(e,o):el),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function yf(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Mi.enqueueReplaceState(t,t.state,null)}function iu(e,t,n,a){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Qu(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=$n(i):(i=Rn(t)?ml:mn.current,o.context=Wl(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ru(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Mi.enqueueReplaceState(o,o.state,null),si(e,n,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Kl(e,t){try{var n="",a=t;do n+=X1(a),a=a.return;while(a);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function xs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function su(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var N2=typeof WeakMap=="function"?WeakMap:Map;function Rm(e,t,n){n=wa(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){hi||(hi=!0,Cu=a),su(e,t)},n}function jm(e,t,n){n=wa(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=t.value;n.payload=function(){return a(o)},n.callback=function(){su(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){su(e,t),typeof a!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function vf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new N2;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(n)||(o.add(n),e=p2.bind(null,e,t,n),t.then(e,e))}function Cf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sf(e,t,n,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wa(-1,1),t.tag=2,Ka(n,t,1))),n.lanes|=1),e)}var E2=Ma.ReactCurrentOwner,Pn=!1;function Sn(e,t,n,a){t.child=e===null?sm(t,null,n,a):$l(t,e.child,n,a)}function bf(e,t,n,a,o){n=n.render;var i=t.ref;return Yl(t,o),a=nc(e,t,n,a,i,o),n=ac(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ka(e,t,o)):(xt&&n&&Hu(t),t.flags|=1,Sn(e,t,a,o),t.child)}function Nf(e,t,n,a,o){if(e===null){var i=n.type;return typeof i=="function"&&!hc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Am(e,t,i,a,o)):(e=Gr(n.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(s,a)&&e.ref===t.ref)return ka(e,t,o)}return t.flags|=1,e=qa(i,a),e.ref=t.ref,e.return=t,t.child=e}function Am(e,t,n,a,o){if(e!==null){var i=e.memoizedProps;if(Lo(i,a)&&e.ref===t.ref)if(Pn=!1,t.pendingProps=a=i,(e.lanes&o)!==0)e.flags&131072&&(Pn=!0);else return t.lanes=e.lanes,ka(e,t,o)}return uu(e,t,n,a,o)}function pm(e,t,n){var a=t.pendingProps,o=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Ll,Ln),Ln|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(Ll,Ln),Ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,dt(Ll,Ln),Ln|=a}else i!==null?(a=i.baseLanes|n,t.memoizedState=null):a=n,dt(Ll,Ln),Ln|=a;return Sn(e,t,o,n),t.child}function _m(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uu(e,t,n,a,o){var i=Rn(n)?ml:mn.current;return i=Wl(t,i),Yl(t,o),n=nc(e,t,n,a,i,o),a=ac(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ka(e,t,o)):(xt&&a&&Hu(t),t.flags|=1,Sn(e,t,n,o),t.child)}function Ef(e,t,n,a,o){if(Rn(n)){var i=!0;ai(t)}else i=!1;if(Yl(t,o),t.stateNode===null)Ur(e,t),Fm(t,n,a),iu(t,n,a,o),a=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var m=s.context,N=n.contextType;typeof N=="object"&&N!==null?N=$n(N):(N=Rn(n)?ml:mn.current,N=Wl(t,N));var h=n.getDerivedStateFromProps,S=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";S||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==a||m!==N)&&yf(t,s,a,N),Ba=!1;var C=t.memoizedState;s.state=C,si(t,a,s,o),m=t.memoizedState,c!==a||C!==m||Fn.current||Ba?(typeof h=="function"&&(ru(t,n,h,a),m=t.memoizedState),(c=Ba||gf(t,n,c,a,C,m,N))?(S||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=N,a=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,cm(e,t),c=t.memoizedProps,N=t.type===t.elementType?c:Jn(t.type,c),s.props=N,S=t.pendingProps,C=s.context,m=n.contextType,typeof m=="object"&&m!==null?m=$n(m):(m=Rn(n)?ml:mn.current,m=Wl(t,m));var r=n.getDerivedStateFromProps;(h=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==S||C!==m)&&yf(t,s,a,m),Ba=!1,C=t.memoizedState,s.state=C,si(t,a,s,o);var u=t.memoizedState;c!==S||C!==u||Fn.current||Ba?(typeof r=="function"&&(ru(t,n,r,a),u=t.memoizedState),(N=Ba||gf(t,n,N,a,C,u,m)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,u,m),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,u,m)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=m,a=N):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),a=!1)}return cu(e,t,n,a,i,o)}function cu(e,t,n,a,o,i){_m(e,t);var s=(t.flags&128)!==0;if(!a&&!s)return o&&rf(t,n,!1),ka(e,t,i);a=t.stateNode,E2.current=t;var c=s&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&s?(t.child=$l(t,e.child,null,i),t.child=$l(t,null,c,i)):Sn(e,t,c,i),t.memoizedState=a.state,o&&rf(t,n,!0),t.child}function Lm(e){var t=e.stateNode;t.pendingContext?of(e,t.pendingContext,t.pendingContext!==t.context):t.context&&of(e,t.context,!1),qu(e,t.containerInfo)}function xf(e,t,n,a,o){return Gl(),Gu(o),t.flags|=256,Sn(e,t,n,a),t.child}var du={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bm(e,t,n){var a=t.pendingProps,o=It.current,i=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),dt(It,o&1),e===null)return lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=a.children,e=a.fallback,i?(a=t.mode,i=t.child,s={mode:"hidden",children:s},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Ri(s,a,0,null),e=hl(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fu(n),t.memoizedState=du,e):rc(t,s));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return x2(e,t,s,a,c,o,n);if(i){i=a.fallback,s=t.mode,o=e.child,c=o.sibling;var m={mode:"hidden",children:a.children};return!(s&1)&&t.child!==o?(a=t.child,a.childLanes=0,a.pendingProps=m,t.deletions=null):(a=qa(o,m),a.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=qa(c,i):(i=hl(i,s,n,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,s=e.child.memoizedState,s=s===null?fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=du,a}return i=e.child,e=i.sibling,a=qa(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function rc(e,t){return t=Ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fr(e,t,n,a){return a!==null&&Gu(a),$l(t,e.child,null,n),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x2(e,t,n,a,o,i,s){if(n)return t.flags&256?(t.flags&=-257,a=xs(Error(ue(422))),Fr(e,t,s,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,o=t.mode,a=Ri({mode:"visible",children:a.children},o,0,null),i=hl(i,o,s,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&$l(t,e.child,null,s),t.child.memoizedState=fu(s),t.memoizedState=du,i);if(!(t.mode&1))return Fr(e,t,s,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;return a=c,i=Error(ue(419)),a=xs(i,a,void 0),Fr(e,t,s,a)}if(c=(s&e.childLanes)!==0,Pn||c){if(a=tn,a!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ia(e,o),la(a,e,o,-1))}return fc(),a=xs(Error(ue(421))),Fr(e,t,s,a)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=_2.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Bn=Xa(o.nextSibling),Dn=t,xt=!0,ta=null,e!==null&&(Un[Hn++]=Ea,Un[Hn++]=xa,Un[Hn++]=gl,Ea=e.id,xa=e.overflow,gl=t),t=rc(t,a.children),t.flags|=4096,t)}function wf(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ou(e.return,t,n)}function ws(e,t,n,a,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=o)}function Dm(e,t,n){var a=t.pendingProps,o=a.revealOrder,i=a.tail;if(Sn(e,t,a.children,n),a=It.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wf(e,n,t);else if(e.tag===19)wf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(dt(It,a),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ui(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ws(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ui(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ws(t,!0,n,null,i);break;case"together":ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ur(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ka(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,n=qa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w2(e,t,n){switch(t.tag){case 3:Lm(t),Gl();break;case 5:dm(t);break;case 1:Rn(t.type)&&ai(t);break;case 4:qu(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,o=t.memoizedProps.value;dt(ri,a._currentValue),a._currentValue=o;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(dt(It,It.current&1),t.flags|=128,null):n&t.child.childLanes?Bm(e,t,n):(dt(It,It.current&1),e=ka(e,t,n),e!==null?e.sibling:null);dt(It,It.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return Dm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),dt(It,It.current),a)break;return null;case 22:case 23:return t.lanes=0,pm(e,t,n)}return ka(e,t,n)}var zm,hu,Vm,Ym;zm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hu=function(){};Vm=function(e,t,n,a){var o=e.memoizedProps;if(o!==a){e=t.stateNode,dl(fa.current);var i=null;switch(n){case"input":o=ps(e,o),a=ps(e,a),i=[];break;case"select":o=Mt({},o,{value:void 0}),a=Mt({},a,{value:void 0}),i=[];break;case"textarea":o=Bs(e,o),a=Bs(e,a),i=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ti)}zs(n,a);var s;n=null;for(N in o)if(!a.hasOwnProperty(N)&&o.hasOwnProperty(N)&&o[N]!=null)if(N==="style"){var c=o[N];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(Po.hasOwnProperty(N)?i||(i=[]):(i=i||[]).push(N,null));for(N in a){var m=a[N];if(c=o!=null?o[N]:void 0,a.hasOwnProperty(N)&&m!==c&&(m!=null||c!=null))if(N==="style")if(c){for(s in c)!c.hasOwnProperty(s)||m&&m.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in m)m.hasOwnProperty(s)&&c[s]!==m[s]&&(n||(n={}),n[s]=m[s])}else n||(i||(i=[]),i.push(N,n)),n=m;else N==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,c=c?c.__html:void 0,m!=null&&c!==m&&(i=i||[]).push(N,m)):N==="children"?typeof m!="string"&&typeof m!="number"||(i=i||[]).push(N,""+m):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(Po.hasOwnProperty(N)?(m!=null&&N==="onScroll"&&yt("scroll",e),i||c===m||(i=[])):(i=i||[]).push(N,m))}n&&(i=i||[]).push("style",n);var N=i;(t.updateQueue=N)&&(t.flags|=4)}};Ym=function(e,t,n,a){n!==a&&(t.flags|=4)};function ho(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function O2(e,t,n){var a=t.pendingProps;switch(Wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Rn(t.type)&&ni(),fn(t),null;case 3:return a=t.stateNode,Xl(),vt(Fn),vt(mn),ec(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Mr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ta!==null&&(Nu(ta),ta=null))),hu(e,t),fn(t),null;case 5:Ju(t);var o=dl(Yo.current);if(n=t.type,e!==null&&t.stateNode!=null)Vm(e,t,n,a,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(ue(166));return fn(t),null}if(e=dl(fa.current),Mr(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[ca]=t,a[zo]=i,e=(t.mode&1)!==0,n){case"dialog":yt("cancel",a),yt("close",a);break;case"iframe":case"object":case"embed":yt("load",a);break;case"video":case"audio":for(o=0;o<So.length;o++)yt(So[o],a);break;case"source":yt("error",a);break;case"img":case"image":case"link":yt("error",a),yt("load",a);break;case"details":yt("toggle",a);break;case"input":R0(a,i),yt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},yt("invalid",a);break;case"textarea":A0(a,i),yt("invalid",a)}zs(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="children"?typeof c=="string"?a.textContent!==c&&(i.suppressHydrationWarning!==!0&&kr(a.textContent,c,e),o=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&kr(a.textContent,c,e),o=["children",""+c]):Po.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&yt("scroll",a)}switch(n){case"input":br(a),j0(a,i,!0);break;case"textarea":br(a),p0(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=ti)}a=o,t.updateQueue=a,a!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=s.createElement(n,{is:a.is}):(e=s.createElement(n),n==="select"&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,n),e[ca]=t,e[zo]=a,zm(e,t,!1,!1),t.stateNode=e;e:{switch(s=Vs(n,a),n){case"dialog":yt("cancel",e),yt("close",e),o=a;break;case"iframe":case"object":case"embed":yt("load",e),o=a;break;case"video":case"audio":for(o=0;o<So.length;o++)yt(So[o],e);o=a;break;case"source":yt("error",e),o=a;break;case"img":case"image":case"link":yt("error",e),yt("load",e),o=a;break;case"details":yt("toggle",e),o=a;break;case"input":R0(e,a),o=ps(e,a),yt("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=Mt({},a,{value:void 0}),yt("invalid",e);break;case"textarea":A0(e,a),o=Bs(e,a),yt("invalid",e);break;default:o=a}zs(n,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var m=c[i];i==="style"?Sh(e,m):i==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&vh(e,m)):i==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&Fo(e,m):typeof m=="number"&&Fo(e,""+m):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Po.hasOwnProperty(i)?m!=null&&i==="onScroll"&&yt("scroll",e):m!=null&&Pu(e,i,m,s))}switch(n){case"input":br(e),j0(e,a,!1);break;case"textarea":br(e),p0(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ja(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Bl(e,!!a.multiple,i,!1):a.defaultValue!=null&&Bl(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ti)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)Ym(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(ue(166));if(n=dl(Yo.current),dl(fa.current),Mr(t)){if(a=t.stateNode,n=t.memoizedProps,a[ca]=t,(i=a.nodeValue!==n)&&(e=Dn,e!==null))switch(e.tag){case 3:kr(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kr(a.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[ca]=t,t.stateNode=a}return fn(t),null;case 13:if(vt(It),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&Bn!==null&&t.mode&1&&!(t.flags&128))rm(),Gl(),t.flags|=98560,i=!1;else if(i=Mr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[ca]=t}else Gl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),i=!1}else ta!==null&&(Nu(ta),ta=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||It.current&1?Zt===0&&(Zt=3):fc())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Xl(),hu(e,t),e===null&&Bo(t.stateNode.containerInfo),fn(t),null;case 10:return Ku(t.type._context),fn(t),null;case 17:return Rn(t.type)&&ni(),fn(t),null;case 19:if(vt(It),i=t.memoizedState,i===null)return fn(t),null;if(a=(t.flags&128)!==0,s=i.rendering,s===null)if(a)ho(i,!1);else{if(Zt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ui(e),s!==null){for(t.flags|=128,ho(i,!1),a=s.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)i=n,e=a,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dt(It,It.current&1|2),t.child}e=e.sibling}i.tail!==null&&Lt()>Zl&&(t.flags|=128,a=!0,ho(i,!1),t.lanes=4194304)}else{if(!a)if(e=ui(s),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ho(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!xt)return fn(t),null}else 2*Lt()-i.renderingStartTime>Zl&&n!==1073741824&&(t.flags|=128,a=!0,ho(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Lt(),t.sibling=null,n=It.current,dt(It,a?n&1|2:n&1),t):(fn(t),null);case 22:case 23:return dc(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Ln&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function T2(e,t){switch(Wu(t),t.tag){case 1:return Rn(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xl(),vt(Fn),vt(mn),ec(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ju(t),null;case 13:if(vt(It),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(It),null;case 4:return Xl(),null;case 10:return Ku(t.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var Rr=!1,hn=!1,I2=typeof WeakSet=="function"?WeakSet:Set,Se=null;function _l(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){pt(e,t,a)}else n.current=null}function mu(e,t,n){try{n()}catch(a){pt(e,t,a)}}var Of=!1;function k2(e,t){if(Qs=qr,e=$h(),Uu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var o=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,c=-1,m=-1,N=0,h=0,S=e,C=null;t:for(;;){for(var r;S!==n||o!==0&&S.nodeType!==3||(c=s+o),S!==i||a!==0&&S.nodeType!==3||(m=s+a),S.nodeType===3&&(s+=S.nodeValue.length),(r=S.firstChild)!==null;)C=S,S=r;for(;;){if(S===e)break t;if(C===n&&++N===o&&(c=s),C===i&&++h===a&&(m=s),(r=S.nextSibling)!==null)break;S=C,C=S.parentNode}S=r}n=c===-1||m===-1?null:{start:c,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(qs={focusedElem:e,selectionRange:n},qr=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var u=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var f=u.memoizedProps,E=u.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:Jn(t.type,f),E);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(M){pt(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return u=Of,Of=!1,u}function To(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&mu(t,n,i)}o=o.next}while(o!==a)}}function Pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function gu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Um(e){var t=e.alternate;t!==null&&(e.alternate=null,Um(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ca],delete t[zo],delete t[tu],delete t[c2],delete t[d2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hm(e){return e.tag===5||e.tag===3||e.tag===4}function Tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ti));else if(a!==4&&(e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function vu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}var an=null,ea=!1;function pa(e,t,n){for(n=n.child;n!==null;)Wm(e,t,n),n=n.sibling}function Wm(e,t,n){if(da&&typeof da.onCommitFiberUnmount=="function")try{da.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:hn||_l(n,t);case 6:var a=an,o=ea;an=null,pa(e,t,n),an=a,ea=o,an!==null&&(ea?(e=an,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):an.removeChild(n.stateNode));break;case 18:an!==null&&(ea?(e=an,n=n.stateNode,e.nodeType===8?vs(e.parentNode,n):e.nodeType===1&&vs(e,n),po(e)):vs(an,n.stateNode));break;case 4:a=an,o=ea,an=n.stateNode.containerInfo,ea=!0,pa(e,t,n),an=a,ea=o;break;case 0:case 11:case 14:case 15:if(!hn&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&mu(n,t,s),o=o.next}while(o!==a)}pa(e,t,n);break;case 1:if(!hn&&(_l(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(c){pt(n,t,c)}pa(e,t,n);break;case 21:pa(e,t,n);break;case 22:n.mode&1?(hn=(a=hn)||n.memoizedState!==null,pa(e,t,n),hn=a):pa(e,t,n);break;default:pa(e,t,n)}}function If(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new I2),t.forEach(function(a){var o=L2.bind(null,e,a);n.has(a)||(n.add(a),a.then(o,o))})}}function qn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];try{var i=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:an=c.stateNode,ea=!1;break e;case 3:an=c.stateNode.containerInfo,ea=!0;break e;case 4:an=c.stateNode.containerInfo,ea=!0;break e}c=c.return}if(an===null)throw Error(ue(160));Wm(i,s,o),an=null,ea=!1;var m=o.alternate;m!==null&&(m.return=null),o.return=null}catch(N){pt(o,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gm(t,e),t=t.sibling}function Gm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),ia(e),a&4){try{To(3,e,e.return),Pi(3,e)}catch(f){pt(e,e.return,f)}try{To(5,e,e.return)}catch(f){pt(e,e.return,f)}}break;case 1:qn(t,e),ia(e),a&512&&n!==null&&_l(n,n.return);break;case 5:if(qn(t,e),ia(e),a&512&&n!==null&&_l(n,n.return),e.flags&32){var o=e.stateNode;try{Fo(o,"")}catch(f){pt(e,e.return,f)}}if(a&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,c=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&mh(o,i),Vs(c,s);var N=Vs(c,i);for(s=0;s<m.length;s+=2){var h=m[s],S=m[s+1];h==="style"?Sh(o,S):h==="dangerouslySetInnerHTML"?vh(o,S):h==="children"?Fo(o,S):Pu(o,h,S,N)}switch(c){case"input":_s(o,i);break;case"textarea":gh(o,i);break;case"select":var C=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var r=i.value;r!=null?Bl(o,!!i.multiple,r,!1):C!==!!i.multiple&&(i.defaultValue!=null?Bl(o,!!i.multiple,i.defaultValue,!0):Bl(o,!!i.multiple,i.multiple?[]:"",!1))}o[zo]=i}catch(f){pt(e,e.return,f)}}break;case 6:if(qn(t,e),ia(e),a&4){if(e.stateNode===null)throw Error(ue(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(f){pt(e,e.return,f)}}break;case 3:if(qn(t,e),ia(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{po(t.containerInfo)}catch(f){pt(e,e.return,f)}break;case 4:qn(t,e),ia(e);break;case 13:qn(t,e),ia(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(uc=Lt())),a&4&&If(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(hn=(N=hn)||h,qn(t,e),hn=N):qn(t,e),ia(e),a&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!h&&e.mode&1)for(Se=e,h=e.child;h!==null;){for(S=Se=h;Se!==null;){switch(C=Se,r=C.child,C.tag){case 0:case 11:case 14:case 15:To(4,C,C.return);break;case 1:_l(C,C.return);var u=C.stateNode;if(typeof u.componentWillUnmount=="function"){a=C,n=C.return;try{t=a,u.props=t.memoizedProps,u.state=t.memoizedState,u.componentWillUnmount()}catch(f){pt(a,n,f)}}break;case 5:_l(C,C.return);break;case 22:if(C.memoizedState!==null){Mf(S);continue}}r!==null?(r.return=C,Se=r):Mf(S)}h=h.sibling}e:for(h=null,S=e;;){if(S.tag===5){if(h===null){h=S;try{o=S.stateNode,N?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=S.stateNode,m=S.memoizedProps.style,s=m!=null&&m.hasOwnProperty("display")?m.display:null,c.style.display=Ch("display",s))}catch(f){pt(e,e.return,f)}}}else if(S.tag===6){if(h===null)try{S.stateNode.nodeValue=N?"":S.memoizedProps}catch(f){pt(e,e.return,f)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;h===S&&(h=null),S=S.return}h===S&&(h=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:qn(t,e),ia(e),a&4&&If(e);break;case 21:break;default:qn(t,e),ia(e)}}function ia(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hm(n)){var a=n;break e}n=n.return}throw Error(ue(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(Fo(o,""),a.flags&=-33);var i=Tf(e);vu(e,i,o);break;case 3:case 4:var s=a.stateNode.containerInfo,c=Tf(e);yu(e,c,s);break;default:throw Error(ue(161))}}catch(m){pt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M2(e,t,n){Se=e,$m(e)}function $m(e,t,n){for(var a=(e.mode&1)!==0;Se!==null;){var o=Se,i=o.child;if(o.tag===22&&a){var s=o.memoizedState!==null||Rr;if(!s){var c=o.alternate,m=c!==null&&c.memoizedState!==null||hn;c=Rr;var N=hn;if(Rr=s,(hn=m)&&!N)for(Se=o;Se!==null;)s=Se,m=s.child,s.tag===22&&s.memoizedState!==null?Pf(o):m!==null?(m.return=s,Se=m):Pf(o);for(;i!==null;)Se=i,$m(i),i=i.sibling;Se=o,Rr=c,hn=N}kf(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Se=i):kf(e)}}function kf(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hn||Pi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!hn)if(n===null)a.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Jn(t.type,n.memoizedProps);a.componentDidUpdate(o,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ff(t,i,a);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ff(t,s,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var h=N.memoizedState;if(h!==null){var S=h.dehydrated;S!==null&&po(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}hn||t.flags&512&&gu(t)}catch(C){pt(t,t.return,C)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function Mf(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function Pf(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pi(4,t)}catch(m){pt(t,n,m)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var o=t.return;try{a.componentDidMount()}catch(m){pt(t,o,m)}}var i=t.return;try{gu(t)}catch(m){pt(t,i,m)}break;case 5:var s=t.return;try{gu(t)}catch(m){pt(t,s,m)}}}catch(m){pt(t,t.return,m)}if(t===e){Se=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Se=c;break}Se=t.return}}var P2=Math.ceil,fi=Ma.ReactCurrentDispatcher,ic=Ma.ReactCurrentOwner,Gn=Ma.ReactCurrentBatchConfig,Ze=0,tn=null,Ht=null,rn=0,Ln=0,Ll=nl(0),Zt=0,Go=null,vl=0,Fi=0,sc=0,Io=null,Mn=null,uc=0,Zl=1/0,Sa=null,hi=!1,Cu=null,Za=null,jr=!1,Ua=null,mi=0,ko=0,Su=null,Hr=-1,Wr=0;function Nn(){return Ze&6?Lt():Hr!==-1?Hr:Hr=Lt()}function Qa(e){return e.mode&1?Ze&2&&rn!==0?rn&-rn:h2.transition!==null?(Wr===0&&(Wr=Fh()),Wr):(e=ot,e!==0||(e=window.event,e=e===void 0?16:Bh(e.type)),e):1}function la(e,t,n,a){if(50<ko)throw ko=0,Su=null,Error(ue(185));Zo(e,n,a),(!(Ze&2)||e!==tn)&&(e===tn&&(!(Ze&2)&&(Fi|=n),Zt===4&&Va(e,rn)),jn(e,a),n===1&&Ze===0&&!(t.mode&1)&&(Zl=Lt()+500,Ii&&al()))}function jn(e,t){var n=e.callbackNode;hC(e,t);var a=Qr(e,e===tn?rn:0);if(a===0)n!==null&&B0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&B0(n),t===1)e.tag===0?f2(Ff.bind(null,e)):am(Ff.bind(null,e)),s2(function(){!(Ze&6)&&al()}),n=null;else{switch(Rh(a)){case 1:n=pu;break;case 4:n=Mh;break;case 16:n=Zr;break;case 536870912:n=Ph;break;default:n=Zr}n=tg(n,Xm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xm(e,t){if(Hr=-1,Wr=0,Ze&6)throw Error(ue(327));var n=e.callbackNode;if(Ul()&&e.callbackNode!==n)return null;var a=Qr(e,e===tn?rn:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=gi(e,a);else{t=a;var o=Ze;Ze|=2;var i=Zm();(tn!==e||rn!==t)&&(Sa=null,Zl=Lt()+500,fl(e,t));do try{j2();break}catch(c){Km(e,c)}while(!0);Xu(),fi.current=i,Ze=o,Ht!==null?t=0:(tn=null,rn=0,t=Zt)}if(t!==0){if(t===2&&(o=Gs(e),o!==0&&(a=o,t=bu(e,o))),t===1)throw n=Go,fl(e,0),Va(e,a),jn(e,Lt()),n;if(t===6)Va(e,a);else{if(o=e.current.alternate,!(a&30)&&!F2(o)&&(t=gi(e,a),t===2&&(i=Gs(e),i!==0&&(a=i,t=bu(e,i))),t===1))throw n=Go,fl(e,0),Va(e,a),jn(e,Lt()),n;switch(e.finishedWork=o,e.finishedLanes=a,t){case 0:case 1:throw Error(ue(345));case 2:sl(e,Mn,Sa);break;case 3:if(Va(e,a),(a&130023424)===a&&(t=uc+500-Lt(),10<t)){if(Qr(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){Nn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=eu(sl.bind(null,e,Mn,Sa),t);break}sl(e,Mn,Sa);break;case 4:if(Va(e,a),(a&4194240)===a)break;for(t=e.eventTimes,o=-1;0<a;){var s=31-aa(a);i=1<<s,s=t[s],s>o&&(o=s),a&=~i}if(a=o,a=Lt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*P2(a/1960))-a,10<a){e.timeoutHandle=eu(sl.bind(null,e,Mn,Sa),a);break}sl(e,Mn,Sa);break;case 5:sl(e,Mn,Sa);break;default:throw Error(ue(329))}}}return jn(e,Lt()),e.callbackNode===n?Xm.bind(null,e):null}function bu(e,t){var n=Io;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),e=gi(e,t),e!==2&&(t=Mn,Mn=n,t!==null&&Nu(t)),e}function Nu(e){Mn===null?Mn=e:Mn.push.apply(Mn,e)}function F2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var o=n[a],i=o.getSnapshot;o=o.value;try{if(!oa(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t){for(t&=~sc,t&=~Fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-aa(t),a=1<<n;e[n]=-1,t&=~a}}function Ff(e){if(Ze&6)throw Error(ue(327));Ul();var t=Qr(e,0);if(!(t&1))return jn(e,Lt()),null;var n=gi(e,t);if(e.tag!==0&&n===2){var a=Gs(e);a!==0&&(t=a,n=bu(e,a))}if(n===1)throw n=Go,fl(e,0),Va(e,t),jn(e,Lt()),n;if(n===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sl(e,Mn,Sa),jn(e,Lt()),null}function cc(e,t){var n=Ze;Ze|=1;try{return e(t)}finally{Ze=n,Ze===0&&(Zl=Lt()+500,Ii&&al())}}function Cl(e){Ua!==null&&Ua.tag===0&&!(Ze&6)&&Ul();var t=Ze;Ze|=1;var n=Gn.transition,a=ot;try{if(Gn.transition=null,ot=1,e)return e()}finally{ot=a,Gn.transition=n,Ze=t,!(Ze&6)&&al()}}function dc(){Ln=Ll.current,vt(Ll)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i2(n)),Ht!==null)for(n=Ht.return;n!==null;){var a=n;switch(Wu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ni();break;case 3:Xl(),vt(Fn),vt(mn),ec();break;case 5:Ju(a);break;case 4:Xl();break;case 13:vt(It);break;case 19:vt(It);break;case 10:Ku(a.type._context);break;case 22:case 23:dc()}n=n.return}if(tn=e,Ht=e=qa(e.current,null),rn=Ln=t,Zt=0,Go=null,sc=Fi=vl=0,Mn=Io=null,cl!==null){for(t=0;t<cl.length;t++)if(n=cl[t],a=n.interleaved,a!==null){n.interleaved=null;var o=a.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,a.next=s}n.pending=a}cl=null}return e}function Km(e,t){do{var n=Ht;try{if(Xu(),Vr.current=di,ci){for(var a=kt.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}ci=!1}if(yl=0,Jt=Kt=kt=null,Oo=!1,Uo=0,ic.current=null,n===null||n.return===null){Zt=1,Go=t,Ht=null;break}e:{var i=e,s=n.return,c=n,m=t;if(t=rn,c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var N=m,h=c,S=h.tag;if(!(h.mode&1)&&(S===0||S===11||S===15)){var C=h.alternate;C?(h.updateQueue=C.updateQueue,h.memoizedState=C.memoizedState,h.lanes=C.lanes):(h.updateQueue=null,h.memoizedState=null)}var r=Cf(s);if(r!==null){r.flags&=-257,Sf(r,s,c,i,t),r.mode&1&&vf(i,N,t),t=r,m=N;var u=t.updateQueue;if(u===null){var f=new Set;f.add(m),t.updateQueue=f}else u.add(m);break e}else{if(!(t&1)){vf(i,N,t),fc();break e}m=Error(ue(426))}}else if(xt&&c.mode&1){var E=Cf(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Sf(E,s,c,i,t),Gu(Kl(m,c));break e}}i=m=Kl(m,c),Zt!==4&&(Zt=2),Io===null?Io=[i]:Io.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Rm(i,m,t);df(i,y);break e;case 1:c=m;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Za===null||!Za.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var M=jm(i,c,t);df(i,M);break e}}i=i.return}while(i!==null)}qm(n)}catch(b){t=b,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function Zm(){var e=fi.current;return fi.current=di,e===null?di:e}function fc(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),tn===null||!(vl&268435455)&&!(Fi&268435455)||Va(tn,rn)}function gi(e,t){var n=Ze;Ze|=2;var a=Zm();(tn!==e||rn!==t)&&(Sa=null,fl(e,t));do try{R2();break}catch(o){Km(e,o)}while(!0);if(Xu(),Ze=n,fi.current=a,Ht!==null)throw Error(ue(261));return tn=null,rn=0,Zt}function R2(){for(;Ht!==null;)Qm(Ht)}function j2(){for(;Ht!==null&&!lC();)Qm(Ht)}function Qm(e){var t=eg(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?qm(e):Ht=t,ic.current=null}function qm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=T2(n,t),n!==null){n.flags&=32767,Ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zt=6,Ht=null;return}}else if(n=O2(n,t,Ln),n!==null){Ht=n;return}if(t=t.sibling,t!==null){Ht=t;return}Ht=t=e}while(t!==null);Zt===0&&(Zt=5)}function sl(e,t,n){var a=ot,o=Gn.transition;try{Gn.transition=null,ot=1,A2(e,t,n,a)}finally{Gn.transition=o,ot=a}return null}function A2(e,t,n,a){do Ul();while(Ua!==null);if(Ze&6)throw Error(ue(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(mC(e,i),e===tn&&(Ht=tn=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jr||(jr=!0,tg(Zr,function(){return Ul(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gn.transition,Gn.transition=null;var s=ot;ot=1;var c=Ze;Ze|=4,ic.current=null,k2(e,n),Gm(n,e),e2(qs),qr=!!Qs,qs=Qs=null,e.current=n,M2(n),oC(),Ze=c,ot=s,Gn.transition=i}else e.current=n;if(jr&&(jr=!1,Ua=e,mi=o),i=e.pendingLanes,i===0&&(Za=null),sC(n.stateNode),jn(e,Lt()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],a(o.value,{componentStack:o.stack,digest:o.digest});if(hi)throw hi=!1,e=Cu,Cu=null,e;return mi&1&&e.tag!==0&&Ul(),i=e.pendingLanes,i&1?e===Su?ko++:(ko=0,Su=e):ko=0,al(),null}function Ul(){if(Ua!==null){var e=Rh(mi),t=Gn.transition,n=ot;try{if(Gn.transition=null,ot=16>e?16:e,Ua===null)var a=!1;else{if(e=Ua,Ua=null,mi=0,Ze&6)throw Error(ue(331));var o=Ze;for(Ze|=4,Se=e.current;Se!==null;){var i=Se,s=i.child;if(Se.flags&16){var c=i.deletions;if(c!==null){for(var m=0;m<c.length;m++){var N=c[m];for(Se=N;Se!==null;){var h=Se;switch(h.tag){case 0:case 11:case 15:To(8,h,i)}var S=h.child;if(S!==null)S.return=h,Se=S;else for(;Se!==null;){h=Se;var C=h.sibling,r=h.return;if(Um(h),h===N){Se=null;break}if(C!==null){C.return=r,Se=C;break}Se=r}}}var u=i.alternate;if(u!==null){var f=u.child;if(f!==null){u.child=null;do{var E=f.sibling;f.sibling=null,f=E}while(f!==null)}}Se=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Se=s;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:To(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Se=y;break e}Se=i.return}}var v=e.current;for(Se=v;Se!==null;){s=Se;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Se=x;else e:for(s=v;Se!==null;){if(c=Se,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Pi(9,c)}}catch(b){pt(c,c.return,b)}if(c===s){Se=null;break e}var M=c.sibling;if(M!==null){M.return=c.return,Se=M;break e}Se=c.return}}if(Ze=o,al(),da&&typeof da.onPostCommitFiberRoot=="function")try{da.onPostCommitFiberRoot(Ei,e)}catch{}a=!0}return a}finally{ot=n,Gn.transition=t}}return!1}function Rf(e,t,n){t=Kl(n,t),t=Rm(e,t,1),e=Ka(e,t,1),t=Nn(),e!==null&&(Zo(e,1,t),jn(e,t))}function pt(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Za===null||!Za.has(a))){e=Kl(n,e),e=jm(t,e,1),t=Ka(t,e,1),e=Nn(),t!==null&&(Zo(t,1,e),jn(t,e));break}}t=t.return}}function p2(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Nn(),e.pingedLanes|=e.suspendedLanes&n,tn===e&&(rn&n)===n&&(Zt===4||Zt===3&&(rn&130023424)===rn&&500>Lt()-uc?fl(e,0):sc|=n),jn(e,t)}function Jm(e,t){t===0&&(e.mode&1?(t=xr,xr<<=1,!(xr&130023424)&&(xr=4194304)):t=1);var n=Nn();e=Ia(e,t),e!==null&&(Zo(e,t,n),jn(e,n))}function _2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jm(e,n)}function L2(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ue(314))}a!==null&&a.delete(t),Jm(e,n)}var eg;eg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)Pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pn=!1,w2(e,t,n);Pn=!!(e.flags&131072)}else Pn=!1,xt&&t.flags&1048576&&lm(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ur(e,t),e=t.pendingProps;var o=Wl(t,mn.current);Yl(t,n),o=nc(null,t,a,e,o,n);var i=ac();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rn(a)?(i=!0,ai(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Qu(t),o.updater=Mi,t.stateNode=o,o._reactInternals=t,iu(t,a,e,n),t=cu(null,t,a,!0,i,n)):(t.tag=0,xt&&i&&Hu(t),Sn(null,t,o,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Ur(e,t),e=t.pendingProps,o=a._init,a=o(a._payload),t.type=a,o=t.tag=D2(a),e=Jn(a,e),o){case 0:t=uu(null,t,a,e,n);break e;case 1:t=Ef(null,t,a,e,n);break e;case 11:t=bf(null,t,a,e,n);break e;case 14:t=Nf(null,t,a,Jn(a.type,e),n);break e}throw Error(ue(306,a,""))}return t;case 0:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Jn(a,o),uu(e,t,a,o,n);case 1:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Jn(a,o),Ef(e,t,a,o,n);case 3:e:{if(Lm(t),e===null)throw Error(ue(387));a=t.pendingProps,i=t.memoizedState,o=i.element,cm(e,t),si(t,a,null,n);var s=t.memoizedState;if(a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Kl(Error(ue(423)),t),t=xf(e,t,a,n,o);break e}else if(a!==o){o=Kl(Error(ue(424)),t),t=xf(e,t,a,n,o);break e}else for(Bn=Xa(t.stateNode.containerInfo.firstChild),Dn=t,xt=!0,ta=null,n=sm(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gl(),a===o){t=ka(e,t,n);break e}Sn(e,t,a,n)}t=t.child}return t;case 5:return dm(t),e===null&&lu(t),a=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Js(a,o)?s=null:i!==null&&Js(a,i)&&(t.flags|=32),_m(e,t),Sn(e,t,s,n),t.child;case 6:return e===null&&lu(t),null;case 13:return Bm(e,t,n);case 4:return qu(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=$l(t,null,a,n):Sn(e,t,a,n),t.child;case 11:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Jn(a,o),bf(e,t,a,o,n);case 7:return Sn(e,t,t.pendingProps,n),t.child;case 8:return Sn(e,t,t.pendingProps.children,n),t.child;case 12:return Sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,dt(ri,a._currentValue),a._currentValue=s,i!==null)if(oa(i.value,s)){if(i.children===o.children&&!Fn.current){t=ka(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){s=i.child;for(var m=c.firstContext;m!==null;){if(m.context===a){if(i.tag===1){m=wa(-1,n&-n),m.tag=2;var N=i.updateQueue;if(N!==null){N=N.shared;var h=N.pending;h===null?m.next=m:(m.next=h.next,h.next=m),N.pending=m}}i.lanes|=n,m=i.alternate,m!==null&&(m.lanes|=n),ou(i.return,n,t),c.lanes|=n;break}m=m.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ue(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ou(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Sn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps.children,Yl(t,n),o=$n(o),a=a(o),t.flags|=1,Sn(e,t,a,n),t.child;case 14:return a=t.type,o=Jn(a,t.pendingProps),o=Jn(a.type,o),Nf(e,t,a,o,n);case 15:return Am(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,o=t.pendingProps,o=t.elementType===a?o:Jn(a,o),Ur(e,t),t.tag=1,Rn(a)?(e=!0,ai(t)):e=!1,Yl(t,n),Fm(t,a,o),iu(t,a,o,n),cu(null,t,a,!0,e,n);case 19:return Dm(e,t,n);case 22:return pm(e,t,n)}throw Error(ue(156,t.tag))};function tg(e,t){return kh(e,t)}function B2(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,a){return new B2(e,t,n,a)}function hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D2(e){if(typeof e=="function")return hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ru)return 11;if(e===ju)return 14}return 2}function qa(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gr(e,t,n,a,o,i){var s=2;if(a=e,typeof e=="function")hc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Il:return hl(n.children,o,i,t);case Fu:s=8,o|=8;break;case Fs:return e=Wn(12,n,t,o|2),e.elementType=Fs,e.lanes=i,e;case Rs:return e=Wn(13,n,t,o),e.elementType=Rs,e.lanes=i,e;case js:return e=Wn(19,n,t,o),e.elementType=js,e.lanes=i,e;case dh:return Ri(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uh:s=10;break e;case ch:s=9;break e;case Ru:s=11;break e;case ju:s=14;break e;case La:s=16,a=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Wn(s,n,t,o),t.elementType=e,t.type=a,t.lanes=i,t}function hl(e,t,n,a){return e=Wn(7,e,a,t),e.lanes=n,e}function Ri(e,t,n,a){return e=Wn(22,e,a,t),e.elementType=dh,e.lanes=n,e.stateNode={isHidden:!1},e}function Os(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function Ts(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z2(e,t,n,a,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rs(0),this.expirationTimes=rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function mc(e,t,n,a,o,i,s,c,m){return e=new z2(e,t,n,c,m),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(i),e}function V2(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tl,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function ng(e){if(!e)return el;e=e._reactInternals;e:{if(Nl(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var n=e.type;if(Rn(n))return nm(e,n,t)}return t}function ag(e,t,n,a,o,i,s,c,m){return e=mc(n,a,!0,e,o,i,s,c,m),e.context=ng(null),n=e.current,a=Nn(),o=Qa(n),i=wa(a,o),i.callback=t??null,Ka(n,i,o),e.current.lanes=o,Zo(e,o,a),jn(e,a),e}function ji(e,t,n,a){var o=t.current,i=Nn(),s=Qa(o);return n=ng(n),t.context===null?t.context=n:t.pendingContext=n,t=wa(i,s),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Ka(o,t,s),e!==null&&(la(e,o,s,i),zr(e,o,s)),s}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gc(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function Y2(){return null}var lg=typeof reportError=="function"?reportError:function(e){console.error(e)};function yc(e){this._internalRoot=e}Ai.prototype.render=yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));ji(e,t,null,null)};Ai.prototype.unmount=yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cl(function(){ji(null,e,null,null)}),t[Ta]=null}};function Ai(e){this._internalRoot=e}Ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=ph();e={blockedOn:null,target:e,priority:t};for(var n=0;n<za.length&&t!==0&&t<za[n].priority;n++);za.splice(n,0,e),n===0&&Lh(e)}};function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Af(){}function U2(e,t,n,a,o){if(o){if(typeof a=="function"){var i=a;a=function(){var N=yi(s);i.call(N)}}var s=ag(t,a,e,0,null,!1,!1,"",Af);return e._reactRootContainer=s,e[Ta]=s.current,Bo(e.nodeType===8?e.parentNode:e),Cl(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var c=a;a=function(){var N=yi(m);c.call(N)}}var m=mc(e,0,!1,null,null,!1,!1,"",Af);return e._reactRootContainer=m,e[Ta]=m.current,Bo(e.nodeType===8?e.parentNode:e),Cl(function(){ji(t,m,n,a)}),m}function _i(e,t,n,a,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var c=o;o=function(){var m=yi(s);c.call(m)}}ji(t,s,e,o)}else s=U2(n,t,e,o,a);return yi(s)}jh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Co(t.pendingLanes);n!==0&&(_u(t,n|1),jn(t,Lt()),!(Ze&6)&&(Zl=Lt()+500,al()))}break;case 13:Cl(function(){var a=Ia(e,1);if(a!==null){var o=Nn();la(a,e,1,o)}}),gc(e,1)}};Lu=function(e){if(e.tag===13){var t=Ia(e,134217728);if(t!==null){var n=Nn();la(t,e,134217728,n)}gc(e,134217728)}};Ah=function(e){if(e.tag===13){var t=Qa(e),n=Ia(e,t);if(n!==null){var a=Nn();la(n,e,t,a)}gc(e,t)}};ph=function(){return ot};_h=function(e,t){var n=ot;try{return ot=e,t()}finally{ot=n}};Us=function(e,t,n){switch(t){case"input":if(_s(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=Ti(a);if(!o)throw Error(ue(90));hh(a),_s(a,o)}}}break;case"textarea":gh(e,n);break;case"select":t=n.value,t!=null&&Bl(e,!!n.multiple,t,!1)}};Eh=cc;xh=Cl;var H2={usingClientEntryPoint:!1,Events:[qo,Fl,Ti,bh,Nh,cc]},mo={findFiberByHostInstance:ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W2={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Th(e),e===null?null:e.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||Y2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ar.isDisabled&&Ar.supportsFiber)try{Ei=Ar.inject(W2),da=Ar}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H2;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(t))throw Error(ue(200));return V2(e,t,null,n)};Vn.createRoot=function(e,t){if(!vc(e))throw Error(ue(299));var n=!1,a="",o=lg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=mc(e,1,!1,null,null,n,!1,a,o),e[Ta]=t.current,Bo(e.nodeType===8?e.parentNode:e),new yc(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=Th(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return Cl(e)};Vn.hydrate=function(e,t,n){if(!pi(t))throw Error(ue(200));return _i(null,e,t,!0,n)};Vn.hydrateRoot=function(e,t,n){if(!vc(e))throw Error(ue(405));var a=n!=null&&n.hydratedSources||null,o=!1,i="",s=lg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=ag(t,null,e,1,n??null,o,!1,i,s),e[Ta]=t.current,Bo(e),a)for(e=0;e<a.length;e++)n=a[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ai(t)};Vn.render=function(e,t,n){if(!pi(t))throw Error(ue(200));return _i(null,e,t,!1,n)};Vn.unmountComponentAtNode=function(e){if(!pi(e))throw Error(ue(40));return e._reactRootContainer?(Cl(function(){_i(null,null,e,!1,function(){e._reactRootContainer=null,e[Ta]=null})}),!0):!1};Vn.unstable_batchedUpdates=cc;Vn.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!pi(n))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return _i(e,t,n,!1,a)};Vn.version="18.3.1-next-f1338f8080-20240426";function og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(og)}catch(e){console.error(e)}}og(),oh.exports=Vn;var G2=oh.exports,pf=G2;Ms.createRoot=pf.createRoot,Ms.hydrateRoot=pf.hydrateRoot;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _f;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(_f||(_f={}));var Lf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Lf||(Lf={}));var Bf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Bf||(Bf={}));var Df;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Df||(Df={}));var vi;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(vi||(vi={}));var zf;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(zf||(zf={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Vf extends $o{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="https://generativelanguage.googleapis.com",X2="v1",K2="0.2.1",Z2="genai-js";var Sl;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Sl||(Sl={}));class er{constructor(t,n,a,o){this.model=t,this.task=n,this.apiKey=a,this.stream=o}toString(){let t=`${$2}/${X2}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function Q2(){return`${Z2}/${K2}`}async function tr(e,t,n){let a;try{if(a=await fetch(e.toString(),Object.assign(Object.assign({},q2(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":Q2(),"x-goog-api-key":e.apiKey},body:t})),!a.ok){let o="";try{const i=await a.json();o=i.error.message,i.error.details&&(o+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${a.status} ${a.statusText}] ${o}`)}}catch(o){const i=new $o(`Error fetching from ${e.toString()}: ${o.message}`);throw i.stack=o.stack,i}return a}function q2(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,a=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=a}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),rg(e.candidates[0]))throw new Vf(`${Ci(e)}`,e);return J2(e)}else if(e.promptFeedback)throw new Vf(`Text not available. ${Ci(e)}`,e);return""},e}function J2(e){var t,n,a,o;return!((o=(a=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||a===void 0?void 0:a[0])===null||o===void 0)&&o.text?e.candidates[0].content.parts[0].text:""}const eS=[vi.RECITATION,vi.SAFETY];function rg(e){return!!e.finishReason&&eS.includes(e.finishReason)}function Ci(e){var t,n,a;let o="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)o+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((a=e.candidates)===null||a===void 0)&&a[0]){const i=e.candidates[0];rg(i)&&(o+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(o+=`: ${i.finishMessage}`))}return o}function Xo(e){return this instanceof Xo?(this.v=e,this):new Xo(e)}function tS(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(C){a[C]&&(o[C]=function(r){return new Promise(function(u,f){i.push([C,r,u,f])>1||c(C,r)})})}function c(C,r){try{m(a[C](r))}catch(u){S(i[0][3],u)}}function m(C){C.value instanceof Xo?Promise.resolve(C.value.v).then(N,h):S(i[0][2],C)}function N(C){c("next",C)}function h(C){c("throw",C)}function S(C,r){C(r),i.shift(),i.length&&c(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function nS(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=oS(t),[a,o]=n.tee();return{stream:lS(a),response:aS(o)}}async function aS(e){const t=[],n=e.getReader();for(;;){const{done:a,value:o}=await n.read();if(a)return Cc(rS(t));t.push(o)}}function lS(e){return tS(this,arguments,function*(){const n=e.getReader();for(;;){const{value:a,done:o}=yield Xo(n.read());if(o)break;yield yield Xo(Cc(a))}})}function oS(e){const t=e.getReader();return new ReadableStream({start(a){let o="";return i();function i(){return t.read().then(({value:s,done:c})=>{if(c){if(o.trim()){a.error(new $o("Failed to parse stream"));return}a.close();return}o+=s;let m=o.match(Yf),N;for(;m;){try{N=JSON.parse(m[1])}catch{a.error(new $o(`Error parsing JSON response: "${m[1]}"`));return}a.enqueue(N),o=o.substring(m[0].length),m=o.match(Yf)}return i()})}}})}function rS(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const a of e)if(a.candidates)for(const o of a.candidates){const i=o.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:o.index}),n.candidates[i].citationMetadata=o.citationMetadata,n.candidates[i].finishReason=o.finishReason,n.candidates[i].finishMessage=o.finishMessage,n.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[i].content||(n.candidates[i].content={role:o.content.role||"user",parts:[{text:""}]});for(const s of o.content.parts)s.text&&(n.candidates[i].content.parts[0].text+=s.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(e,t,n,a){const o=new er(t,Sl.STREAM_GENERATE_CONTENT,e,!0),i=await tr(o,JSON.stringify(n),a);return nS(i)}async function sg(e,t,n,a){const o=new er(t,Sl.GENERATE_CONTENT,e,!1),s=await(await tr(o,JSON.stringify(n),a)).json();return{response:Cc(s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const a of e)typeof a=="string"?n.push({text:a}):n.push(a);return{role:t,parts:n}}function Is(e){return e.contents?e:{contents:[Mo(e,"user")]}}function iS(e){return typeof e=="string"||Array.isArray(e)?{content:Mo(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="SILENT_ERROR";class sS{constructor(t,n,a,o){this.model=n,this.params=a,this.requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,a!=null&&a.history&&(this._history=a.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return Mo(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,a;await this._sendPromise;const o=Mo(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,contents:[...this._history,o]};let s;return this._sendPromise=this._sendPromise.then(()=>sg(this._apiKey,this.model,i,this.requestOptions)).then(c=>{var m;if(c.response.candidates&&c.response.candidates.length>0){this._history.push(o);const N=Object.assign({parts:[],role:"model"},(m=c.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(N)}else{const N=Ci(c.response);N&&console.warn(`sendMessage() was unsuccessful. ${N}. Inspect response object for details.`)}s=c}),await this._sendPromise,s}async sendMessageStream(t){var n,a;await this._sendPromise;const o=Mo(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,contents:[...this._history,o]},s=ig(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>s).catch(c=>{throw new Error(Uf)}).then(c=>c.response).then(c=>{if(c.candidates&&c.candidates.length>0){this._history.push(o);const m=Object.assign({},c.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=Ci(c);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(c=>{c.message!==Uf&&console.error(c)}),s}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(e,t,n,a){const o=new er(t,Sl.COUNT_TOKENS,e,!1);return(await tr(o,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),a)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(e,t,n,a){const o=new er(t,Sl.EMBED_CONTENT,e,!1);return(await tr(o,JSON.stringify(n),a)).json()}async function dS(e,t,n,a){const o=new er(t,Sl.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await tr(o,JSON.stringify({requests:i}),a)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,n,a){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=a||{}}async generateContent(t){const n=Is(t);return sg(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=Is(t);return ig(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new sS(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=Is(t);return uS(this.apiKey,this.model,n)}async embedContent(t){const n=iS(t);return cS(this.apiKey,this.model,n)}async batchEmbedContents(t){return dS(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new $o("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new fS(this.apiKey,t,n)}}var oe=(e=>(e.MONSTERCAT="Monstercat",e.MONSTERCAT_V2="Monstercat ()",e.MONSTERCAT_GLITCH="Monstercat ()",e.NEBULA_WAVE="Nebula Wave",e.LUMINOUS_WAVE="Luminous Wave",e.FUSION="Fusion",e.TECH_WAVE=" (Quantum Pulse)",e.STELLAR_CORE="Stellar Core",e.WATER_RIPPLE=" (Water Ripple)",e.RADIAL_BARS="Radial Bars",e.PARTICLE_GALAXY=" (Full Galaxy)",e.LIQUID_METAL=" (Metal Flower)",e.CRT_GLITCH="CRT Glitch",e.GLITCH_WAVE="Glitch Wave",e.DATA_MOSH=" (Digital Mosh)",e.SIGNAL_SCRAMBLE=" (Signal Scramble)",e.PIXEL_SORT=" (Digital Storm)",e.REPULSOR_FIELD=" (Repulsion Field)",e.AUDIO_LANDSCAPE="",e.PIANO_VIRTUOSO="",e.GEOMETRIC_BARS="",e.Z_CUSTOM="Z",e.VINYL_RECORD="",e.CHINESE_CONTROL_CARD="",e.BASIC_WAVE="",e.LYRIC_PULSE_LINE=" (Lyric Pulse Line)",e.DYNAMIC_CONTROL_CARD="",e.FRAME_PIXELATION=" ",e.PHOTO_SHAKE="",e.CIRCULAR_WAVE="",e.BLURRED_EDGE="",e.KE_YE_CUSTOM_V2="",e))(oe||{}),Fe=(e=>(e.BASIC="",e.ADVANCED="",e.EXPERIMENTAL="",e.SPECIAL="",e.DYNAMIC_CONTROL="",e))(Fe||{}),Et=(e=>(e.SNOW="snow",e.PARTICLES="particles",e.STARS="stars",e.RAIN="rain",e.CHERRY_BLOSSOM="cherry-blossom",e.LIGHTNING="lightning",e.GLITCH1="glitch1",e.GLITCH2="glitch2",e))(Et||{}),Yt=(e=>(e.FILLED="filled",e.OUTLINE="outline",e.TRANSPARENT="transparent",e))(Yt||{}),g=(e=>(e.POPPINS="Poppins",e.ORBITRON="Orbitron",e.LOBSTER="Lobster",e.BUNGEE="Bungee",e.PRESS_START_2P="Press Start 2P",e.PACIFICO="Pacifico",e.DANCING_SCRIPT="Dancing Script",e.ROCKNROLL_ONE="RocknRoll One",e.REGGAE_ONE="Reggae One",e.VT323="VT323",e.NOTO_SANS_TC="Noto Sans TC",e.SOURCE_HAN_SANS="Source Han Sans",e.CW_TEX_KAI="cwTeXKai",e.KLEE_ONE="Klee One",e.QINGSONG_1="QingSong 1",e.QINGSONG_2="QingSong 2",e.TAIPEI_SANS="Taipei Sans TC Beta",e.M_PLUS_ROUNDED="M PLUS Rounded 1c",e.HINA_MINCHO="Hina Mincho",e.RAMPART_ONE="Rampart One",e.ROBOTO_MONO="Roboto Mono",e.OPEN_SANS="Open Sans",e.LATO="Lato",e.MONTSERRAT="Montserrat",e.SOURCE_SANS_PRO="Source Sans Pro",e.RALEWAY="Raleway",e.UBUNTU="Ubuntu",e.PLAYFAIR_DISPLAY="Playfair Display",e.MERRIWEATHER="Merriweather",e.OSWALD="Oswald",e.CAVEAT="Caveat",e.KALAM="Kalam",e.COMFORTAA="Comfortaa",e.FREDOKA_ONE="Fredoka One",e.NUNITO="Nunito",e.QUICKSAND="Quicksand",e.RUBIK="Rubik",e.NOTO_SERIF_TC="Noto Serif TC",e.MA_SHAN_ZHENG="Ma Shan Zheng",e.ZHI_MANG_XING="Zhi Mang Xing",e.LONG_CANG="Long Cang",e.ZCOOL_KUAI_LE="ZCOOL KuaiLe",e.ZCOOL_QING_KE="ZCOOL QingKe HuangYou",e.LIU_JIAN_MAO_CAO="Liu Jian Mao Cao",e.ZCOOL_XIAO_WEI="ZCOOL XiaoWei",e.BAKUDAI="Bakudai",e.MASA_FONT="Masa Font",e))(g||{}),ba=(e=>(e.BLACK="",e.GREEN="",e.WHITE="",e.TRANSPARENT="",e))(ba||{}),Ie=(e=>(e.DEFAULT="",e.CYBERPUNK="",e.SUNSET="",e.GLACIER="",e.LAVA="",e.MIDNIGHT="",e.WHITE="",e.RAINBOW="",e.CUSTOM="",e))(Ie||{}),Y=(e=>(e.NONE="",e.BOLD="",e.SHADOW="",e.NEON="",e.OUTLINE="",e.FAUX_3D="3D",e.GLITCH="",e))(Y||{}),kn=(e=>(e.P720="720p (1280x720)",e.P1080="1080p (1920x1080)",e.P4K="4K (3840x2160)",e.SQUARE_1080="1:1 (1080x1080)",e.SQUARE_4K="1:1 (2160x2160)",e.RATIO_2_1_4K="2:1 (4096x2048)",e.RATIO_2_1_1080="2:1 (1920x960)",e.RATIO_2_1_720="2:1 (1280x640)",e.CURRENT="",e))(kn||{}),bn=(e=>(e.BOTTOM_RIGHT="",e.BOTTOM_LEFT="",e.TOP_RIGHT="",e.TOP_LEFT="",e.CENTER="",e))(bn||{}),nn=(e=>(e.NONE="",e.TRANSPARENT="",e.BLACK="",e))(nn||{}),Ut=(e=>(e.NONE="",e.CLASSIC="",e.LYRICS_SCROLL="",e.WORD_BY_WORD="",e.SLIDING_GROUP="",e.FADE_LINES="",e.PARTIAL_BLUR="",e))(Ut||{}),Ha=(e=>(e.BRACKET=" [00:00.00]",e.SRT="SRT 00:00:14,676 --> 00:00:19,347",e))(Ha||{}),na=(e=>(e.CHINESE="",e.ENGLISH="English",e.KOREAN="",e.JAPANESE="",e))(na||{}),on=(e=>(e.HORIZONTAL="",e.VERTICAL="",e))(on||{}),ce=(e=>(e.TV_STATIC="",e.FADE="",e.SLIDE_LEFT="",e.SLIDE_RIGHT="",e.SLIDE_UP="",e.SLIDE_DOWN="",e.ZOOM_IN="",e.ZOOM_OUT="",e.SPIRAL="",e.WAVE="",e.DIAMOND="",e.CIRCLE="",e.BLINDS="",e.CHECKERBOARD="",e.RANDOM_PIXELS="",e))(ce||{});const un={[g.POPPINS]:"Poppins",[g.ORBITRON]:"Orbitron",[g.LOBSTER]:"Lobster",[g.BUNGEE]:"Bungee",[g.PRESS_START_2P]:"Press Start 2P",[g.PACIFICO]:"Pacifico",[g.DANCING_SCRIPT]:"Dancing Script",[g.ROCKNROLL_ONE]:"RocknRoll One",[g.REGGAE_ONE]:"Reggae One",[g.VT323]:"VT323",[g.NOTO_SANS_TC]:"Noto Sans TC",[g.SOURCE_HAN_SANS]:"Source Han Sans TC",[g.CW_TEX_KAI]:"cwTeXKai",[g.KLEE_ONE]:"Klee One",[g.QINGSONG_1]:"Jason Handwriting 1",[g.QINGSONG_2]:"Jason Handwriting 2",[g.TAIPEI_SANS]:"Taipei Sans TC Beta",[g.M_PLUS_ROUNDED]:"M PLUS Rounded 1c",[g.HINA_MINCHO]:"Hina Mincho",[g.RAMPART_ONE]:"Rampart One",[g.ROBOTO_MONO]:"Roboto Mono",[g.OPEN_SANS]:"Open Sans",[g.LATO]:"Lato",[g.MONTSERRAT]:"Montserrat",[g.SOURCE_SANS_PRO]:"Source Sans Pro",[g.RALEWAY]:"Raleway",[g.UBUNTU]:"Ubuntu",[g.PLAYFAIR_DISPLAY]:"Playfair Display",[g.MERRIWEATHER]:"Merriweather",[g.OSWALD]:"Oswald",[g.CAVEAT]:"Caveat",[g.KALAM]:"Kalam",[g.COMFORTAA]:"Comfortaa",[g.FREDOKA_ONE]:"Fredoka One",[g.NUNITO]:"Nunito",[g.QUICKSAND]:"Quicksand",[g.RUBIK]:"Rubik",[g.NOTO_SERIF_TC]:"Noto Serif TC",[g.MA_SHAN_ZHENG]:"Ma Shan Zheng",[g.ZHI_MANG_XING]:"Zhi Mang Xing",[g.LONG_CANG]:"Long Cang",[g.ZCOOL_KUAI_LE]:"ZCOOL KuaiLe",[g.ZCOOL_QING_KE]:"ZCOOL QingKe HuangYou",[g.LIU_JIAN_MAO_CAO]:"Liu Jian Mao Cao",[g.ZCOOL_XIAO_WEI]:"ZCOOL XiaoWei",[g.BAKUDAI]:"Bakudai",[g.MASA_FONT]:"Masa Font"};let fe=null,_a={cx:0,cy:0,scale:1,initialized:!1};const ge=(e,t)=>{const n=Math.max(0,Math.min(1,t));if(e.startsWith("hsl"))return e.replace("hsl","hsla").replace(")",`, ${n})`);const a=Math.round(n*255).toString(16).padStart(2,"0");return`${e.substring(0,7)}${a}`};let wl=[],mS=.1,Hf=0,go=[],gS=.08,ks=0;const en=(e,t,n,a,o,i)=>{a<2*i&&(i=a/2),o<2*i&&(i=o/2),i<0&&(i=0),e.beginPath(),e.moveTo(t+i,n),e.arcTo(t+a,n,t+a,n+o,i),e.arcTo(t+a,n+o,t,n+o,i),e.arcTo(t,n+o,t,n,i),e.arcTo(t,n,t+a,n,i),e.closePath()},ug=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=64,S=h*2,C=n/S,r=n/2,u=a/2,f=a*.45,E=Math.floor(t.length*.7),[y,v]=s.hueRange,x=v-y;N&&(e.strokeStyle="rgba(0,0,0,0.4)",e.lineWidth=1.5);for(let M=0;M<h;M++){const b=Math.floor(M/h*E),j=t[b]/255,p=Math.pow(j,2.5)*f*i;if(p<2)continue;let d;if(s.name===Ie.WHITE)d=`hsl(220, 10%, ${85+j*15}%)`;else{const R=y+M/h*x,F=m?100:90,V=60+j*10;d=`hsl(${R}, ${F}%, ${V}%)`}e.shadowColor=d,e.shadowBlur=m?10:5,e.fillStyle=d;const I=2,O=C-I,P=Math.min(4,O/3),w=R=>{en(e,R,u-p,O,p,P),e.fill(),N&&e.stroke(),en(e,R,u,O,p,P),e.fill(),N&&e.stroke()};w(r-(M+1)*C+I/2),w(r+M*C+I/2)}e.restore()},yS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=a*.35,r=e.createLinearGradient(0,S,n,S);r.addColorStop(0,"rgba(0, 255, 255, 0)"),r.addColorStop(.2,ge(s.accent,64/255)),r.addColorStop(.5,s.accent),r.addColorStop(.8,ge(s.accent,64/255)),r.addColorStop(1,"rgba(0, 255, 255, 0)"),e.fillStyle=r,e.shadowBlur=30,e.shadowColor=s.accent,e.fillRect(0,S-2,n,4);const u=e.createLinearGradient(h,S-C,h,S+C);u.addColorStop(0,ge(s.secondary,204/255)),u.addColorStop(.4,s.primary),u.addColorStop(.5,s.accent),u.addColorStop(.6,s.primary),u.addColorStop(1,ge(s.secondary,204/255));const f=E=>{const v=t.length*.5,x=[],M=[];for(let j=0;j<=128;j++){const p=j/128,d=Math.floor(p*v),I=E==="left"?h-p*h:h+p*h,O=t[d]/255*C*i,P=Math.sin(j*.1+o*.05)*5*(O/C);x.push({x:I,y:S-(O+P)}),M.push({x:I,y:S+(O+P)})}const b=j=>{if(!(j.length<2)){e.beginPath(),e.moveTo(j[0].x,j[0].y);for(let p=1;p<j.length-1;p++){const d=(j[p].x+j[p+1].x)/2,I=(j[p].y+j[p+1].y)/2;e.quadraticCurveTo(j[p].x,j[p].y,d,I)}e.quadraticCurveTo(j[j.length-1].x,j[j.length-1].y,j[j.length-1].x,j[j.length-1].y),e.stroke()}};N&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",b(x),b(M),e.restore()),e.strokeStyle=u,e.lineWidth=2.5,e.shadowBlur=15,e.shadowColor=s.primary,b(x),b(M)};f("left"),f("right"),e.restore()},Wf=(e,t,n,a,o,i,s,c,m,N,h,S,C,r)=>{if(!t)return;e.save();const u=n/2,f=a/2,E=a*.15,y=t.slice(0,Math.floor(t.length*.1)),x=y.reduce((B,T)=>B+T,0)/y.length>150,M=x?Math.sin(o*.3)*8:0,b=t.reduce((B,T)=>B+T,0)/t.length,j=Math.min(b/120,1),p=800,d=n*.8,I=u-d/2;wl.length!==p+1&&(wl=new Array(p+1).fill(0));const O=performance.now()/1e3,P=O-Hf;Hf=O;const w=Math.exp(-P/mS),R=[],F=[],V=12;for(let B=0;B<=p;B++){const T=B/p,L=I+T*d,z=Math.floor(T*t.length);let A=0,H=0;for(let $=-V;$<=V;$++){const K=Math.max(0,Math.min(t.length-1,z+$));A+=t[K],H++}const W=A/H/255,q=Math.pow(W,.5)*E*i*j*3,re=wl[B]||0;q>re?wl[B]=q:wl[B]=re*w;const Z=wl[B],U=Math.sin(T*Math.PI*2+o*.01)*2,ne=x?Math.sin(T*Math.PI*4+o*.05)*M*.2:0,J=f-Z-U-ne,ee=f+Z*.3+U+ne;R.push({x:L,y:J}),F.push({x:L,y:ee})}const D=6;for(let B=0;B<R.length;B++){let T=0,L=0;for(let z=-D;z<=D;z++){const A=Math.max(0,Math.min(R.length-1,B+z));T+=R[A].y,L++}R[B].y=T/L,T=0,L=0;for(let z=-D;z<=D;z++){const A=Math.max(0,Math.min(F.length-1,B+z));T+=F[A].y,L++}F[B].y=T/L}e.beginPath(),e.moveTo(R[0].x,R[0].y);for(let B=0;B<R.length-1;B++){const T=R[B],L=R[B+1],z=L.x-T.x,A=L.y-T.y,H=T.x+z*.33,W=T.y+A*.05,X=T.x+z*.67,te=L.y-A*.05;e.bezierCurveTo(H,W,X,te,L.x,L.y)}e.strokeStyle="#ffffff",e.lineWidth=4,e.shadowBlur=12,e.shadowColor="#ffffff",e.stroke(),e.beginPath(),e.moveTo(R[0].x,R[0].y);for(let B=0;B<R.length-1;B++){const T=R[B],L=R[B+1],z=L.x-T.x,A=L.y-T.y,H=T.x+z*.33,W=T.y+A*.05,X=T.x+z*.67,te=L.y-A*.05;e.bezierCurveTo(H,W,X,te,L.x,L.y)}if(e.lineTo(R[R.length-1].x,f),e.lineTo(R[0].x,f),e.closePath(),e.fillStyle="#ffffff",e.fill(),x){e.save(),e.globalAlpha=.4,e.strokeStyle=s.accent,e.lineWidth=3,e.shadowBlur=20,e.shadowColor=s.accent;for(let B=0;B<2;B++){const T=o%20*2+B*10;e.beginPath(),e.arc(u,f,T,0,Math.PI*2),e.stroke()}e.restore()}e.restore()},cg=(e,t,n,a,o,i,s,c,m,N,h)=>{if(!t)return;e.save();const S=n/2,C=a/2,r=t.slice(0,32).reduce((F,V)=>F+V,0)/32;t.slice(32,128).reduce((F,V)=>F+V,0)/96,t.slice(128,256).reduce((F,V)=>F+V,0)/128;const u=r/255;fe!=null&&fe.bassEnhancementBlurIntensity;const E=1+u*2;e.fillStyle=s.primary,e.font=`bold ${24+u*8}px Arial`,e.textAlign="center",e.textBaseline="middle",fe!=null&&fe.bassEnhancementCurveIntensity;const v=a*.3*E,x=n*.3*E,M=S-x/2,b=C,j=3;if(e.beginPath(),e.moveTo(M,b),e.lineTo(M+x,b),s.name===Ie.RAINBOW){const F=e.createLinearGradient(M,b,M+x,b),[V,D]=s.hueRange,B=D-V;for(let L=0;L<=10;L++){const z=L/10,A=V+z*B;F.addColorStop(z,`hsl(${A}, 80%, 70%)`)}e.strokeStyle=F;const T=V+B/2;e.shadowColor=`hsl(${T}, 80%, 70%)`}else e.strokeStyle="#FFFFFF",e.shadowColor="#FFFFFF";e.lineWidth=j*E,e.shadowBlur=15*E,e.stroke(),e.shadowBlur=0,e.shadowColor="transparent";const p=40;for(let F=0;F<p;F++){let V,D;const T=[{freq:[0,.2],amp:1.8,width:1.5},{freq:[.2,.6],amp:1.2,width:.9},{freq:[.6,1],amp:1,width:.7},{freq:[0,.15],amp:2,width:1.8},{freq:[.3,.7],amp:1.1,width:1},{freq:[.1,.3],amp:1.6,width:1.3},{freq:[.4,.8],amp:.9,width:.8},{freq:[0,.25],amp:1.9,width:1.6},{freq:[.2,.4],amp:1.3,width:1.1},{freq:[.7,1],amp:.8,width:.6},{freq:[.5,.9],amp:1,width:.9},{freq:[0,.2],amp:1.7,width:1.4},{freq:[.8,1],amp:.7,width:.5},{freq:[.15,.35],amp:1.4,width:1.2},{freq:[.6,.8],amp:1.1,width:.8},{freq:[.05,.25],amp:1.8,width:1.5},{freq:[.3,.5],amp:1.2,width:1},{freq:[.9,1],amp:.6,width:.4},{freq:[.4,.6],amp:1.3,width:1.1},{freq:[.1,.3],amp:1.6,width:1.3},{freq:[0,.18],amp:1.7,width:1.4},{freq:[.25,.65],amp:1.1,width:.8},{freq:[.65,1],amp:.9,width:.6},{freq:[.02,.12],amp:1.9,width:1.7},{freq:[.35,.75],amp:1,width:.9},{freq:[.08,.28],amp:1.5,width:1.2},{freq:[.45,.85],amp:.8,width:.7},{freq:[0,.22],amp:1.8,width:1.5},{freq:[.18,.38],amp:1.2,width:1},{freq:[.72,1],amp:.7,width:.5},{freq:[.52,.92],amp:.9,width:.8},{freq:[0,.19],amp:1.6,width:1.3},{freq:[.82,1],amp:.6,width:.4},{freq:[.12,.32],amp:1.3,width:1.1},{freq:[.62,.82],amp:1,width:.7},{freq:[.03,.23],amp:1.7,width:1.4},{freq:[.28,.48],amp:1.1,width:.9},{freq:[.88,1],amp:.5,width:.3},{freq:[.38,.58],amp:1.2,width:1},{freq:[.07,.27],amp:1.5,width:1.2}][F];V=T.freq[0],D=T.freq[1],T.amp,T.width;const L=Math.floor(V*t.length),z=Math.floor(D*t.length);let A=0;for(let H=L;H<z&&H<t.length;H++)A+=t[H]}if(t){const V=M+20,D=x-20*2,B=b,T=64,L=(W,X,te)=>{if(!t)return .5;const q=t.length,re=Math.max(0,Math.min(q-1,Math.floor(X*q))),Z=Math.max(re+1,Math.min(q,Math.floor(te*q))),U=re+Math.floor(W*(Z-re-1));return t[U]/255},z=T+1,A=Math.max(2,D/z*.6);for(let W=0;W<z;W++){const X=W/(z-1),te=L(X,.05,.35),q=Math.max(0,te-.2),re=Math.pow(q,1.2)*v*2.4,U=V+X*D-A/2,ne=B-re;if(re>0){const J=e.createLinearGradient(0,ne,0,B);if(s.name===Ie.RAINBOW){const[ee,$]=s.hueRange,K=$-ee,de=ee+X*K;J.addColorStop(0,`hsla(${de}, 70%, 60%, 0.85)`),J.addColorStop(1,`hsla(${de}, 70%, 60%, 0.15)`)}else J.addColorStop(0,s.primary+"85"),J.addColorStop(1,s.primary+"15");if(e.fillStyle=J,e.fillRect(U,ne,A,re),s.name===Ie.RAINBOW){const[ee,$]=s.hueRange,K=$-ee,de=ee+X*K;e.fillStyle=`hsla(${de}, 80%, 70%, 0.25)`}else e.fillStyle=s.primary+"25";e.fillRect(U,ne,A,2)}}const H=v*1.8;e.beginPath();for(let W=0;W<=T;W++){const X=W/T,te=L(X,.25,.6),q=Math.max(0,te-.3),re=B-Math.pow(q,1.15)*H,Z=V+X*D;W===0?e.moveTo(Z,re):e.lineTo(Z,re)}if(s.name===Ie.RAINBOW){const W=e.createLinearGradient(V,B,V+D,B),[X,te]=s.hueRange,q=te-X;for(let re=0;re<=10;re++){const Z=re/10,U=X+Z*q;W.addColorStop(Z,`hsla(${U}, 70%, 60%, 0.92)`)}e.strokeStyle=W}else e.strokeStyle="rgba(255,255,255,0.92)";e.lineWidth=2,e.stroke()}const d=h==null?void 0:h.bassEnhancementText,I=(h==null?void 0:h.bassEnhancementTextColor)||"#FFFFFF",O=un[(h==null?void 0:h.bassEnhancementTextFont)||g.POPPINS],P=Math.min(n,a)*(((h==null?void 0:h.bassEnhancementTextSize)||4)/100),w=typeof(h==null?void 0:h.bassEnhancementTextBgOpacity)=="number"?h.bassEnhancementTextBgOpacity:.5,R=C+a*.15;if(d&&d.trim()){e.font=`bold ${P}px ${O}`,e.textAlign="center",e.textBaseline="middle";const V=e.measureText(d).width,D=P*1.2;if(w>0){const B=P*.3,T=P*.2,L=V+B*2,z=D+T*2,A=S-L/2,H=R-D/2-T;e.fillStyle=`rgba(0, 0, 0, ${w})`,en(e,A,H,L,z,P*.1),e.fill()}e.fillStyle=I,e.font=`bold ${P}px ${O}`,e.textAlign="center",e.textBaseline="middle",e.shadowBlur=10,e.shadowColor=I,e.fillText(d,S,R),e.shadowBlur=0,e.shadowColor="transparent"}e.restore()},dg=(e,t,n,a,o,i,s,c,m,N,h)=>{if(!t)return;e.save();const S=n/2,C=a/2,r=Math.pow(t[0]/255,2),u=Math.pow(t[Math.floor(t.length*.3)]/255,2),f=Math.pow(t[Math.floor(t.length*.7)]/255,2),E=n*.7,y=a*.7,v=S-E/2,x=C-y/2;e.save();const M=(h==null?void 0:h.bassEnhancementBlurIntensity)||.5,b=.6+u*.2;e.globalAlpha=b;const j=Math.max(n,a)*.5,p=Math.max(12,Math.floor(24-r*12*M));e.fillStyle="rgba(20, 20, 30, 0.6)";for(let te=-j;te<n+j;te+=p)for(let q=-j;q<a+j;q+=p){if(te>=v&&te<v+E&&q>=x&&q<x+y)continue;const re=.3+Math.random()*.3;e.globalAlpha=re*b,e.fillStyle="rgba(15, 15, 25, 0.7)",e.fillRect(te,q,p,p)}e.restore();const d=r*12,I=Math.sin(o*.1)*d,O=Math.cos(o*.08)*d,w=1+r*.15+Math.sin(o*.05)*r*.05,R=E*w,F=y*w,V=S-R/2+I,D=C-F/2+O;e.save();const B=(h==null?void 0:h.bassEnhancementCenterOpacity)??.3;e.globalAlpha=B,e.fillStyle=`rgba(25, 25, 35, ${B})`,e.shadowBlur=25*w,e.shadowColor="#FFFFFF";const T=15*w;e.beginPath(),e.moveTo(V+T,D),e.lineTo(V+R-T,D),e.quadraticCurveTo(V+R,D,V+R,D+T),e.lineTo(V+R,D+F-T),e.quadraticCurveTo(V+R,D+F,V+R-T,D+F),e.lineTo(V+T,D+F),e.quadraticCurveTo(V,D+F,V,D+F-T),e.lineTo(V,D+T),e.quadraticCurveTo(V,D,V+T,D),e.fill(),e.restore(),e.strokeStyle=s.accent,e.lineWidth=(2+f)*w,e.shadowBlur=10*w,e.shadowColor=s.accent,e.stroke(),h!=null&&h.bassEnhancementCurveIntensity;const L=F*.6,z=R*.3,A=V+R*.1,H=D+F*.7,W=3,X=A;if(e.beginPath(),e.moveTo(X,H),e.lineTo(X+z,H),e.strokeStyle="#FFFFFF",e.lineWidth=W,e.shadowBlur=10,e.shadowColor="#FFFFFF",e.stroke(),e.shadowBlur=0,e.shadowColor="transparent",t){const q=A+20,re=z-20*2,Z=H,U=64,ne=(K,de,me)=>{if(!t)return .5;const ie=t.length,le=Math.max(0,Math.min(ie-1,Math.floor(de*ie))),ve=Math.max(le+1,Math.min(ie,Math.floor(me*ie))),Pe=le+Math.floor(K*(ve-le-1));return t[Pe]/255},J=U+1,ee=Math.max(2,re/J*.6);for(let K=0;K<J;K++){const de=K/(J-1),me=ne(de,.05,.35),ie=Math.max(0,me-.2),le=Math.pow(ie,1.2)*L*2.4,Pe=q+de*re-ee/2,Me=Z-le;if(le>0){const ye=e.createLinearGradient(0,Me,0,Z);ye.addColorStop(0,"rgba(255,255,255,0.9)"),ye.addColorStop(1,"rgba(255,255,255,0.3)"),e.fillStyle=ye,e.shadowBlur=8,e.shadowColor="#FFFFFF",e.fillRect(Pe,Me,ee,le)}}const $=L*1.8;e.beginPath();for(let K=0;K<=U;K++){const de=K/U,me=ne(de,.25,.6),ie=Math.max(0,me-.3),le=Z-Math.pow(ie,1.15)*$,ve=q+de*re;K===0?e.moveTo(ve,le):e.lineTo(ve,le)}e.strokeStyle="rgba(255,255,255,0.92)",e.lineWidth=2,e.stroke()}e.restore()},vS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=a/2,S=n/2,[C,r]=s.hueRange,u=r-C,f=(fe==null?void 0:fe.fusionCenterOpacity)??1,E=128,y=n/E;for(let P=0;P<E;P++){const w=Math.floor(P*(t.length*.7/E)),R=Math.pow(t[w]/255,2)*a*.8*i;if(R<1)continue;let F;s.name===Ie.WHITE?F=`hsl(220, 5%, ${80+t[w]/255*20}%)`:F=`hsl(${C+P/E*u}, 80%, 60%)`,e.fillStyle=F,e.shadowColor=F,e.shadowBlur=5;const V=P*y+y/2,D=8,B=Math.floor(R/D);for(let T=0;T<B;T++){const L=a-T*D,z=1-Math.pow(T/B,2);e.globalAlpha=z;const A=1+t[w]/255*1.5;e.beginPath(),e.arc(V,L-D/2,A,0,Math.PI*2),e.fill()}}e.globalAlpha=1,e.shadowBlur=0;const v=Math.floor(n/2),x=t.length*.35,M=[];for(let P=0;P<=v/2;P++){const w=P/(v/2),R=S-w*S,F=Math.floor(w*x),V=Math.pow(t[F]/255,2)*150*i;M.push({x:R,y_amp:V})}const b=M.slice(1).reverse().map(P=>({x:n-P.x,y_amp:P.y_amp})),j=[...M,...b];e.save(),e.globalAlpha*=Math.max(0,Math.min(1,f));const p=.6,d=1.2;e.beginPath();const I=j[0],O=Math.sin(I.x*.05+o*.02)*5;e.moveTo(I.x,h+I.y_amp*p+O);for(const P of j){const w=Math.sin(P.x*.05+o*.02)*5;e.lineTo(P.x,h+P.y_amp*p+w)}N&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.beginPath();for(let P=j.length-1;P>=0;P--){const w=j[P],R=Math.sin(w.x*.05+o*.02)*5;P===j.length-1?e.moveTo(w.x,h-w.y_amp*p+R):e.lineTo(w.x,h-w.y_amp*p+R)}N&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.fillStyle=s.secondary,e.shadowColor=s.secondary,e.shadowBlur=10;for(const P of j){const w=Math.sin(P.x*.08+o*-.03)*8,R=h+P.y_amp*d+w,F=h-P.y_amp*d+w;e.beginPath(),e.arc(P.x,R,1.5,0,Math.PI*2),e.fill(),e.beginPath(),e.arc(P.x,F,1.5,0,Math.PI*2),e.fill()}e.restore(),e.restore()},CS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=a/2,S=n/2,C=Math.floor(n/2),r=t.length*.35,u=[];for(let b=0;b<=C/2;b++){const j=b/(C/2),p=S-j*S,d=Math.floor(j*r),I=Math.pow(t[d]/255,2)*150*i;u.push({x:p,y_amp:I})}const f=u.slice(1).reverse().map(b=>({x:n-b.x,y_amp:b.y_amp})),E=[...u,...f],y=.6,v=1.2;e.beginPath();const x=E[0],M=Math.sin(x.x*.05+o*.02)*5;e.moveTo(x.x,h+x.y_amp*y+M);for(const b of E){const j=Math.sin(b.x*.05+o*.02)*5;e.lineTo(b.x,h+b.y_amp*y+j)}N&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.beginPath();for(let b=E.length-1;b>=0;b--){const j=E[b],p=Math.sin(j.x*.05+o*.02)*5;b===E.length-1?e.moveTo(j.x,h-j.y_amp*y+p):e.lineTo(j.x,h-j.y_amp*y+p)}N&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.restore()),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=15,e.stroke(),e.fillStyle=s.secondary,e.shadowColor=s.secondary,e.shadowBlur=10;for(const b of E){const j=Math.sin(b.x*.08+o*-.03)*8,p=h+b.y_amp*v+j,d=h-b.y_amp*v+j;e.beginPath(),e.arc(b.x,p,1.5,0,Math.PI*2),e.fill(),e.beginPath(),e.arc(b.x,d,1.5,0,Math.PI*2),e.fill()}e.restore()},SS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=t.slice(0,16).reduce((B,T)=>B+T,0)/16,r=t.slice(200,256).reduce((B,T)=>B+T,0)/56,u=t.slice(150,200).reduce((B,T)=>B+T,0)/50,f=t.slice(100,150).reduce((B,T)=>B+T,0)/50,E=t.slice(64,100).reduce((B,T)=>B+T,0)/36,y=t.slice(32,64).reduce((B,T)=>B+T,0)/32,v=t.slice(16,32).reduce((B,T)=>B+T,0)/16,x=t.slice(8,16).reduce((B,T)=>B+T,0)/8,M=t.slice(4,8).reduce((B,T)=>B+T,0)/4,b=t.slice(0,4).reduce((B,T)=>B+T,0)/4,j=Math.pow(C/255,1.5)*i,p=Math.pow(r/255,1.2)*i,d=Math.pow(u/255,1.3)*i,I=Math.pow(f/255,1.4)*i,O=Math.pow(E/255,1.3)*i,P=Math.pow(y/255,1.5)*i,w=Math.pow(v/255,1.4)*i,R=Math.pow(x/255,1.6)*i,F=Math.pow(M/255,1.7)*i,V=Math.pow(b/255,1.8)*i,D=[{name:"Sun",radius:25,distance:0,color:"#FFD700",audio:j,speed:.01,glow:!0},{name:"Mercury",radius:8,distance:60,color:"#A0522D",audio:p,speed:.03,glow:!1},{name:"Venus",radius:12,distance:90,color:"#FFA500",audio:d,speed:.025,glow:!1},{name:"Earth",radius:13,distance:130,color:"#4169E1",audio:I,speed:.02,glow:!1},{name:"Mars",radius:10,distance:170,color:"#DC143C",audio:O,speed:.018,glow:!1},{name:"Jupiter",radius:20,distance:220,color:"#DAA520",audio:P,speed:.015,glow:!1},{name:"Saturn",radius:18,distance:280,color:"#F4A460",audio:w,speed:.012,glow:!1},{name:"Uranus",radius:15,distance:340,color:"#40E0D0",audio:R,speed:.01,glow:!1},{name:"Neptune",radius:14,distance:400,color:"#1E90FF",audio:F,speed:.008,glow:!1},{name:"Pluto",radius:6,distance:450,color:"#696969",audio:V,speed:.005,glow:!1}];e.strokeStyle="rgba(255, 255, 255, 0.1)",e.lineWidth=1,D.forEach(B=>{B.distance>0&&(e.beginPath(),e.arc(h,S,B.distance,0,Math.PI*2),e.stroke())}),D.forEach((B,T)=>{if(B.distance>0&&B.audio>.1){const L=o*B.speed+T*Math.PI/5,z=h+Math.cos(L)*B.distance,A=S+Math.sin(L)*B.distance,H=B.radius*2.5+B.audio*20,W=8;e.beginPath();const X=0,te=z+Math.cos(X)*H,q=A+Math.sin(X)*H;e.moveTo(te,q);for(let ne=0;ne<=W;ne++){const ee=ne/W*Math.PI*2,$=Math.sin(o*.05+ne*.8)*(B.audio*8),K=H+$,de=z+Math.cos(ee)*K,me=A+Math.sin(ee)*K;if(ne!==0)if(ne===W)e.lineTo(te,q);else{const ie=(ne-1)/W*Math.PI*2,le=H+Math.sin(o*.05+(ne-1)*.8)*(B.audio*8),ve=z+Math.cos(ie)*le,Pe=A+Math.sin(ie)*le,Me=(ve+de)/2,ye=(Pe+me)/2;e.quadraticCurveTo(ve,Pe,Me,ye)}}const re=e.createRadialGradient(z,A,0,z,A,H),Z=B.color,U=B.audio*.3;re.addColorStop(0,ge(Z,U*.8)),re.addColorStop(.5,ge(Z,U*.4)),re.addColorStop(1,"transparent"),e.fillStyle=re,e.fill(),e.strokeStyle=ge(Z,U*.6),e.lineWidth=1,e.stroke()}}),D.forEach((B,T)=>{const L=o*B.speed+T*Math.PI/5,z=h+Math.cos(L)*B.distance,A=S+Math.sin(L)*B.distance,H=1+B.audio*1.5,W=B.radius*H;if(B.glow){const q=e.createRadialGradient(z,A,0,z,A,W*3);q.addColorStop(0,B.color),q.addColorStop(.3,ge(B.color,.8)),q.addColorStop(.7,ge(B.color,.4)),q.addColorStop(1,"transparent"),e.fillStyle=q,e.beginPath(),e.arc(z,A,W*3,0,Math.PI*2),e.fill()}const X=e.createRadialGradient(z,A,0,z,A,W),te=B.audio>.3?"#FFFFFF":B.color;if(X.addColorStop(0,te),X.addColorStop(.7,ge(te,.9)),X.addColorStop(1,ge(te,.7)),e.fillStyle=X,e.shadowColor=B.color,e.shadowBlur=B.glow?30:15,e.beginPath(),e.arc(z,A,W,0,Math.PI*2),e.fill(),B.name==="Saturn"){const q=e.createRadialGradient(z,A,W,z,A,W*1.8);q.addColorStop(0,"transparent"),q.addColorStop(.3,ge(B.color,.4)),q.addColorStop(.7,ge(B.color,.6)),q.addColorStop(1,"transparent"),e.fillStyle=q,e.beginPath(),e.ellipse(z,A,W*1.8,W*.3,L,0,Math.PI*2),e.fill()}if(B.name==="Earth"){const q=e.createRadialGradient(z,A,W,z,A,W*1.3);q.addColorStop(0,"transparent"),q.addColorStop(.5,ge("#87CEEB",.3)),q.addColorStop(1,"transparent"),e.fillStyle=q,e.beginPath(),e.arc(z,A,W*1.3,0,Math.PI*2),e.fill()}}),e.restore()},bS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=t.slice(0,32).reduce((w,R)=>w+R,0)/32,r=t.slice(32,96).reduce((w,R)=>w+R,0)/64,u=t.slice(96,128).reduce((w,R)=>w+R,0)/32,f=C/255,E=r/255,y=u/255,v=Math.min(n,a)*.5,x=e.createRadialGradient(h,S,0,h,S,v);x.addColorStop(0,ge(s.primary,.08)),x.addColorStop(1,"transparent"),e.fillStyle=x,e.fillRect(0,0,n,a);const M=8;for(let w=0;w<M;w++){const R=w/M*Math.PI*2+o*.015,F=v*.6,V=h+Math.cos(R)*F,D=S+Math.sin(R)*F,B=6+f*4*i,T=w%3===0?s.primary:w%3===1?s.secondary:s.accent;if(e.fillStyle=T,e.shadowColor=T,e.shadowBlur=12,e.beginPath(),e.arc(V,D,B,0,Math.PI*2),e.fill(),w%2===0){const X=B+8+E*8*i,te=.3;e.strokeStyle=ge(T,te),e.lineWidth=1.5,e.setLineDash([4,4]),e.beginPath(),e.arc(V,D,X,0,Math.PI*2),e.stroke()}e.setLineDash([]);const z=(w+1)%M/M*Math.PI*2+o*.015,A=h+Math.cos(z)*F,H=S+Math.sin(z)*F,W=.2+y*.3;e.strokeStyle=ge(s.accent,W),e.lineWidth=1,e.setLineDash([2,2]),e.beginPath(),e.moveTo(V,D),e.lineTo(A,H),e.stroke()}e.setLineDash([]);const b=20+f*30*i,j=2;for(let w=0;w<j;w++){const R=b+w*10,F=.6-w*.3,V=w%2===0?s.primary:s.secondary,D=e.createRadialGradient(h,S,0,h,S,R);D.addColorStop(0,ge(V,F)),D.addColorStop(1,"transparent"),e.fillStyle=D,e.shadowColor=V,e.shadowBlur=15,e.beginPath(),e.arc(h,S,R,0,Math.PI*2),e.fill()}const p=4;for(let w=0;w<p;w++){const R=w/p*Math.PI*2+o*.008,F=40+E*60*i,V=2+y*3;e.strokeStyle=ge(s.accent,.5),e.lineWidth=1.5,e.shadowColor=s.accent,e.shadowBlur=8,e.beginPath();for(let D=0;D<n;D+=6){const B=D/n,T=Math.sin(B*V*Math.PI+o*.015)*F,L=h+(D-h)*Math.cos(R)-T*Math.sin(R),z=S+(D-h)*Math.sin(R)+T*Math.cos(R);D===0?e.moveTo(L,z):e.lineTo(L,z)}e.stroke()}const d=32,I=n/d;for(let w=0;w<d;w++){const R=Math.floor(w/d*t.length),F=t[R]/255,V=Math.pow(F,1.3)*a*.25*i;if(V<3)continue;const D=w*I,B=a-V,T=m&&Math.random()>.9?(Math.random()-.5)*4:0,L=m&&Math.random()>.95?Math.random()*8:0;let z;w<d*.33?z=ge(s.primary,.7+F*.2):w<d*.66?z=ge(s.secondary,.7+F*.2):z=ge(s.accent,.7+F*.2),e.fillStyle=z;const A=D+T,H=B,W=V+L;e.fillRect(A,H,I-1,W)}const O=40+f*60*i;for(let w=0;w<O;w++){const R=w/O*Math.PI*2+o*.003,F=30+Math.sin(o*.02+w*.05)*40,V=h+Math.cos(R)*F,D=S+Math.sin(R)*F,B=1.5+E*2*i,T=.6+y*.2;e.fillStyle=ge(s.accent,T),e.shadowColor=s.accent,e.shadowBlur=8,e.beginPath(),e.arc(V,D,B,0,Math.PI*2),e.fill()}const P=6;for(let w=0;w<P;w++){const R=w/P*Math.PI*2+o*.01,F=v*.3+f*40*i;e.strokeStyle=ge(s.primary,.3),e.lineWidth=1.5,e.setLineDash([8,8]),e.beginPath(),e.moveTo(h,S),e.lineTo(h+Math.cos(R)*F,S+Math.sin(R)*F),e.stroke()}e.setLineDash([]),e.restore()},NS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=(fe==null?void 0:fe.stellarCoreInnerOpacity)??1,r=(fe==null?void 0:fe.stellarCoreTentaclesOpacity)??1,u=t.slice(0,32).reduce((P,w)=>P+w,0)/32,f=t.slice(32,128).reduce((P,w)=>P+w,0)/96,E=t.slice(128,256).reduce((P,w)=>P+w,0)/128,y=u/255,v=f/255,x=E/255;e.save();const M=4,b=Math.min(n,a)*.5;for(let P=0;P<M;P++){const w=(o+P*20)%100,R=w/100*b,F=Math.max(0,1-w/100)*.8;if(F>.05){const V=(y*.5+v*.3+x*.2)*i,D=m?s.accent:s.primary;e.strokeStyle=ge(D,F*V),e.lineWidth=Math.max(2,6-P*1),e.shadowBlur=15,e.shadowColor=D,e.beginPath(),e.arc(h,S,R,0,Math.PI*2),e.stroke(),P%3===0&&(e.strokeStyle=ge(s.secondary,F*V*.5),e.lineWidth=Math.max(1,3-P*.5),e.shadowBlur=8,e.shadowColor=s.secondary,e.beginPath(),e.arc(h,S,R+3,0,Math.PI*2),e.stroke())}}if(m&&Math.random()>.5)for(let w=0;w<2;w++){const R=(o+w*30)%60,F=R/60*b*.6,V=Math.max(0,1-R/60)*.7;V>.08&&(e.strokeStyle=ge(s.accent,V),e.lineWidth=4,e.shadowBlur=20,e.shadowColor=s.accent,e.beginPath(),e.arc(h,S,F,0,Math.PI*2),e.stroke())}const j=8;for(let P=0;P<j;P++){const w=P/j*Math.PI*2+o*.02,R=Math.min(n,a)*.25,F=h+Math.cos(w)*R,V=S+Math.sin(w)*R,D=t[Math.floor(P/j*t.length)]/255;if(D>.12){const B=D*25*i,T=s.secondary,L=B*2,z=D*.4;z>.08&&(e.strokeStyle=ge(T,z),e.lineWidth=2,e.shadowBlur=8,e.shadowColor=T,e.beginPath(),e.arc(F,V,L,0,Math.PI*2),e.stroke()),e.fillStyle=ge(T,D*1),e.shadowBlur=15,e.shadowColor=T,e.beginPath(),e.arc(F,V,B,0,Math.PI*2),e.fill(),e.shadowBlur=20,e.fillStyle=ge(T,D*.2),e.beginPath(),e.arc(F,V,B*1.3,0,Math.PI*2),e.fill()}}e.save(),e.globalAlpha*=Math.max(0,Math.min(1,r));const p=90,d=Math.min(n,a)*.12;for(let P=0;P<p;P++){const w=Math.floor(P/p*(t.length*.5)),R=Math.pow(t[w]/255,1.5)*120*i;if(R<2)continue;const F=P/p*Math.PI*2,V=h+Math.cos(F)*d,D=S+Math.sin(F)*d,B=h+Math.cos(F)*(d+R),T=S+Math.sin(F)*(d+R),L=d+R/2,z=R/15+Math.sin(o*.03+P*.05)*8,A=h+Math.cos(F)*L,H=S+Math.sin(F)*L+Math.sin(o*.03+P*.05)*z,W=()=>{e.beginPath(),e.moveTo(V,D),e.quadraticCurveTo(A,H,B,T),e.stroke()};if(N&&(e.save(),e.lineWidth=4,e.strokeStyle="rgba(0,0,0,0.6)",e.shadowBlur=0,e.shadowColor="transparent",W(),e.restore()),e.strokeStyle=s.primary,e.shadowColor=s.primary,e.shadowBlur=6,e.lineWidth=3,W(),R>60&&P%30===0){const X=Math.min(12,R*.08),te=R/120*.5;e.strokeStyle=ge(s.accent,te),e.lineWidth=1.5,e.shadowBlur=4,e.shadowColor=s.accent,e.beginPath(),e.arc(B,T,X,0,Math.PI*2),e.stroke()}}e.restore(),e.save(),e.globalAlpha*=Math.max(0,Math.min(1,C));const I=Math.min(n,a)*.05+y*40,O=e.createRadialGradient(h,S,0,h,S,I);if(O.addColorStop(0,s.accent),O.addColorStop(.4,s.primary),O.addColorStop(1,"rgba(0, 150, 200, 0)"),e.shadowBlur=30,e.shadowColor=s.primary,e.fillStyle=O,e.beginPath(),e.arc(h,S,I,0,Math.PI*2),e.fill(),m&&Math.random()>.6)for(let w=0;w<3;w++){const R=(o+w*15)%60,F=I+R/60*30,V=Math.max(0,1-R/60)*.6;V>.08&&(e.strokeStyle=ge(s.accent,V),e.lineWidth=3,e.shadowBlur=15,e.shadowColor=s.accent,e.beginPath(),e.arc(h,S,F,0,Math.PI*2),e.stroke())}if(m&&Math.random()>.7)for(let w=0;w<2;w++){const R=(o+w*25)%50,F=I+R/50*40,V=Math.max(0,1-R/50)*.5;V>.08&&(e.strokeStyle=ge(s.accent,V),e.lineWidth=4,e.shadowBlur=20,e.shadowColor=s.accent,e.beginPath(),e.arc(h,S,F,0,Math.PI*2),e.stroke())}e.restore(),e.restore()},ES=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=t.slice(0,32).reduce((p,d)=>p+d,0)/32,r=t.slice(32,128).reduce((p,d)=>p+d,0)/96,u=t.slice(128,256).reduce((p,d)=>p+d,0)/128,f=C/255,E=r/255,y=u/255,v=5,x=Math.min(n,a)*.45;for(let p=0;p<v;p++){const d=(o+p*15)%100,I=d/100*x,O=Math.max(0,1-d/100)*.7;if(O>.05){const P=(f*.5+E*.3+y*.2)*i,w=m?s.accent:s.primary;if(e.strokeStyle=ge(w,O*P),e.lineWidth=Math.max(1,4-p*.6),e.shadowBlur=20,e.shadowColor=w,e.beginPath(),e.arc(h,S,I,0,Math.PI*2),e.stroke(),p===0&&m)for(let F=0;F<12;F++){const V=F/12*Math.PI*2,D=I+Math.sin(o*.15+F)*8,B=h+Math.cos(V)*D,T=S+Math.sin(V)*D;e.beginPath(),e.arc(B,T,3,0,Math.PI*2),e.fillStyle=ge(w,O*.9),e.fill()}}}const M=Math.min(n,a)*.08+f*40,b=e.createRadialGradient(h,S,0,h,S,M);b.addColorStop(0,s.accent),b.addColorStop(.4,s.primary),b.addColorStop(1,"rgba(0, 150, 200, 0)"),e.shadowBlur=50,e.shadowColor=s.primary,e.fillStyle=b,e.beginPath(),e.arc(h,S,M,0,Math.PI*2),e.fill();const j=8;for(let p=0;p<j;p++){const d=p/j*Math.PI*2+o*.02,I=Math.min(n,a)*.25,O=h+Math.cos(d)*I,P=S+Math.sin(d)*I,w=t[Math.floor(p/j*t.length)]/255;if(w>.1){const R=w*20*i,F=s.secondary;e.fillStyle=ge(F,w*.8),e.shadowBlur=15,e.shadowColor=F,e.beginPath(),e.arc(O,P,R,0,Math.PI*2),e.fill()}}e.restore()},xS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=Math.min(n,a)*.22,r=C+n*.015,u=(f,E,y,v,x,M,b)=>{const j=m?s.accent:s.primary;for(let p=0;p<E;p++){const d=Math.floor(v+p/E*(x-v)),I=Math.pow(t[d]/255,2)*y*i;if(I<1)continue;const O=p/E*Math.PI*2-Math.PI/2,P=h+Math.cos(O)*f,w=S+Math.sin(O)*f,R=h+Math.cos(O)*(f+I*M),F=S+Math.sin(O)*(f+I*M),V=()=>{e.beginPath(),e.moveTo(P,w),e.lineTo(R,F),e.stroke()};N&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=b+2,e.shadowBlur=0,e.shadowColor="transparent",V(),e.restore()),e.strokeStyle=j,e.shadowBlur=10,e.shadowColor=j,e.lineWidth=b,V()}};u(C,128,Math.min(n,a)*.08,0,64,-1,2),u(r,128,Math.min(n,a)*.28,100,t.length/4,1,2),e.restore()},wS=(e,t,n,a,o,i,s,c,m)=>{if(!t)return;e.save();const N=n/2,h=a/2,S=t.slice(0,16).reduce((d,I)=>d+I,0)/16,C=t.slice(16,64).reduce((d,I)=>d+I,0)/48,r=t.slice(64,128).reduce((d,I)=>d+I,0)/64,u=S/255,f=C/255,E=r/255,y=6+Math.floor(f*2*i),x=Math.min(n,a)*.15+u*80*i;for(let d=0;d<y;d++){const I=d/y*Math.PI*2+o*.008,O=d%2===0?s.primary:s.secondary,P=N+Math.cos(I)*15,w=h+Math.sin(I)*15,R=N+Math.cos(I)*x,F=h+Math.sin(I)*x,V=P+Math.cos(I+.2)*x*.4,D=w+Math.sin(I+.2)*x*.4,B=P+Math.cos(I-.2)*x*.4,T=w+Math.sin(I-.2)*x*.4,L=4+f*6*i,z=e.createLinearGradient(P,w,R,F);z.addColorStop(0,ge(O,.8)),z.addColorStop(.5,ge(O,.6)),z.addColorStop(1,ge(O,.3)),e.strokeStyle=z,e.lineWidth=L,e.lineCap="round",e.shadowColor=O,e.shadowBlur=8+u*8*i,e.beginPath(),e.moveTo(P,w),e.bezierCurveTo(V,D,B,T,R,F),e.stroke()}const M=20+u*40*i,b=e.createRadialGradient(N,h,0,N,h,M);b.addColorStop(0,s.accent),b.addColorStop(.6,s.primary),b.addColorStop(1,"transparent"),e.fillStyle=b,e.shadowColor=s.accent,e.shadowBlur=15+u*10*i,e.beginPath(),e.arc(N,h,M,0,Math.PI*2),e.fill();const j=2+Math.floor(f*i);for(let d=0;d<j;d++){const I=M+20+d*15+u*20*i,O=o*(.015+d*.008),P=.5-d*.2+E*.1;e.strokeStyle=ge(s.accent,P),e.lineWidth=2+f*i,e.setLineDash([10,10]);const w=4+Math.floor(f*2*i);for(let R=0;R<w;R++){const F=R/w*Math.PI*2+O,V=(R+1)/w*Math.PI*2+O;e.beginPath(),e.arc(N,h,I,F,V),e.stroke()}}e.setLineDash([]);const p=8+E*20*i;for(let d=0;d<p;d++){const I=d/p*Math.PI*2+o*.003,O=60+Math.sin(o*.02+d*.1)*30+u*20*i,P=N+Math.cos(I)*O,w=h+Math.sin(I)*O,R=2+f*4*i,F=e.createRadialGradient(P,w,0,P,w,R);F.addColorStop(0,s.accent),F.addColorStop(1,"transparent"),e.fillStyle=F,e.shadowColor=s.accent,e.shadowBlur=8+f*5*i,e.beginPath(),e.arc(P,w,R,0,Math.PI*2),e.fill()}m&&Math.random()>.6&&(e.fillStyle=ge(s.primary,.2),e.beginPath(),e.arc(N,h,M*1.5,0,Math.PI*2),e.fill()),e.restore()},OS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=a/2,S=new Path2D,C=n/(t.length*.5);let r=0;for(let u=0;u<t.length*.5;u++){const f=Math.pow(t[u]/255,1.5)*a*.3*i,E=h+f;u===0?S.moveTo(r,E):S.lineTo(r,E),r+=C}N&&(e.save(),e.strokeStyle="rgba(0,0,0,0.7)",e.lineWidth=4.5,e.shadowBlur=0,e.shadowColor="transparent",e.stroke(S),e.restore(),e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=10,e.stroke(S)),e.fillStyle="rgba(0, 0, 0, 0.1)";for(let u=0;u<a;u+=12)e.fillRect(0,u,n,1);if(m&&Math.random()>.6){const u=Math.floor(Math.random()*3)+1;for(let f=0;f<u;f++){const E=Math.random()*a,y=Math.random()*a/15+3,v=0,x=n,M=(Math.random()-.5)*25,b=E;try{e.drawImage(e.canvas,v,E,x,y,M,b,x,y)}catch{}}}e.restore()},TS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=a/2,S=(C,r=0,u=0,f)=>{e.strokeStyle=C,f&&(e.lineWidth=f),e.beginPath();const E=n/(t.length*.5);let y=0;for(let v=0;v<t.length*.5;v++){const x=Math.pow(t[v]/255,1.5)*a*.3*i,M=h+x+u;v===0?e.moveTo(y,M):e.lineTo(y,M),y+=E}e.stroke()};if(e.globalCompositeOperation="source-over",N){if(m&&Math.random()>.5){e.globalCompositeOperation="lighter";const r=6;S("rgba(255, 0, 100, 0.5)",(Math.random()-.5)*r,0,2),S("rgba(0, 255, 255, 0.5)",(Math.random()-.5)*r,0,2)}e.globalCompositeOperation="source-over",e.save(),e.shadowBlur=0,e.shadowColor="transparent",S("rgba(0,0,0,0.7)",0,0,4.5),e.restore(),e.shadowColor=s.primary,e.shadowBlur=10,S(s.primary,0,0,2.5)}e.fillStyle="rgba(0, 0, 0, 0.15)";for(let C=0;C<a;C+=8)e.fillRect(0,C,n,1);if(m&&Math.random()>.7){const C=Math.floor(Math.random()*2)+1;for(let r=0;r<C;r++){const u=Math.random()*n*.8,f=Math.random()*a*.8,E=Math.random()*n*.2+8,y=Math.random()*a*.08+3,v=u+(Math.random()-.5)*30,x=f+(Math.random()-.5)*15;try{e.drawImage(e.canvas,u,f,E,y,v,x,E,y)}catch{}}}e.restore()},fg=(e,t,n,a,o,i,s,c,m,N,h)=>{e.save();const S=n/2,C=a/2,r=8,u=.015,f=Math.sin(o*u)*r+Math.sin(o*u*1.3)*r*.5,E=Math.cos(o*u*.8)*r+Math.sin(o*u*1.7)*r*.3;if(h!=null&&h.backgroundImage){const L=new Image;if(L.crossOrigin="anonymous",L.src=h.backgroundImage,L.complete&&L.naturalWidth>0){const z=L.naturalWidth/L.naturalHeight,A=n/a;let H,W;z>A?(H=n+r*4,W=H/z):(W=a+r*4,H=W*z),H<n+r*4&&(H=n+r*4,W=H/z),W<a+r*4&&(W=a+r*4,H=W*z);const X=S-H/2+f,te=C-W/2+E;e.drawImage(L,X,te,H,W)}}const y=a*.4,v=C-y/2,x=typeof(h==null?void 0:h.photoShakeOverlayOpacity)=="number"?h.photoShakeOverlayOpacity:.4;e.fillStyle=`rgba(0, 0, 0, ${x})`,e.fillRect(0,v,n,y);const M=(h==null?void 0:h.photoShakeSongTitle)||"",b=(h==null?void 0:h.photoShakeSubtitle)||"",p=typeof(h==null?void 0:h.photoShakeFontSize)=="number"?h.photoShakeFontSize:60;e.fillStyle="#FFFFFF",e.strokeStyle="#000000",e.lineWidth=3;const d=p;e.font=`bold ${d}px "${un[(h==null?void 0:h.photoShakeFontFamily)||g.POPPINS]}", "Noto Sans TC", sans-serif`,e.textAlign="center",e.textBaseline="middle",e.strokeText(M,S,v+y*.15),e.fillText(M,S,v+y*.15),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillText(M,S+2,v+y*.15+2),e.fillStyle="#FFFFFF",e.fillText(M,S,v+y*.15),e.fillStyle="#FFFFFF",e.strokeStyle="#000000",e.lineWidth=2,e.font=`${p*.6}px "${un[(h==null?void 0:h.photoShakeFontFamily)||g.POPPINS]}", "Noto Sans TC", sans-serif`,e.strokeText(b,S,v+y*.45),e.fillText(b,S,v+y*.45),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillText(b,S+1,v+y*.45+1),e.fillStyle="#FFFFFF",e.fillText(b,S,v+y*.45);const I=6,O=3,P=y*.3,w=n*.4,R=Math.floor(w/(I+O)),F=S-w/2,V=v+y*.7;h!=null&&h.photoShakeDecaySpeed,window.photoShakeAmplitudes||(window.photoShakeAmplitudes=new Array(R).fill(0)),e.strokeStyle=s.primary||"#67E8F9",e.lineWidth=2,e.beginPath(),e.moveTo(F,V),e.lineTo(F+w,V),e.stroke(),t&&Math.min(t.length*.8,R);const D=Math.floor(R/2),B=[],T=(L,z,A)=>{if(!t)return 0;const H=t.length,W=Math.max(0,Math.min(H-1,Math.floor(z*H))),X=Math.max(W+1,Math.min(H,Math.floor(A*H))),te=W+Math.floor(L*(X-W-1));return t[te]/255};for(let L=0;L<D;L++){const z=L/(D-1),A=T(z,.05,.35),H=Math.max(0,A-.2),W=Math.pow(H,1.2)*P*i*2.4;B.push(W)}for(let L=0;L<D;L++){const z=F+L*(I+O),A=B[L];if(A>0){let H,W;if(s.name===Ie.RAINBOW){const[te,q]=s.hueRange,re=q-te,Z=te+L/D*re;H=`hsl(${Z}, 70%, 60%)`,W=`hsl(${Z}, 80%, 70%)`}else H=s.primary||"#FFFFFF",W=s.accent||s.primary||"#FFFFFF";const X=e.createLinearGradient(z,V,z,V+A);if(s.name===Ie.RAINBOW){const[te,q]=s.hueRange,re=q-te,Z=te+L/D*re;X.addColorStop(0,`hsl(${Z}, 80%, 70%)`),X.addColorStop(.5,`hsl(${Z}, 70%, 60%)`),X.addColorStop(1,`hsl(${Z}, 60%, 50%)`)}else X.addColorStop(0,W),X.addColorStop(.5,H),X.addColorStop(1,H);e.fillStyle=X,e.shadowColor=W,e.shadowBlur=8,e.fillRect(z,V,I,A),e.shadowBlur=0,e.shadowColor="transparent"}}for(let L=0;L<=D;L++){const z=D-1-L,A=B[Math.max(0,z)],H=F+(D+L)*(I+O);if(H+I<=F+w&&A>0){const W=D+L;let X,te;if(s.name===Ie.RAINBOW){const[re,Z]=s.hueRange,U=Z-re,ne=re+W/R*U;X=`hsl(${ne}, 70%, 60%)`,te=`hsl(${ne}, 80%, 70%)`}else X=s.primary||"#FFFFFF",te=s.accent||s.primary||"#FFFFFF";const q=e.createLinearGradient(H,V,H,V+A);if(s.name===Ie.RAINBOW){const[re,Z]=s.hueRange,U=Z-re,ne=re+W/R*U;q.addColorStop(0,`hsl(${ne}, 80%, 70%)`),q.addColorStop(.5,`hsl(${ne}, 70%, 60%)`),q.addColorStop(1,`hsl(${ne}, 60%, 50%)`)}else q.addColorStop(0,te),q.addColorStop(.5,X),q.addColorStop(1,X);e.fillStyle=q,e.shadowColor=te,e.shadowBlur=8,e.fillRect(H,V,I,A),e.shadowBlur=0,e.shadowColor="transparent"}}e.shadowBlur=0,e.shadowColor="transparent",e.restore()},hg=(e,t,n,a,o,i,s,c,m,N,h)=>{e.save();const S=n/2,C=a/2,r=Math.min(n,a)*.25;if(h!=null&&h.circularWaveImage){const Z=xu("circularWave",h.circularWaveImage);if(Z&&Z.complete&&Z.naturalWidth>0){e.save(),e.beginPath(),e.arc(S,C,r,0,Math.PI*2),e.clip();const U=Z.naturalWidth/Z.naturalHeight,ne=r*2;let J=ne,ee=ne;U>1?(ee=ne,J=ne*U):U<1?(J=ne,ee=ne/U):(J=ne,ee=ne),e.drawImage(Z,S-J/2,C-ee/2,J,ee),e.restore()}}const u=-30*Math.PI/180,f=15,E=r*.3*10,y=5,v=r*.02,x=3,M=(Z,U,ne)=>{if(!t)return 0;const J=t.length,ee=Math.max(0,Math.min(J-1,Math.floor(U*J))),$=Math.max(ee+1,Math.min(J,Math.floor(ne*J))),K=ee+Math.floor(Z*($-ee-1));return t[K]/255};e.strokeStyle=s.primary||"#FFFFFF",e.lineWidth=y,e.shadowColor=s.accent||s.primary||"#FFFFFF",e.shadowBlur=8;const b=(Z,U)=>s.name===Ie.RAINBOW?`hsl(${Z/U*360}, 90%, 60%)`:s.name===Ie.WHITE?"#FFFFFF":s.primary||"#FFFFFF",j=(Z,U)=>s.name===Ie.RAINBOW?`hsl(${Z/U*360}, 100%, 80%)`:s.accent||s.primary||"#FFFFFF",p=[];for(let Z=0;Z<f;Z++){const U=Z/(f-1),ne=M(U,.05,.35),J=Math.max(0,ne-.2),ee=Math.pow(J,1.2)*E*i*1.5;p.push(ee)}const d=[...p],I=[...d].reverse(),O=[...p].reverse(),P=(Z,U,ne,J)=>{for(let ee=0;ee<f;ee++){const $=ee/(f-1),K=Z+$*(U-Z)+u,de=ne[ee],me=S+Math.cos(K)*r,ie=C+Math.sin(K)*r,le=ee+J*f,ve=f*4;if(de<v)e.fillStyle=b(le,ve),e.beginPath(),e.arc(me,ie,x/2,0,Math.PI*2),e.fill();else{const Pe=S+Math.cos(K)*(r+de),Me=C+Math.sin(K)*(r+de);e.strokeStyle=b(le,ve),e.shadowColor=j(le,ve),e.beginPath(),e.moveTo(me,ie),e.lineTo(Pe,Me),e.stroke()}}};P(-Math.PI/2,0,p,0),P(-Math.PI,-Math.PI/2,d,1),P(Math.PI/2,Math.PI,I,2),P(0,Math.PI/2,O,3);const w=y,R=4,F=a*.35,V=n*.5,D=F*.05,B=Math.floor(V/(w+R)),T=Math.floor(B/2),L=C,z=r*.1,A=S-r-z-V,H=S-r-z,W=S+r+z,X=S+r+z+V,te=[];for(let Z=0;Z<T;Z++){const U=Z/(T-1),ne=M(U,.05,.35),J=Math.max(0,ne-.2),ee=Math.max(D,Math.pow(J,1.2)*F*i*2.4);te.push(ee)}const q=(H-A)/T;for(let Z=0;Z<T;Z++){const U=A+Z*q,ne=te[Z];let J;if(s.name===Ie.RAINBOW){const ee=Z/T*360,$=`hsl(${ee}, 90%, 60%)`,K=`hsl(${(ee+40)%360}, 100%, 80%)`;J=e.createLinearGradient(U,L-ne,U,L+ne),J.addColorStop(0,K),J.addColorStop(.5,$),J.addColorStop(1,$),e.shadowColor=K}else{const ee=s.primary||"#FFFFFF",$=s.accent||s.primary||"#FFFFFF";J=e.createLinearGradient(U,L-ne,U,L+ne),J.addColorStop(0,$),J.addColorStop(.5,ee),J.addColorStop(1,ee),e.shadowColor=$}e.fillStyle=J,e.shadowBlur=8,e.fillRect(U,L-ne,w,ne*2)}const re=(X-W)/T;for(let Z=0;Z<T;Z++){const U=T-1-Z,ne=te[Math.max(0,U)],J=W+Z*re;let ee;if(s.name===Ie.RAINBOW){const $=U/T*360,K=`hsl(${$}, 90%, 60%)`,de=`hsl(${($+40)%360}, 100%, 80%)`;ee=e.createLinearGradient(J,L-ne,J,L+ne),ee.addColorStop(0,de),ee.addColorStop(.5,K),ee.addColorStop(1,K),e.shadowColor=de}else{const $=s.primary||"#FFFFFF",K=s.accent||s.primary||"#FFFFFF";ee=e.createLinearGradient(J,L-ne,J,L+ne),ee.addColorStop(0,K),ee.addColorStop(.5,$),ee.addColorStop(1,$),e.shadowColor=K}e.fillStyle=ee,e.shadowBlur=8,e.fillRect(J,L-ne,w,ne*2)}e.shadowBlur=0,e.shadowColor="transparent",e.restore()},mg=(e,t,n,a,o,i,s,c,m,N,h)=>{e.save();const S=n/2,C=a*.175,r=0,u=(h==null?void 0:h.blurredEdgeSinger)||"",f=(h==null?void 0:h.blurredEdgeSongTitle)||"",E=typeof(h==null?void 0:h.blurredEdgeBgOpacity)=="number"?h.blurredEdgeBgOpacity:.5,y=(h==null?void 0:h.blurredEdgeTextColor)||"#FFFFFF",v=(h==null?void 0:h.blurredEdgeFontFamily)||g.POPPINS,x=typeof(h==null?void 0:h.blurredEdgeFontSize)=="number"?h.blurredEdgeFontSize:40;E>0&&(u||f)&&(e.fillStyle=`rgba(0, 0, 0, ${E})`,e.fillRect(0,r,n,C)),(u||f)&&(e.fillStyle=y,e.strokeStyle="rgba(0, 0, 0, 1)",e.textAlign="center",e.textBaseline="middle",e.lineWidth=x*.1,u&&(e.font=`bold ${x}px "${un[v]}", "Noto Sans TC", sans-serif`,e.strokeText(u,S,C*.35),e.fillText(u,S,C*.35)),f&&(e.font=`bold ${x}px "${un[v]}", "Noto Sans TC", sans-serif`,e.strokeText(f,S,C*.65),e.fillText(f,S,C*.65)));const M=C+a*.025,b=a*.005,j=e.createLinearGradient(0,M,0,M+b);j.addColorStop(0,"rgba(220, 200, 180, 0.9)"),j.addColorStop(.5,"rgba(240, 220, 200, 1.0)"),j.addColorStop(1,"rgba(200, 180, 160, 0.9)"),e.fillStyle=j,e.fillRect(0,M,n,b),e.fillStyle="rgba(255, 255, 255, 0.3)",e.fillRect(0,M,n,b*.3);const d=M+b-a*.01,O=(a-d)*.35;if(t){const w=n/40,R=w*.1,F=w-R,V=T=>{const L=T/40,z=t.length,A=Math.floor(L*z*.8);return(t[A]||0)/255};let D,B;s.name===Ie.RAINBOW?(D="hsl(50, 100%, 60%)",B="hsl(55, 100%, 80%)"):(D=s.accent||s.primary||"#FFD700",B=s.accent||s.primary||"#FFEB3B");for(let T=0;T<40;T++){const L=T*w+R/2,z=V(T),A=.2,H=1,W=Math.min(H,A+(H-A)*Math.pow(z,.8)*i*1.5),X=d,te=X+O,q=e.createLinearGradient(L,X,L,te);q.addColorStop(0,ge(B,0)),q.addColorStop(.1,ge(B,.3*W)),q.addColorStop(.2,ge(D,.6*W)),q.addColorStop(.4,ge(D,W)),q.addColorStop(.5,ge(D,W)),q.addColorStop(.6,ge(D,W)),q.addColorStop(.8,ge(D,.6*W)),q.addColorStop(.9,ge(D,.3*W)),q.addColorStop(1,ge(D,0)),e.fillStyle=q,e.shadowColor=ge(B,W),e.shadowBlur=15;const re=Math.min(F/4,4);en(e,L,X,F,O,re),e.fill(),e.shadowBlur=0}}e.restore()},gg=(e,t,n,a,o,i,s,c,m,N,h)=>{e.save();const S=n/2,C=typeof(h==null?void 0:h.keYeCustomV2BoxOpacity)=="number"?h.keYeCustomV2BoxOpacity:.5,r=(h==null?void 0:h.keYeCustomV2BoxColor)||"#FFFFFF",u=(h==null?void 0:h.keYeCustomV2VisualizerColor)||"#FFFFFF",f=(h==null?void 0:h.keYeCustomV2Text1)||"",E=(h==null?void 0:h.keYeCustomV2Text2)||"",y=(h==null?void 0:h.keYeCustomV2Text1Font)||g.POPPINS,v=(h==null?void 0:h.keYeCustomV2Text2Font)||g.POPPINS,x=typeof(h==null?void 0:h.keYeCustomV2Text1Size)=="number"?h.keYeCustomV2Text1Size:40,M=typeof(h==null?void 0:h.keYeCustomV2Text2Size)=="number"?h.keYeCustomV2Text2Size:30,b=(h==null?void 0:h.keYeCustomV2Text1Color)||"#000000",j=(h==null?void 0:h.keYeCustomV2Text2Color)||"#000000",p=(h==null?void 0:h.keYeCustomV2Text1Effect)||Y.NONE,d=(h==null?void 0:h.keYeCustomV2Text2Effect)||Y.NONE,I=(h==null?void 0:h.keYeCustomV2Text1StrokeColor)||"#FFFFFF",O=(h==null?void 0:h.keYeCustomV2Text2StrokeColor)||"#FFFFFF",P=n*.8,w=a*.2,R=S-P/2,F=a-w-a*.05,V=w/2;e.fillStyle=ge(r,C),e.beginPath(),e.moveTo(R+V,F),e.lineTo(R+P-V,F),e.arcTo(R+P,F,R+P,F+V,V),e.lineTo(R+P,F+w-V),e.arcTo(R+P,F+w,R+P-V,F+w,V),e.lineTo(R+V,F+w),e.arcTo(R,F+w,R,F+w-V,V),e.lineTo(R,F+V),e.arcTo(R,F,R+V,F,V),e.closePath(),e.fill(),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.lineWidth=2,e.stroke(),e.strokeStyle="rgba(255, 255, 255, 1)",e.lineWidth=2;const D=2;e.beginPath(),e.moveTo(R-D+V,F-D),e.lineTo(R+P+D-V,F-D),e.arcTo(R+P+D,F-D,R+P+D,F-D+V,V),e.lineTo(R+P+D,F+w+D-V),e.arcTo(R+P+D,F+w+D,R+P+D-V,F+w+D,V),e.lineTo(R-D+V,F+w+D),e.arcTo(R-D,F+w+D,R-D,F+w+D-V,V),e.lineTo(R-D,F-D+V),e.arcTo(R-D,F-D,R-D+V,F-D,V),e.closePath(),e.stroke(),e.textAlign="center",e.textBaseline="middle";const B=(W,X,te,q,re,Z,U,ne)=>{if(!W)return;e.save();const J=un[re]||"Poppins",ee=U===Y.BOLD?"900":"800";if(e.font=`${ee} ${q}px "${J}", "Noto Sans TC", sans-serif`,e.fillStyle=Z,e.textAlign="center",e.textBaseline="middle",e.lineJoin="round",e.miterLimit=2,U===Y.NEON?(e.shadowColor=Z,e.shadowBlur=18):U===Y.SHADOW&&(e.shadowColor="rgba(0,0,0,0.6)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4),U===Y.OUTLINE&&(e.strokeStyle=ne,e.lineWidth=Math.max(2,q/18),e.strokeText(W,X,te)),U===Y.FAUX_3D){const $=Math.max(1,Math.floor(q/28));e.fillStyle="rgba(0,0,0,0.35)";for(let K=1;K<=$;K++)e.fillText(W,X+K,te+K);e.fillStyle=Z}if(e.fillText(W,X,te),U===Y.GLITCH&&m){const $=Math.max(2,q/20),K=(Math.random()-.5)*$,de=(Math.random()-.5)*$;e.globalCompositeOperation="lighter",e.fillStyle="rgba(255,0,0,0.55)",e.fillText(W,X+K,te+de),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(W,X-K,te-de),e.globalCompositeOperation="source-over"}e.restore()};if(f){const W=F+w*.2;B(f,S,W,x,y,b,p,I)}if(E){const W=F+w*.6;B(E,S,W,M,v,j,d,O)}const T=w*.25;let L=F+w-T-w*.03;L=Math.max(0,Math.min(L,a-T));const z=65,A=R+z,H=P-z*2;if(t){const X=H/40,te=X*.1,q=X-te,re=T*.8,Z=ne=>{const J=ne/40,ee=t.length,$=Math.floor(J*ee*.8);return(t[$]||0)/255};let U;if(s.name===Ie.RAINBOW){const[ne,J]=s.hueRange,ee=J-ne;U=`hsl(${ne+o*.5%ee}, 70%, 50%)`}else U=u.trim()?u:s.accent||s.primary||"#000000";for(let ne=0;ne<40;ne++){const J=A+ne*X+te/2,ee=Z(ne),$=Math.pow(ee,1.5)*re*i*2,de=Math.max(3,$),me=L+T-de;if(J+q>A+H||J<A)continue;if(s.name===Ie.RAINBOW){const[le,ve]=s.hueRange,Pe=ve-le;U=`hsl(${le+ne/40*Pe}, 70%, 50%)`}e.fillStyle=U;const ie=Math.min(q/4,2);en(e,J,me,q,de,ie),e.fill()}}else{const X=H/40,te=X*.1,q=X-te,re=3;let Z;if(s.name===Ie.RAINBOW){const[U,ne]=s.hueRange,J=ne-U;Z=`hsl(${U+o*.5%J}, 70%, 50%)`}else Z=u.trim()?u:s.accent||s.primary||"#000000";e.fillStyle=Z;for(let U=0;U<40;U++){const ne=A+U*X+te/2+q/2,J=L+T-re/2;if(!(ne+re/2>A+H)&&!(ne-re/2<A)){if(s.name===Ie.RAINBOW){const[ee,$]=s.hueRange,K=$-ee;Z=`hsl(${ee+U/40*K}, 70%, 50%)`,e.fillStyle=Z}e.beginPath(),e.arc(ne,J,re/2,0,Math.PI*2),e.fill()}}}e.restore()},IS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=a/2,S=n/2,C=a*.4,r=20,u=8,f=t.some(j=>j>0),E=h,y=Math.floor(n/(u+r)),v=j=>{e.fillStyle="rgba(255, 255, 255, 0.9)",e.beginPath(),e.arc(j,E,u/2,0,Math.PI*2),e.fill()},x=t.length*.6,M=(j,p,d,I)=>{if(d<1)return;let O;if(s.name===Ie.WHITE){const F=70+Math.sin(I*.3+o*.02)*10;O=`hsla(${220+Math.sin(I*.2)*20}, 15%, ${F}%, 0.9)`}else{const[F,V]=s.hueRange,D=V-F,B=F+I/y*D,T=70+Math.sin(I*.2+o*.01)*20,L=50+Math.sin(I*.15+o*.015)*15;O=`hsla(${B}, ${T}%, ${L}%, 0.9)`}e.fillStyle=O,e.shadowColor=O,e.shadowBlur=8;const P=j-u/2;en(e,P,p,u,d,2),e.fill()},b=Math.floor(y/2);for(let j=0;j<b;j++){const p=j*(u+r)+u/2,d=Math.floor(j/b*x),I=t[d]/255;let O;if(f&&I>.01){if(O=Math.pow(I,1.8)*C*i,O<3)continue}else{const w=C*.03,R=Math.sin(o*.02+j*.15)*.03+1;O=w*R}M(p,E-O,O,j),M(p,E,O,j),v(p);const P=n-p;M(P,E-O,O,y-j-1),M(P,E,O,y-j-1),v(P)}for(let j=0;j<b;j++){const p=S+j*(u+r)+u/2,d=Math.floor((b-j-1)/b)*x,I=t[d]/255;let O;if(f&&I>.01){if(O=Math.pow(I,1.8)*C*i,O<3)continue}else{const w=C*.03,R=Math.sin(o*.02+j*.15)*.03+1;O=w*R}M(p,E-O,O,b+j),M(p,E,O,b+j),v(p);const P=S-j*(u+r)-u/2;M(P,E-O,O,b-j-1),M(P,E,O,b-j-1),v(P)}e.restore()},kS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=a*.62,S=1.6,C=Math.max(5,Math.floor(n/240)),r=Math.floor(n/C);go.length!==r&&(go=new Array(r).fill(0),ks=performance.now()/1e3);const u=performance.now()/1e3,f=Math.max(0,u-ks);ks=u;const E=Math.exp(-f/gS),y=s.primary||"#FFD700",v=s.secondary||y,x=Math.floor(t.length*.05),M=Math.floor(t.length*.45),b=Math.max(1,M-x),j=a*.1,p=2;e.globalAlpha=.85,e.fillStyle=ge(y,.85);for(let d=0;d<r;d++){const I=d*C+C*.5;e.beginPath(),e.arc(I,h,S,0,Math.PI*2),e.fill()}e.globalAlpha=1,e.lineWidth=2,e.lineCap="round",e.shadowBlur=14,e.shadowColor=v,e.strokeStyle=ge(y,.9);for(let d=0;d<r;d++){const I=d/Math.max(1,r-1),O=x+Math.floor(I*b),P=t[Math.min(t.length-1,O)]/255,w=Math.pow(Math.max(0,P-.03),2.2),R=Math.min(j,w*j*i*2.2),F=go[d]||0;go[d]=R>F?R:F*E;const V=go[d];if(V<p)continue;const D=d*C+C*.5,B=V,T=V*.35;e.beginPath(),e.moveTo(D,h-B),e.lineTo(D,h+T),e.stroke()}e.restore()},MS=(e,t,n,a,o,i,s,c,m,N)=>{if(t&&(ug(e,t,n,a,o,i,s,c,m,N),m)){e.save(),Math.random()>.7&&(e.filter=`hue-rotate(${(Math.random()-.5)*30}deg) saturate(${1.2+Math.random()*.3})`);const h=Math.floor(Math.random()*3)+1;for(let S=0;S<h;S++){const C=Math.random()*n*.8,r=Math.random()*a*.8,u=Math.random()*n*.15+8,f=Math.random()*a*.08+4,E=C+(Math.random()-.5)*20,y=r;try{e.drawImage(e.canvas,C,r,u,f,E,y,u,f)}catch{}}e.restore()}},Da={imageData:null,framesLeft:0},PS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=t.slice(0,32).reduce((I,O)=>I+O,0)/32,r=t.slice(32,96).reduce((I,O)=>I+O,0)/64,u=t.slice(96,128).reduce((I,O)=>I+O,0)/32,f=C/255,E=r/255,y=u/255;Da.framesLeft>0&&Da.imageData&&o%3===0&&(e.globalAlpha=.2,e.putImageData(Da.imageData,0,0),Da.framesLeft--,e.globalAlpha=1);const v=(I,O,P)=>{e.strokeStyle=P,e.lineWidth=2,e.shadowColor=P,e.shadowBlur=8,e.beginPath();for(let w=0;w<n;w+=4){const R=w/n,F=o*.01,V=Math.sin(R*O*Math.PI+F)*I,D=S+V;w===0?e.moveTo(w,D):e.lineTo(w,D)}e.stroke()},x=a*.12*i;v(x*f,2,s.primary);const M=64,b=n/M;for(let I=0;I<M;I++){const O=Math.floor(I/M*t.length),P=t[O]/255,w=Math.pow(P,1.5)*a*.3*i;if(w<4)continue;const R=I*b,F=a-w,V=m&&Math.random()>.85?(Math.random()-.5)*8:0,D=m&&Math.random()>.9?(Math.random()-.5)*10:0;I<M*.33?ge(s.primary,.7+P*.3):I<M*.66?ge(s.secondary,.7+P*.3):ge(s.accent,.7+P*.3);const B=I/M*60-30,T=80+P*20,L=50+P*30,z=`hsla(${200+B+o*.5%360}, ${T}%, ${L}%, ${.8+P*.2})`;e.fillStyle=z;const A=R+V,H=F+D,W=Math.min(b*.3,w*.2);if(e.beginPath(),e.moveTo(A+W,H),e.lineTo(A+b-W,H),e.quadraticCurveTo(A+b,H,A+b,H+W),e.lineTo(A+b,H+w-W),e.quadraticCurveTo(A+b,H+w,A+b-W,H+w),e.lineTo(A+W,H+w),e.quadraticCurveTo(A,H+w,A,H+w-W),e.lineTo(A,H+W),e.quadraticCurveTo(A,H,A+W,H),e.closePath(),e.fill(),e.shadowColor=z,e.shadowBlur=3,e.fill(),e.shadowBlur=0,m&&Math.random()>.92){e.fillStyle="#FF00FF";const X=1,te=H+Math.random()*w;e.beginPath(),e.moveTo(A+W,te),e.lineTo(A+b-W,te),e.quadraticCurveTo(A+b,te,A+b,te+W),e.lineTo(A+b,te+X-W),e.quadraticCurveTo(A+b,te+X,A+b-W,te+X),e.lineTo(A+W,te+X),e.quadraticCurveTo(A,te+X,A,te+X-W),e.lineTo(A,te+W),e.quadraticCurveTo(A,te,A+W,te),e.closePath(),e.fill()}}const j=30+f*50*i;e.fillStyle=s.primary,e.shadowColor=s.accent,e.shadowBlur=20,e.beginPath(),e.arc(h,S,j,0,Math.PI*2),e.fill();const p=2;for(let I=0;I<p;I++){const O=j+20+I*15,P=o*(.02+I*.01),w=.4-I*.2;e.strokeStyle=ge(s.accent,w),e.lineWidth=2;const R=8;for(let F=0;F<R;F++){const V=F/R*Math.PI*2+P,D=(F+1)/R*Math.PI*2+P;e.beginPath(),e.arc(h,S,O,V,D),e.stroke()}}const d=20+f*40*i;for(let I=0;I<d;I++){const O=I/d*Math.PI*2+o*.005,P=50+Math.sin(o*.01+I*.1)*20,w=h+Math.cos(O)*P,R=S+Math.sin(O)*P,F=1.5+E*3*i,V=.5+y*.3;e.fillStyle=ge(s.accent,V),e.beginPath(),e.arc(w,R,F,0,Math.PI*2),e.fill()}if(o%2===0){e.strokeStyle=ge(s.primary,.08),e.lineWidth=1;for(let I=0;I<a;I+=8)e.beginPath(),e.moveTo(0,I),e.lineTo(n,I),e.stroke()}if(m&&Math.random()>.85)try{Da.imageData=e.getImageData(0,0,n,a),Da.framesLeft=3+Math.floor(Math.random()*5)}catch{}e.restore()},FS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=a/2;e.globalCompositeOperation="lighter";const S=m?15:5,C=(E,y)=>{e.strokeStyle=E,e.lineWidth=2,e.beginPath();const v=n/(t.length*.5);let x=0;for(let M=0;M<t.length*.5;M++){const b=Math.pow(t[M]/255,1.5)*a*.3*i;e.lineTo(x,h+b+(Math.random()-.5)*y),x+=v}e.stroke()};C("rgba(255, 0, 100, 0.6)",S),C("rgba(0, 255, 255, 0.6)",S),e.globalCompositeOperation="source-over",e.strokeStyle=s.primary,e.lineWidth=2.5,e.shadowColor=s.primary,e.shadowBlur=10;const r=new Path2D;let u=0;const f=n/(t.length*.5);for(let E=0;E<t.length*.5;E++){const y=Math.pow(t[E]/255,1.5)*a*.3*i;r.lineTo(u,h+y),u+=f}e.stroke(r),e.fillStyle="rgba(255, 255, 255, 0.08)";for(let E=0;E<200;E++)e.fillRect(Math.random()*n,Math.random()*a,Math.random()*2,Math.random()*2);e.strokeStyle="rgba(255, 255, 255, 0.05)",e.lineWidth=1;for(let E=0;E<3;E++){const y=a*Math.random();e.beginPath(),e.moveTo(0,y),e.lineTo(n,y),e.stroke()}if(m&&Math.random()>.5){const E=Math.random()*a,y=Math.random()*50+20,v=(Math.random()-.5)*80;try{e.drawImage(e.canvas,0,E,n,y,v,E,n,y)}catch{}}e.restore()},RS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a/2,C=t.slice(0,16).reduce((I,O)=>I+O,0)/16,r=t.slice(16,64).reduce((I,O)=>I+O,0)/48,u=t.slice(64,128).reduce((I,O)=>I+O,0)/64,f=C/255,E=r/255,y=u/255,v=(f+E+y)/3;for(let I=0;I<8;I++){const O=I/8*n+Math.sin(o*.02+I)*50,P=a*.2+Math.sin(o*.01+I*.5)*30,w=80+f*100*i;e.fillStyle=ge(s.primary,.1+v*.2),e.beginPath(),e.arc(O,P,w,0,Math.PI*2),e.fill()}if(m&&Math.random()>.6){const I=Math.floor(Math.random()*3)+1;for(let O=0;O<I;O++){const P=Math.random()*n,w=0,R=P+(Math.random()-.5)*200,F=a;e.strokeStyle="#FFFFFF",e.lineWidth=3,e.shadowColor="#00FFFF",e.shadowBlur=20,e.beginPath(),e.moveTo(P,w);let V=P,D=w;const B=8;for(let T=1;T<=B;T++){const L=T/B,z=P+(R-P)*L,A=w+(F-w)*L,H=(Math.random()-.5)*40;V=z+H,D=A,e.lineTo(V,D)}e.stroke()}}const x=200;for(let I=0;I<x;I++){const O=I*37%n,P=(o*2+I*2)%(a+100),w=10+y*20*i,R=.3+y*.4;e.strokeStyle=ge(s.accent,R),e.lineWidth=1,e.beginPath(),e.moveTo(O,P),e.lineTo(O,P+w),e.stroke()}const M=64,b=n/M;for(let I=0;I<M;I++){const O=Math.floor(I/M*t.length),P=t[O]/255,w=Math.pow(P,1.5)*a*.6*i;if(w<2)continue;const R=I*b,F=a-w,V=m&&Math.random()>.8?(Math.random()-.5)*10:0,D=m&&Math.random()>.9?Math.random()*20:0;I<M*.33?ge(s.primary,.8+P*.2):I<M*.66?ge(s.secondary,.8+P*.2):ge(s.accent,.8+P*.2);const B=I/M*80-40,T=85+P*15,L=55+P*25,z=`hsla(${200+B+o*.3%360}, ${T}%, ${L}%, ${.9+P*.1})`;e.fillStyle=z;const A=R+V,H=F,W=Math.min(b*.25,w*.15);if(e.beginPath(),e.moveTo(A+W,H),e.lineTo(A+b-1-W,H),e.quadraticCurveTo(A+b-1,H,A+b-1,H+W),e.lineTo(A+b-1,H+w-W),e.quadraticCurveTo(A+b-1,H+w,A+b-1-W,H+w),e.lineTo(A+W,H+w),e.quadraticCurveTo(A,H+w,A,H+w-W),e.lineTo(A,H+W),e.quadraticCurveTo(A,H,A+W,H),e.closePath(),e.fill(),e.shadowColor=z,e.shadowBlur=4,e.fill(),e.shadowBlur=0,D>0){e.fillStyle="#FF00FF";const X=H+D;e.beginPath(),e.moveTo(A+W,X),e.lineTo(A+b-1-W,X),e.quadraticCurveTo(A+b-1,X,A+b-1,X+W),e.lineTo(A+b-1,X+2-W),e.quadraticCurveTo(A+b-1,X+2,A+b-1-W,X+2),e.lineTo(A+W,X+2),e.quadraticCurveTo(A,X+2,A,X+2-W),e.lineTo(A,X+W),e.quadraticCurveTo(A,X,A+W,X),e.closePath(),e.fill()}if(I%4===0){e.strokeStyle=ge("#00FFFF",.4),e.lineWidth=1;const X=Math.min(b*.2,2);e.beginPath(),e.moveTo(A+X,F),e.lineTo(A+b-1-X,F),e.quadraticCurveTo(A+b-1,F,A+b-1,F+X),e.lineTo(A+b-1,F+w-X),e.quadraticCurveTo(A+b-1,F+w,A+b-1-X,F+w),e.lineTo(A+X,F+w),e.quadraticCurveTo(A,F+w,A,F+w-X),e.lineTo(A,F+X),e.quadraticCurveTo(A,F,A+X,F),e.closePath(),e.stroke()}}const j=30+f*60*i,p=e.createRadialGradient(h,S,0,h,S,j);p.addColorStop(0,"#FFFFFF"),p.addColorStop(.3,s.accent),p.addColorStop(.7,s.primary),p.addColorStop(1,"transparent"),e.fillStyle=p,e.shadowColor=s.accent,e.shadowBlur=30,e.beginPath(),e.arc(h,S,j,0,Math.PI*2),e.fill();const d=3;for(let I=0;I<d;I++){const O=j+20+I*15,P=o*(.02+I*.01),w=.4-I*.1;e.strokeStyle=ge(s.accent,w),e.lineWidth=2,e.setLineDash([10,10]);const R=8;for(let F=0;F<R;F++){const V=F/R*Math.PI*2+P,D=(F+1)/R*Math.PI*2+P;e.beginPath(),e.arc(h,S,O,V,D),e.stroke()}}e.setLineDash([]),e.restore()},jS=(e,t,n,a,o,i,s,c,m,N,h)=>{if(!t)return;e.save();const S=n/2,C=a/2,r=Math.min(n,a)*.35,f=t.slice(0,32).reduce((b,j)=>b+j,0)/32/255,E=r+f*20*i;for(let b=0;b<3;b++){const j=E-b*8,p=.4-b*.1,d=3-b*.5;e.strokeStyle=ge(s.accent,p),e.lineWidth=d,e.setLineDash([8,8]),e.beginPath(),e.arc(S,C,j,0,Math.PI*2),e.stroke()}e.setLineDash([]);const y=12;for(let b=0;b<y;b++){const j=b/y*Math.PI*2+o*.01,p=r*.3+f*50*i;e.strokeStyle=ge(s.primary,.3),e.lineWidth=2,e.beginPath(),e.moveTo(S,C),e.lineTo(S+Math.cos(j)*p,C+Math.sin(j)*p),e.stroke()}h&&h.forEach(b=>{const j=Math.sqrt((b.x-S)**2+(b.y-C)**2),p=1+f*3*i;if(b.vx*=p,b.vy*=p,j>r){const d=Math.atan2(b.y-C,b.x-S);b.x=S+Math.cos(d)*r,b.y=C+Math.sin(d)*r;const I=Math.cos(d),O=Math.sin(d),P=b.vx*I+b.vy*O;b.vx=(b.vx-2*P*I)*.8,b.vy=(b.vy-2*P*O)*.8}e.save(),e.shadowColor=b.color,e.shadowBlur=15,e.beginPath(),e.arc(b.x,b.y,b.radius,0,Math.PI*2),e.fillStyle=ge(b.color,b.opacity*.9),e.fill(),e.beginPath(),e.arc(b.x,b.y,b.radius*1.5,0,Math.PI*2),e.fillStyle=ge(b.color,b.opacity*.3),e.fill(),e.restore()});const v=n*.02+f*50*i,x=e.createRadialGradient(S,C,0,S,C,v);x.addColorStop(0,"#FFFFFF"),x.addColorStop(.3,ge(s.accent,.9)),x.addColorStop(.7,ge(s.primary,.7)),x.addColorStop(1,"transparent"),e.fillStyle=x,e.shadowColor=s.primary,e.shadowBlur=m?50:25,e.beginPath(),e.arc(S,C,v*1.2,0,Math.PI*2),e.fill();const M=v*2+f*30*i;e.strokeStyle=ge(s.accent,.6),e.lineWidth=4,e.shadowBlur=20,e.beginPath(),e.arc(S,C,M,0,Math.PI*2),e.stroke(),e.restore()},AS=(e,t,n,a,o,i,s,c,m,N)=>{if(!t)return;e.save();const h=n/2,S=a*.6,C=n*.8,r=40,u=30,f=n/r*1.2,E=a*.2,y=o*.002,v=(x,M,b)=>{const j=x*Math.cos(y)-b*Math.sin(y),p=x*Math.sin(y)+b*Math.cos(y),d=C/(C+p),I=j*d+h,O=M*d+S;return{x:I,y:O,scale:d}};e.strokeStyle=s.primary,e.shadowColor=s.primary,e.shadowBlur=5,e.lineWidth=1.5;for(let x=0;x<u;x++){e.beginPath();let M=null;for(let b=0;b<r;b++){const j=Math.floor(b/r*(t.length*.6)),p=Math.pow(t[j]/255,2)*E*i,d=(b-r/2)*f,I=-p,O=(x-u/2)*f,P=v(d,I,O);P.scale<=0||(M===null?(e.moveTo(P.x,P.y),M=P):e.lineTo(P.x,P.y))}if(M){const b=x/u,[j,p]=s.hueRange,d=j+b*(p-j),I=40+b*30;e.strokeStyle=`hsla(${d}, 90%, ${I}%, ${1-b*.7})`,e.shadowColor=`hsla(${d}, 90%, ${I}%, ${1-b*.7})`,e.stroke()}}e.restore()},Eu=(e,t,n,a,o,i,s,c,m,N,h,S,C,r,u,f,E,y,v,x,M,b)=>{var ne,J,ee,$;if(!t)return;e.save();const j=n/2,p=a*.4,d=t.slice(0,32).reduce((K,de)=>K+de,0)/32;t.slice(32,96).reduce((K,de)=>K+de,0)/64,t.slice(96,128).reduce((K,de)=>K+de,0)/32;const I=d/255,O=Math.min(n*.4,a*.5),P=j-O/2,w=p-O/2;S?e.drawImage(S,P,w,O,O):(e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(P,w,O,O));const R=t?t[0]/255:0,F=t?t[Math.floor(t.length*.3)]/255:0,V=t?t[Math.floor(t.length*.7)]/255:0,D=8,B=R*D,T=F*D*.7,L=V*D*.5;e.strokeStyle="#ffffff",e.lineWidth=2,e.beginPath(),e.moveTo(P+10+L,w+L),e.bezierCurveTo(P+L,w+L,P+L,w+L,P+L,w+10+L),e.lineTo(P+T,w+O-10+T),e.bezierCurveTo(P+T,w+O+T,P+T,w+O+T,P+10+T,w+O+T),e.lineTo(P+O-10+B,w+O+B),e.bezierCurveTo(P+O+B,w+O+B,P+O+B,w+O+B,P+O+B,w+O-10+B),e.lineTo(P+O+T,w+10+T),e.bezierCurveTo(P+O+T,w+T,P+O+T,w+T,P+O-10+T,w+T),e.lineTo(P+10+L,w+L),e.stroke();const z=O/2,A=P+O,H=p;e.save(),e.beginPath(),e.arc(A,H,z,-Math.PI/2,Math.PI/2),e.clip(),e.translate(A,H),e.rotate(o*.01%(Math.PI*2)),C?e.drawImage(C,-z,-z,z*2,z*2):(e.fillStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.arc(0,0,z,0,Math.PI*2),e.fill()),e.restore(),e.strokeStyle="#ffffff",e.lineWidth=2,e.beginPath(),e.arc(A,H,z,-Math.PI/2,Math.PI/2),e.stroke();const W=18,X=Math.max(12,O/W*.8),te=O*.9,q=P,re=w+O,U=O/W;for(let K=0;K<W;K++){const de=Math.floor(K/W*t.length),me=t[de]/255,ie=Math.pow(me,1.2)*te*i;if(ie<3)continue;const le=re-(K*U+U/2);let ve;if(s.name===Ie.WHITE)ve=`hsla(220, 10%, ${85+me*15}%, ${.8+me*.2})`;else if(s.name===Ie.RAINBOW){const ye=K/W*360,be=85+me*15,je=55+me*25;ve=`hsla(${ye}, ${be}%, ${je}%, ${.8+me*.2})`}else{const[ye,be]=s.hueRange,je=be-ye,Xe=ye+K/W*je,we=85+me*15,qe=55+me*25;ve=`hsla(${Xe}, ${we}%, ${qe}%, ${.8+me*.2})`}e.fillStyle=ve;const Pe=q-ie,Me=Math.min(X*.4,8);if(en(e,Pe,le-X/2,ie,X,Me),e.fill(),me>.5){const ye=ve.match(/hsl\(([^,]+)/),be=ye?parseFloat(ye[1]):220,je=85+me*15,Xe=55+me*25;e.shadowColor=`hsla(${be}, ${je}%, ${Xe+20}%, 0.6)`,e.shadowBlur=Math.max(5,me*20),e.fill(),e.shadowBlur=0}if(m&&me>.8){const ye=ve.match(/hsl\(([^,]+)/),be=ye?parseFloat(ye[1]):220,je=85+me*15,Xe=55+me*25;e.fillStyle=`hsla(${be}, ${je}%, ${Xe+30}%, 0.9)`,en(e,Pe,le-X/2,ie,X,Me),e.fill()}}if(!C){const K=z*.6,de=z*.3;e.save(),e.beginPath(),e.arc(A,H,z,-Math.PI/2,Math.PI/2),e.clip(),e.translate(A,H),e.rotate(o*.01%(Math.PI*2)),e.fillStyle="#ffffff",e.globalAlpha=.8,e.beginPath(),e.arc(de,0,K,0,Math.PI*2),e.arc(0,0,K,0,Math.PI*2),e.fill("evenodd"),e.globalAlpha=1,e.restore()}if(u!==!1){const K=O,ie=Math.min(f||24,100),le=Math.max(1,ie/24),ve=Math.min(K*le,n*.8),Pe=a*.18,Me=Math.max(1.2,ie/20);let ye=Math.min(Pe*Me,a*.45);const be=j-ve/2,je=a*.7,Xe=(ie-24)*.3;let we=Math.max(a*.55,Math.min(je-Xe,a*.8));if(we+ye>a-10){const Be=a-ye-10;if(Be<a*.6){const Vt=a*.25,jt=Math.min(ye,Vt);we=a-jt-10,ye=jt}else we=Be}const Ye=Math.sin(o*.1)*1.5+Math.sin(o*.07)*.8,$e=Math.cos(o*.13)*1.2,et=E||Yt.FILLED,se=v||"rgba(100, 120, 100, 0.9)",He=y||"#ffffff";if(et===Yt.FILLED||et===Yt.OUTLINE){et===Yt.FILLED?e.fillStyle=se:(e.strokeStyle=He,e.lineWidth=2),e.beginPath();const Be=16+Math.sin(o*.05)*1;e.moveTo(be+Be+Ye,we+$e),e.lineTo(be+ve-Be+Ye,we+$e),e.quadraticCurveTo(be+ve+Ye,we+$e,be+ve+Ye,we+Be+$e),e.lineTo(be+ve+Ye,we+ye-Be+$e),e.quadraticCurveTo(be+ve+Ye,we+ye+$e,be+ve-Be+Ye,we+ye+$e),e.lineTo(be+Be+Ye,we+ye+$e),e.quadraticCurveTo(be+Ye,we+ye+$e,be+Ye,we+ye-Be+$e),e.lineTo(be+Ye,we+Be+$e),e.quadraticCurveTo(be+Ye,we+$e,be+Be+Ye,we+$e),et===Yt.FILLED?e.fill():e.stroke()}const Le=ye*.12,tt=be+ve*.05+Ye,Re=we+ye*.02+$e;let Pt=.6;et===Yt.OUTLINE?Pt=.3:et===Yt.TRANSPARENT&&(Pt=.4);let Ke;if(se.startsWith("rgba")){const Be=se.match(/rgba?\(([^)]+)\)/);if(Be){const Vt=Be[1].split(",").map(lr=>parseFloat(lr.trim())),[jt,Qn,pn]=Vt,Cn=Math.max(0,Math.min(255,jt*.8+20)),va=Math.max(0,Math.min(255,Qn*.8+20)),ar=Math.max(0,Math.min(255,pn*.8+20));Ke=`rgba(${Cn}, ${va}, ${ar}, ${Pt})`}else Ke=se.replace(/[\d\.]+\)$/g,`${Pt})`)}else if(se.startsWith("rgb")){const Be=se.match(/rgb\(([^)]+)\)/);if(Be){const Vt=Be[1].split(",").map(lr=>parseInt(lr.trim())),[jt,Qn,pn]=Vt,Cn=Math.max(0,Math.min(255,Math.floor(jt*.8+20))),va=Math.max(0,Math.min(255,Math.floor(Qn*.8+20))),ar=Math.max(0,Math.min(255,Math.floor(pn*.8+20)));Ke=`rgba(${Cn}, ${va}, ${ar}, ${Pt})`}else Ke=se.replace("rgb(","rgba(").replace(")",`, ${Pt})`)}else{const Be=se.replace("#",""),Vt=parseInt(Be.substr(0,2),16),jt=parseInt(Be.substr(2,2),16),Qn=parseInt(Be.substr(4,2),16),pn=Math.max(0,Math.min(255,Math.floor(Vt*.8+20))),Cn=Math.max(0,Math.min(255,Math.floor(jt*.8+20))),va=Math.max(0,Math.min(255,Math.floor(Qn*.8+20)));Ke=`rgba(${pn}, ${Cn}, ${va}, ${Pt})`}e.fillStyle=Ke,e.beginPath();const xe=8+Math.sin(o*.03)*.5;e.moveTo(tt+xe,Re),e.lineTo(tt+Le-xe,Re),e.quadraticCurveTo(tt+Le,Re,tt+Le,Re+xe),e.lineTo(tt+Le,Re+Le-xe),e.quadraticCurveTo(tt+Le,Re+Le,tt+Le-xe,Re+Le),e.lineTo(tt+xe,Re+Le),e.quadraticCurveTo(tt,Re+Le,tt,Re+Le-xe),e.lineTo(tt,Re+xe),e.quadraticCurveTo(tt,Re,tt+xe,Re),e.fill(),e.fillStyle=He,e.strokeStyle=He,e.beginPath();for(let Be=0;Be<Le;Be+=2){const Vt=tt+Be,jt=Re+Le*.3+Math.sin(Be*.1+o*.05)*8;Be===0?e.moveTo(Vt,jt):e.lineTo(Vt,jt)}e.lineWidth=3,e.stroke();for(let Be=0;Be<3;Be++){const Vt=tt+Le*.2+Be*Le*.3,jt=Re+Le*.7;e.beginPath(),e.arc(Vt,jt,3,0,Math.PI*2),e.fill()}const Ee=tt+Le+ve*.05,Wt=we+ye*.18,_t=ye*.08;e.fillStyle=He;const Qe=Math.min(ie+2,ye*.2),Ue=un[x||g.POPPINS]||"Poppins",ft=M||Y.NONE,gn=b||"#000000",ut=ft===Y.BOLD?"900":"bold";e.font=`${ut} ${Qe}px "${Ue}", sans-serif`,e.textAlign="left";const yn=r.geometricSongName||"Name of the song",Gt=Wt+Math.cos(o*.03)*.3,ht=Math.min(ie+2,60),Ft=we+ht+15,Rt=Math.max(Gt,Ft),ke=(Be,Vt,jt,Qn)=>{if(e.save(),e.lineJoin="round",e.miterLimit=2,ft===Y.NEON?(e.shadowColor=He,e.shadowBlur=16):ft===Y.SHADOW&&(e.shadowColor="rgba(0,0,0,0.6)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4),ft===Y.OUTLINE&&(e.strokeStyle=gn,e.lineWidth=Math.max(2,Qn/18),e.strokeText(Be,Vt,jt)),ft===Y.FAUX_3D){const pn=Math.max(1,Math.floor(Qn/28));e.fillStyle="rgba(0,0,0,0.35)";for(let Cn=1;Cn<=pn;Cn++)e.fillText(Be,Vt+Cn,jt+Cn);e.fillStyle=He}if(e.fillStyle=ft===Y.NEON?"#FFFFFF":He,e.fillText(Be,Vt,jt),ft===Y.GLITCH&&m){e.globalCompositeOperation="lighter";const pn=Math.max(2,Qn/20),Cn=(Math.random()-.5)*pn,va=(Math.random()-.5)*pn;e.fillStyle="rgba(255,0,0,0.55)",e.fillText(Be,Vt+Cn,jt+va),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(Be,Vt-Cn,jt-va),e.globalCompositeOperation="source-over"}e.restore()};ke(yn,Ee+Math.sin(o*.02)*.5,Rt,Qe);const Ce=Math.min(ie,ye*.15);e.font=`${ft===Y.BOLD?"800":"600"} ${Ce}px "${Ue}", sans-serif`,e.fillStyle=et===Yt.OUTLINE?He:"rgba(255, 255, 255, 0.8)";const Oe=r.geometricArtistName||"Artist",_e=Rt+_t+Math.cos(o*.035)*.2,De=Math.min(ie,55),wt=we+ht+De+25,ct=Math.max(_e,wt);ke(Oe,Ee+Math.sin(o*.025)*.3,ct,Ce);const Bt=Math.max(80,ie*1.5),Dt=be+ve-Bt+Ye,Kn=Math.max(Rt,Re+25)+$e,ha=r.geometricSongName||"Name of the song",Q=e.measureText(ha).width,pe=Dt-Ee-20,Ve=Q>pe?Ee+Q+30:Dt;e.fillStyle=He,e.font=`${Math.min(ie+4,70)}px Arial`,e.textAlign="center",e.fillText("",Ve+Math.sin(o*.04)*.3,Kn+Math.cos(o*.05)*.2);const nt=Math.max(40,ie*.8);e.fillText("",Ve+nt+Math.sin(o*.06)*.2,Kn+Math.cos(o*.04)*.2);const ze=ve*.9,Je=ye*.06,Ae=be+ve*.05+Ye,rt=we+ye*.55+$e,Ot=we+ye*.72;e.fillStyle=(et===Yt.OUTLINE,"rgba(255, 255, 255, 0.3)"),e.fillRect(Ae,rt,ze,Je);const $t=((J=(ne=r.audioRef)==null?void 0:ne.current)==null?void 0:J.currentTime)||0,zt=(($=(ee=r.audioRef)==null?void 0:ee.current)==null?void 0:$.duration)||240,wn=zt>0?Math.min($t/zt,1):0,Qt=ze*wn;e.fillStyle=He,e.fillRect(Ae,rt,Qt,Je),e.fillStyle=He;const ll=Math.min(ie*.6,ye*.1);e.font=`${ll}px Arial`;const mt=Ot;e.textAlign="left";const Pa=Math.floor($t/60),ma=Math.floor($t%60),ga=Math.floor(zt/60),Fa=Math.floor(zt%60);e.fillText(`${Pa}:${ma.toString().padStart(2,"0")}`,Ae+Math.sin(o*.02)*.3,mt+Math.cos(o*.03)*.2),e.textAlign="right",e.fillText(`${ga}:${Fa.toString().padStart(2,"0")}`,Ae+ze+Math.sin(o*.025)*.3,mt+Math.cos(o*.035)*.2);const vn=we+ye*.9+$e,On=ve*.08,An=be+ve/2-On*2+Ye,ra=Math.min(ie+2,ye*.12);e.font=`${ra}px Arial`,e.textAlign="center";const ya=An;e.fillStyle=He,e.fillText("",ya+Math.sin(o*.03)*.3,vn+Math.cos(o*.04)*.2);const Tn=An+On;e.fillText("",Tn+Math.sin(o*.035)*.2,vn+Math.cos(o*.045)*.2);const Tt=An+On*2,Li=Math.max(20,Math.min(ie*.8,80))+Math.sin(o*.08)*1;e.fillStyle=He,e.beginPath(),e.arc(Tt,vn,Li,0,Math.PI*2),e.fill();const Zn=Math.max(3,Math.min(ie*.15,15)),ol=Math.max(16,Math.min(ie*.7,70));e.fillStyle=et===Yt.OUTLINE?He:se,e.fillRect(Tt-Zn*2,vn-ol/2,Zn,ol),e.fillRect(Tt+Zn,vn-ol/2,Zn,ol);const nr=An+On*3;e.fillStyle=He,e.fillText("",nr+Math.sin(o*.04)*.2,vn+Math.cos(o*.05)*.2);const Bi=An+On*4;e.fillText("",Bi+Math.sin(o*.045)*.3,vn+Math.cos(o*.055)*.2)}if(m){const K=w+o*2%O;e.strokeStyle="#ffffff",e.lineWidth=1,e.globalAlpha=.6,e.beginPath(),e.moveTo(P,K),e.lineTo(P+O,K),e.stroke(),e.globalAlpha=1}if(!C&&I>.5){const K=z*(.8+I*.2);e.save(),e.beginPath(),e.arc(A,H,z,-Math.PI/2,Math.PI/2),e.clip(),e.translate(A,H),e.rotate(o*.01%(Math.PI*2)),e.strokeStyle="#ffffff",e.lineWidth=1,e.globalAlpha=.4,e.beginPath(),e.arc(0,0,K,0,Math.PI*2),e.stroke(),e.globalAlpha=1,e.restore()}e.restore()},pS=(e,t,n,a,o,i,s,c,m,N,h,S=.5,C=.5,r)=>{const u=a.split(""),f=o*1.2,E=f*u.length,y=t*.1,v=y+(t-2*y)*S+h.x,x=y+(n-2*y-E)*C+h.y;e.save();const M=c===Y.BOLD?"900":"bold";if(e.font=`${M} ${o}px "${i}", sans-serif`,e.textAlign="center",e.textBaseline="middle",m!==nn.NONE){const b=o*.6,j=o*.4,p=o+b*2,d=E+j*2,I=v-p/2,O=x-j;e.fillStyle=m===nn.BLACK?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.5)",en(e,I,O,p,d,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,o/20),e.miterLimit=2,u.forEach((b,j)=>{const p=x+j*f+f/2;if(c===Y.FAUX_3D){const d=Math.max(1,Math.floor(o/30)),I=s.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=I;for(let O=1;O<=d;O++)e.fillText(b,v+O,p+O)}if(c===Y.NEON?e.fillStyle="#FFFFFF":e.fillStyle=s,c===Y.NEON?(e.shadowColor=s,e.shadowBlur=15):c===Y.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),c===Y.OUTLINE&&(e.strokeStyle=r||s,e.lineWidth=Math.max(2,o/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(b,v-1,p-1),e.strokeText(b,v+1,p-1),e.strokeText(b,v-1,p+1),e.strokeText(b,v+1,p+1),e.strokeText(b,v,p)),e.fillText(b,v,p),c===Y.NEON&&(e.shadowBlur=30,e.fillText(b,v,p)),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,c===Y.GLITCH&&N){e.save(),e.globalCompositeOperation="lighter";const d=8,I=(Math.random()-.5)*d,O=(Math.random()-.5)*d;e.fillStyle="rgba(255, 0, 0, 0.7)",e.fillText(b,v+I,p+O),e.fillStyle="rgba(0, 0, 255, 0.7)",e.fillText(b,v-I,p-O),e.fillStyle="rgba(0, 255, 0, 0.7)",e.fillText(b,v+I*.5,p-O*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=s,e.fillText(b,v,p)}}),e.restore()},Si=(e,t,n,a,{fontSizeVw:o,fontFamily:i,color:s,effect:c,bgStyle:m,isBeat:N,dragOffset:h={x:0,y:0},orientation:S=on.HORIZONTAL,strokeColor:C})=>{if(!a||!a.text)return;e.save();const{text:r}=a,u=o/100*t,f=un[i]||"Poppins",E=c===Y.BOLD?"900":"bold";if(e.font=`${E} ${u}px "${f}", sans-serif`,S===on.VERTICAL){const O=(fe==null?void 0:fe.verticalSubtitlePosition)??.5,P=(fe==null?void 0:fe.verticalSubtitleVerticalPosition)??.5;pS(e,t,n,r,u,f,s,c,m,N,h,O,P,C),e.restore();return}e.textAlign="center",e.textBaseline="bottom";const y=(fe==null?void 0:fe.horizontalSubtitlePosition)??.5,v=(fe==null?void 0:fe.horizontalSubtitleVerticalPosition)??.2,x=t*.1,M=x+(t-2*x)*y+h.x,b=x+(n-2*x)*v+h.y,j=e.measureText(r),p=j.fontBoundingBoxAscent??u,d=j.width;if(m!==nn.NONE){const O=u*.4,P=u*.2,w=d+O*2,R=p+P*2,F=M-w/2,V=b-p-P;e.fillStyle=m===nn.BLACK?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.5)",en(e,F,V,w,R,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,u/20),e.miterLimit=2;const I=(O=0,P=0)=>{e.fillText(r,M+O,b+P)};if(c===Y.FAUX_3D){const O=Math.max(1,Math.floor(u/30)),P=s.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=P;for(let w=1;w<=O;w++)I(w,w)}if(c===Y.NEON?e.fillStyle="#FFFFFF":e.fillStyle=s,c===Y.NEON?(e.shadowColor=s,e.shadowBlur=15):c===Y.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),c===Y.OUTLINE&&(e.strokeStyle=C||s,e.lineWidth=Math.max(2,u/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(r,M-1,b-1),e.strokeText(r,M+1,b-1),e.strokeText(r,M-1,b+1),e.strokeText(r,M+1,b+1),e.strokeText(r,M,b)),I(),c===Y.NEON&&(e.shadowBlur=30,I()),e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,c===Y.GLITCH){if(N){e.save(),e.globalCompositeOperation="lighter";const O=8,P=(Math.random()-.5)*O,w=(Math.random()-.5)*O;e.fillStyle="rgba(255, 0, 0, 0.7)",I(P,w),e.fillStyle="rgba(0, 0, 255, 0.7)",I(-P,-w),e.fillStyle="rgba(0, 255, 0, 0.7)",I(P*.5,-w*.5),e.globalCompositeOperation="source-over",e.restore()}e.fillStyle=s,I()}e.restore()},_S=(e,t,n,a,o,i,s,{fontSizeVw:c,fontFamily:m,color:N,effect:h,bgStyle:S,isBeat:C,dragOffset:r={x:0,y:0},orientation:u=on.HORIZONTAL,strokeColor:f,fadeInSeconds:E=.25,fadeOutSeconds:y=.25})=>{var me;if(!i||!i.text)return;if(u===on.VERTICAL){Si(e,t,n,i,{fontSizeVw:c,fontFamily:m,color:N,effect:h,bgStyle:S,isBeat:C,dragOffset:r,orientation:u,strokeColor:f});return}const v=i.time,x=(me=a[o+1])==null?void 0:me.time,M=(typeof i.endTime=="number"?i.endTime:x)??v+2.5,b=Math.max(0,E),j=Math.max(0,y),d=Math.max(0,Math.min(1,(ie=>ie<v||ie>M?0:b>0&&ie<v+b?(ie-v)/b:j>0&&ie>M-j?Math.max(0,(M-ie)/j):1)(s)));if(d<=0)return;const I=ie=>{let le=ie|0;return le^=le>>>16,le=Math.imul(le,2146121005),le^=le>>>15,le=Math.imul(le,2221713035),le^=le>>>16,le>>>0};e.save(),e.globalAlpha=d;const O=i.text,P=c/100*t,w=un[m]||"Poppins",R=h===Y.BOLD?"900":"bold";e.font=`${R} ${P}px "${w}", sans-serif`;const F=(fe==null?void 0:fe.horizontalSubtitlePosition)??.5,V=(fe==null?void 0:fe.horizontalSubtitleVerticalPosition)??.2,D=t*.1,B=D+(t-2*D)*F+r.x,T=D+(n-2*D)*V+r.y;e.textAlign="left",e.textBaseline="bottom";const L=e.measureText(O),z=L.fontBoundingBoxAscent??P,A=L.width,H=B-A/2;if(S!==nn.NONE){const ie=P*.4,le=P*.2,ve=A+ie*2,Pe=z+le*2,Me=B-ve/2,ye=T-z-le;e.fillStyle=S===nn.BLACK?"rgba(0,0,0,0.8)":"rgba(0,0,0,0.5)",en(e,Me,ye,ve,Pe,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,h===Y.NEON?(e.shadowColor=N,e.shadowBlur=15):h===Y.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5);const W=h===Y.NEON?"#FFFFFF":N,X=h===Y.OUTLINE,te=f||N,q=Math.max(2,P/20),re=Math.max(0,s-v),U=Math.floor(re/1.15),ne=Math.floor(v*1e3)^o*1000003|0,J=new Array(O.length).fill(!1),ee=I(ne^U*131);if(ee%100<45&&O.length>0){const ie=Math.min(O.length,2+(ee>>>8)%2),le=Math.max(0,O.length-ie),ve=le>0?(ee>>>16)%(le+1):0;for(let Pe=0;Pe<ie;Pe++)J[ve+Pe]=!0}let de=H;for(let ie=0;ie<O.length;ie++){const le=O[ie],ve=e.measureText(le).width,Pe=!!J[ie],Me=I(ne^U*131^ie*97);if(e.save(),!Pe)e.filter="none",X&&(e.strokeStyle=te,e.lineWidth=q,e.lineJoin="round",e.miterLimit=2,e.strokeText(le,de,T)),e.fillStyle=W,e.fillText(le,de,T),h===Y.NEON&&(e.shadowBlur=30,e.fillText(le,de,T));else{const ye=14+Me%16,be=.12+(Me>>>8)%10/100,je=.35+(Me>>>16)%20/100;e.filter="none",e.globalAlpha*=be,e.fillStyle=W,e.fillText(le,de,T),e.globalAlpha=d*je,e.filter=`blur(${ye}px)`,e.shadowColor="rgba(255,255,255,0.9)",e.shadowBlur=50,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fillStyle="rgba(255,255,255,0.9)",e.fillText(le,de,T),e.globalAlpha=d*je*.7,e.fillText(le,de,T)}if(h===Y.GLITCH&&C&&!Pe&&Me%7===0){e.save(),e.globalCompositeOperation="lighter";const ye=5,be=(Math.random()-.5)*ye,je=(Math.random()-.5)*ye;e.fillStyle="rgba(255, 0, 0, 0.55)",e.fillText(le,de+be,T+je),e.fillStyle="rgba(0, 0, 255, 0.55)",e.fillText(le,de-be,T-je),e.restore()}e.filter="none",e.restore(),de+=ve}e.restore()},LS=(e,t,n,a,o,i,s,{fontSizeVw:c,fontFamily:m,color:N,effect:h,bgStyle:S,isBeat:C,dragOffset:r={x:0,y:0},orientation:u=on.HORIZONTAL,strokeColor:f,fadeInSeconds:E=.25,fadeOutSeconds:y=.25,linesEnabled:v=!0,lineColor:x="#FFFFFF",lineThickness:M=3,lineGap:b=10})=>{var $;if(!i||!i.text)return;if(u===on.VERTICAL){Si(e,t,n,i,{fontSizeVw:c,fontFamily:m,color:N,effect:h,bgStyle:S,isBeat:C,dragOffset:r,orientation:u,strokeColor:f});return}const j=i.time,p=($=a[o+1])==null?void 0:$.time,d=(typeof i.endTime=="number"?i.endTime:p)??j+2.5,I=Math.max(0,E),O=Math.max(0,y),w=Math.max(0,Math.min(1,(K=>K<j||K>d?0:I>0&&K<j+I?(K-j)/I:O>0&&K>d-O?Math.max(0,(d-K)/O):1)(s)));if(w<=0)return;if(e.save(),e.globalAlpha=w,Si(e,t,n,i,{fontSizeVw:c,fontFamily:m,color:N,effect:h,bgStyle:S,isBeat:C,dragOffset:r,orientation:u,strokeColor:f}),!v){e.restore();return}const R=c/100*t,F=un[m]||"Poppins",V=h===Y.BOLD?"900":"bold";e.font=`${V} ${R}px "${F}", sans-serif`,e.textAlign="center",e.textBaseline="bottom";const D=(fe==null?void 0:fe.horizontalSubtitlePosition)??.5,B=(fe==null?void 0:fe.horizontalSubtitleVerticalPosition)??.2,T=t*.1,L=T+(t-2*T)*D+r.x,z=T+(n-2*T)*B+r.y,A=e.measureText(i.text),H=A.fontBoundingBoxAscent??R,W=A.width,X=Math.max(t/1920,n/1080),te=Math.max(1,M*X),q=Math.max(0,b*X),re=R*.45,Z=W+re*2,U=L-Z/2,ne=L+Z/2,J=z-H-q,ee=z+q;e.save(),e.strokeStyle=x,e.lineWidth=te,e.lineCap="round",e.shadowColor=h===Y.NEON?x:"transparent",e.shadowBlur=h===Y.NEON?10*X:0,e.beginPath(),e.moveTo(U,J),e.lineTo(ne,J),e.stroke(),e.beginPath(),e.moveTo(U,ee),e.lineTo(ne,ee),e.stroke(),e.restore(),e.restore()},BS=(e,t,n,a,{enabled:o,startTime:i,fadeIn:s,hold:c,fadeOut:m,positionX:N,positionY:h,bgOpacity:S,title:C,artist:r,description:u,fontFamily:f,effect:E,color:y,strokeColor:v,titleSizeVw:x,artistSizeVw:M,descriptionSizeVw:b,lightBarsEnabled:j=!0})=>{if(!o||!((C||"").trim()||(r||"").trim()||(u||"").trim()))return;const d=Math.max(0,a-i),I=Math.max(0,s),O=Math.max(0,c),P=Math.max(0,m),w=I+O+P;if(w<=0||d>w)return;let R=1;if(I>0&&d<I?R=d/I:P>0&&d>I+O?R=Math.max(0,1-(d-(I+O))/P):R=1,e.save(),I>0&&d<I){const J=Math.max(0,Math.min(1,R));e.save(),e.globalAlpha=1-J,e.fillStyle="black",e.fillRect(0,0,t,n),e.restore()}e.globalAlpha=R;const F=N/100*t,V=h/100*n,D=un[f]||"Poppins",B=x/100*t,T=M/100*t,L=b/100*t,z=Math.max(8,B*.25),A=[];(C||"").trim()&&A.push({text:C,size:B,weight:"800"}),(r||"").trim()&&A.push({text:r,size:T,weight:"700"}),(u||"").trim()&&A.push({text:u,size:L,weight:"600"});let H=0,W=0;A.forEach((J,ee)=>{e.font=`${J.weight} ${J.size}px "${D}", sans-serif`;const $=e.measureText(J.text);H=Math.max(H,$.width),W+=J.size,ee<A.length-1&&(W+=z)});const X=Math.max(16,t*.03),te=Math.max(12,n*.02),q=H+X*2,re=W+te*2,Z=F-q/2,U=V-re/2;if(e.fillStyle=`rgba(0, 0, 0, ${Math.max(0,Math.min(1,S))})`,en(e,Z,U,q,re,12),e.fill(),j){const J=y||"#FFFFFF",$=(a-i)*.9,K=Math.max(3,Math.floor(n*.012)),de=Math.max(6,Math.floor(K*1.6)),me=Math.max(0,Z),ie=Math.min(t,Z+q),le=Math.max(0,ie-me);if(le>0){const ve=Math.max(80,Math.floor(le*.45)),Pe=me+$*le*.9%(le+ve)-ve,Me=e.createLinearGradient(Pe,0,Pe+ve,0);Me.addColorStop(0,"rgba(255,255,255,0)"),Me.addColorStop(.35,J),Me.addColorStop(.5,"rgba(255,255,255,0.95)"),Me.addColorStop(.65,J),Me.addColorStop(1,"rgba(255,255,255,0)");const ye=be=>{be+K<0||be>n||(e.save(),e.globalAlpha=.7*R,e.globalCompositeOperation="lighter",e.shadowColor=J,e.shadowBlur=12,e.fillStyle=Me,en(e,me,be,le,K,999),e.fill(),e.restore())};ye(U-de-K),ye(U+re+de)}}if(A.length===1){const J=y||"#FFFFFF",ee=a-i;e.save(),e.globalCompositeOperation="lighter",e.globalAlpha=.45*R;const $=.5+.5*Math.sin(ee*3),K=Math.max(q,re)*(.55+.12*$),de=e.createRadialGradient(F,V,0,F,V,K);de.addColorStop(0,J),de.addColorStop(.35,(J.replace("#","rgba(").includes("rgba("),J)),de.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=de,e.fillRect(F-K,V-K,K*2,K*2),e.restore(),e.save();const me=Math.min(t*.82,q*.95),ie=Math.max(3,Math.floor(B*.08)),le=F-me/2,ve=U+re-te*.55;e.globalAlpha=.35*R,e.fillStyle="rgba(255,255,255,0.15)",en(e,le,ve,me,ie,999),e.fill();const Pe=Math.max(120,me*.35),Me=.5+.5*Math.sin(ee*1.6),ye=le+Me*(me-Pe),be=e.createLinearGradient(ye,0,ye+Pe,0);be.addColorStop(0,"rgba(255,255,255,0)"),be.addColorStop(.35,J),be.addColorStop(.5,"rgba(255,255,255,0.95)"),be.addColorStop(.65,J),be.addColorStop(1,"rgba(255,255,255,0)"),e.globalAlpha=.7*R,e.globalCompositeOperation="lighter",e.shadowColor=J,e.shadowBlur=14,e.fillStyle=be,en(e,le,ve,me,ie,999),e.fill(),e.restore()}e.textAlign="center",e.textBaseline="middle",E===Y.NEON?(e.shadowColor=y,e.shadowBlur=18):E===Y.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.6)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4);let ne=V-W/2;for(const J of A){if(e.font=`${J.weight} ${J.size}px "${D}", sans-serif`,E===Y.OUTLINE&&(e.lineJoin="round",e.miterLimit=2,e.lineWidth=Math.max(2,J.size/18),e.strokeStyle=v,e.strokeText(J.text,F,ne+J.size/2)),e.fillStyle=E===Y.NEON?"#FFFFFF":y,e.fillText(J.text,F,ne+J.size/2),E===Y.FAUX_3D){const ee=Math.max(1,Math.floor(J.size/28));e.fillStyle="rgba(0,0,0,0.35)";for(let $=1;$<=ee;$++)e.fillText(J.text,F+$,ne+J.size/2+$);e.fillStyle=y,e.fillText(J.text,F,ne+J.size/2)}if(E===Y.GLITCH){const ee=Math.max(2,J.size/20),$=(Math.random()-.5)*ee,K=(Math.random()-.5)*ee;e.globalCompositeOperation="lighter",e.fillStyle="rgba(255,0,0,0.55)",e.fillText(J.text,F+$,ne+J.size/2+K),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(J.text,F-$,ne+J.size/2-K),e.globalCompositeOperation="source-over"}ne+=J.size+z}e.restore()},DS=(e,t,n,a,o,{fontFamily:i,bgStyle:s,fontSizeVw:c,color:m,effect:N,isBeat:h,dragOffset:S={x:0,y:0},strokeColor:C})=>{if(a.length===0)return;e.save();const r=c/100*t,u=un[i]||"Poppins",f=N===Y.BOLD?"900":"bold";e.font=`${f} ${r}px "${u}", sans-serif`,e.textAlign="center",e.textBaseline="bottom";const E=t/2+S.x,y=n-n*.08+S.y;let v;for(let B=a.length-1;B>=0;B--){const T=a[B];if(o>=T.time&&(!T.endTime||o<=T.endTime)){v=T;break}}if(!v)return;const{text:x}=v,M=x.split(""),b=.2,j=v.time,p=o-j,d=Math.min(M.length,Math.floor(p/b));if(d<=0)return;const I=M.slice(0,d).join(""),w=Math.floor(o/.5)%2===0&&d<M.length?I+"|":I,R=e.measureText(w),F=R.fontBoundingBoxAscent??r,V=R.width;if(s!==nn.NONE){const B=r*.4,T=r*.2,L=V+B*2,z=F+T*2,A=E-L/2,H=y-F-T;s===nn.BLACK?e.fillStyle="rgba(0,0,0,0.8)":s===nn.TRANSPARENT&&(e.fillStyle="rgba(0,0,0,0.5)"),en(e,A,H,L,z,5),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,r/20),e.miterLimit=2;const D=(B=0,T=0)=>{e.fillText(w,E+B,y+T)};if(N===Y.FAUX_3D){const B=Math.max(1,Math.floor(r/30)),T=m.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=T;for(let L=1;L<=B;L++)D(L,L)}if(N===Y.NEON?e.fillStyle="#FFFFFF":e.fillStyle=m,N===Y.NEON?(e.shadowColor=m,e.shadowBlur=h?r*.5:15):N===Y.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),N===Y.OUTLINE&&(e.strokeStyle=C||m,e.lineWidth=Math.max(2,r/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(w,E-1,y-1),e.strokeText(w,E+1,y-1),e.strokeText(w,E-1,y+1),e.strokeText(w,E+1,y+1),e.strokeText(w,E,y)),D(),N===Y.NEON&&(e.shadowBlur=30,D()),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,N===Y.GLITCH&&h){e.save(),e.globalCompositeOperation="lighter";const B=8,T=(Math.random()-.5)*B,L=(Math.random()-.5)*B;e.fillStyle="rgba(255, 0, 0, 0.7)",D(T,L),e.fillStyle="rgba(0, 0, 255, 0.7)",D(-T,-L),e.fillStyle="rgba(0, 255, 0, 0.7)",D(T*.5,-L*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=m,D()}if(d<M.length){const B=M[d],T=M.slice(0,d).join(""),L=e.measureText(T),z=E-V/2+L.width,A=y;e.save(),e.shadowColor=m,e.shadowBlur=r*.3,e.fillStyle=m,e.font=`bold ${r*1.1}px "${i}", sans-serif`,e.fillText(B,z,A),e.restore()}e.restore()},zS=(e,t,n,a,o,i,s,c,m,N,h)=>{const C=e.measureText(t).width,r=o;if(c!==nn.NONE){const f=o*.3,E=o*.15,y=Math.min(C+f*2,m*.95),v=r+E*2,x=n-y/2,M=a-r/2-E;c===nn.BLACK?e.fillStyle="rgba(0,0,0,0.7)":c===nn.TRANSPARENT&&(e.fillStyle="rgba(0,0,0,0.4)"),en(e,x,M,y,v,8),e.fill()}e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.lineJoin="round",e.lineWidth=Math.max(2,o/20),e.miterLimit=2;const u=(f=0,E=0)=>{e.fillText(t,n+f,a+E)};if(N===Y.FAUX_3D){const f=Math.max(1,Math.floor(o/30)),E=s.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=E;for(let y=1;y<=f;y++)u(y,y)}if(N===Y.NEON?e.fillStyle="#FFFFFF":e.fillStyle=s,N===Y.NEON?(e.shadowColor=s,e.shadowBlur=h?o*.4:15):N===Y.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),N===Y.OUTLINE&&(e.strokeStyle=s,e.lineWidth=Math.max(2,o/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(t,n-1,a-1),e.strokeText(t,n+1,a-1),e.strokeText(t,n-1,a+1),e.strokeText(t,n+1,a+1),e.strokeText(t,n,a)),u(),N===Y.NEON&&(e.shadowBlur=30,u()),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,N===Y.GLITCH&&h){e.save(),e.globalCompositeOperation="lighter";const f=8,E=(Math.random()-.5)*f,y=(Math.random()-.5)*f;e.fillStyle="rgba(255, 0, 0, 0.7)",u(E,y),e.fillStyle="rgba(0, 0, 255, 0.7)",u(-E,-y),e.fillStyle="rgba(0, 255, 0, 0.7)",u(E*.5,-y*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=s,u()}},VS=(e,t,n,a,o,{fontFamily:i,bgStyle:s,fontSizeVw:c,color:m,effect:N,isBeat:h,dragOffset:S={x:0,y:0}})=>{var z;if(a.length===0)return;e.save();const C=c/100*t,r=un[i]||"Poppins",u=N===Y.BOLD?"900":"bold";e.font=`${u} ${C}px "${r}", sans-serif`,e.textAlign="center",e.textBaseline="middle";const f=t*.6,E=n*.25,y=(t-f)/2+S.x,v=n*.65+S.y,x=E/3.5;let M=-1;for(let A=a.length-1;A>=0;A--){const H=a[A];if(o>=H.time&&(!H.endTime||o<=H.endTime)){M=A;break}}if(M===-1){e.restore();return}const b=Math.floor(M/3),j=b*3,p=a.slice(j,j+3),d=A=>Math.max(0,Math.min(1,A)),I=A=>1-Math.pow(1-A,3),O=A=>A<.5?4*A*A*A:1-Math.pow(-2*A+2,3)/2,P=.45,w=.5,R=t*.65,F=t*.65,V=(b+1)*3;let B=V<a.length?(z=a[V])==null?void 0:z.time:void 0;if(B===void 0){const A=p.map(H=>typeof H.endTime=="number"?H.endTime:void 0).filter(H=>typeof H=="number");B=A.length?Math.max(...A):void 0}let T=0;if(typeof B=="number"&&B>0){const A=B-w;T=d((o-A)/w)}const L=O(T)*F;for(let A=0;A<Math.min(3,p.length);A++){const H=p[A];if(!H)continue;const W=o>=H.time,X=typeof B=="number"?o<=B:!0;if(!W||!X)continue;const te=v+A*x+x/2,q=y+f/2,re=d((o-H.time)/P),Z=(1-I(re))*R,U=q+Z-L,ne=te;zS(e,H.text,U,ne,C,r,m,s,f,N,h)}e.restore()},YS=(e,t,n,a,o,{fontFamily:i,bgStyle:s,fontSize:c,positionX:m,positionY:N,color:h,effect:S,dragOffset:C={x:0,y:0}})=>{if(a.length===0)return;e.save();let r=0;for(let b=0;b<a.length;b++){const j=a[b];if(o<j.time)break;if(!j.endTime||o<=j.endTime){r=b;break}r=b}const u=Math.max(0,r-5),f=Math.min(a.length,u+10),E=a.slice(u,f);if(E.length===0){e.restore();return}const y=n*.08,v=t/2+m*t/100+C.x,M=n/2+N*n/100+C.y-E.length*y/2;E.forEach((b,j)=>{const p=u+j===r,d=u+j<r,I=t*(c/100),O=p?I*1.5:I,P=un[i]||"Poppins",w=S===Y.BOLD?"900":"bold";e.font=`${w} ${O}px "${P}", sans-serif`,e.textAlign="center",e.textBaseline="middle";const R=v,F=M+j*y+y/2,V=e.measureText(b.text),D=V.width,B=V.fontBoundingBoxAscent??c;if(s!==nn.NONE){const T=c*.4,L=c*.2,z=D+T*2,A=B+L*2,H=R-z/2,W=F-B/2-L;s===nn.BLACK?e.fillStyle="rgba(0, 0, 0, 0.8)":s===nn.TRANSPARENT&&(e.fillStyle="rgba(0, 0, 0, 0.5)"),en(e,H,W,z,A,5),e.fill()}if(p?e.fillStyle=h:d?e.fillStyle=h+"99":e.fillStyle=h+"CC",e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,S===Y.FAUX_3D){const T=Math.max(1,Math.floor(O/30)),L=h.replace("rgb","rgba").replace(")",", 0.6)").replace("#","rgba(");e.fillStyle=L;for(let z=1;z<=T;z++)e.fillText(b.text,R+z,F+z)}if(S===Y.NEON?e.fillStyle="#FFFFFF":e.fillStyle=h,S===Y.NEON?(e.shadowColor=h,e.shadowBlur=p?20:15):S===Y.SHADOW&&(e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=10,e.shadowOffsetX=5,e.shadowOffsetY=5),S===Y.OUTLINE&&(e.strokeStyle=h,e.lineWidth=Math.max(2,O/20),e.lineJoin="round",e.miterLimit=2,e.strokeText(b.text,R-1,F-1),e.strokeText(b.text,R+1,F-1),e.strokeText(b.text,R-1,F+1),e.strokeText(b.text,R+1,F+1),e.strokeText(b.text,R,F)),e.fillText(b.text,R,F),S===Y.NEON&&(e.shadowBlur=30,e.fillText(b.text,R,F)),e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0,S===Y.GLITCH&&p){e.save(),e.globalCompositeOperation="lighter";const T=8,L=(Math.random()-.5)*T,z=(Math.random()-.5)*T;e.fillStyle="rgba(255, 0, 0, 0.7)",e.fillText(b.text,R+L,F+z),e.fillStyle="rgba(0, 0, 255, 0.7)",e.fillText(b.text,R-L,F-z),e.fillStyle="rgba(0, 255, 0, 0.7)",e.fillText(b.text,R+L*.5,F-z*.5),e.globalCompositeOperation="source-over",e.restore(),e.fillStyle=h,e.fillText(b.text,R,F)}}),e.restore()},US=(e,t,n,{width:a,height:o,color:i,strokeColor:s,fontFamily:c,graphicEffect:m,position:N,textSize:h,textPositionX:S,textPositionY:C,rotationDeg:r,isBeat:u})=>{if(!t)return;e.save();const f=a*.025,E=o*.05;let y=0,v=0;const M=n.slice(0,32).reduce((F,V)=>F+V,0)/32/255,b=a*(h/100),j=b*.05,p=b+M*j,d=m===Y.BOLD?"900":"bold";switch(e.font=`${d} ${p}px "${c}", sans-serif`,e.lineJoin="round",e.miterLimit=2,N){case bn.BOTTOM_RIGHT:y=a-f,v=o-E,e.textAlign="right",e.textBaseline="bottom";break;case bn.BOTTOM_LEFT:y=f,v=o-E,e.textAlign="left",e.textBaseline="bottom";break;case bn.TOP_RIGHT:y=a-f,v=E,e.textAlign="right",e.textBaseline="top";break;case bn.TOP_LEFT:y=f,v=E,e.textAlign="left",e.textBaseline="top";break;case bn.CENTER:y=a/2,v=o/2,e.textAlign="center",e.textBaseline="middle";break}const I=a*(S/100),O=o*(C/100);y+=I,v+=O;const P=(r||0)*Math.PI/180;P!==0&&(e.translate(y,v),e.rotate(P),y=0,v=0),m===Y.NEON?(e.shadowColor=i,e.shadowBlur=20):m===Y.SHADOW&&(e.shadowColor="rgba(0,0,0,0.65)",e.shadowBlur=12,e.shadowOffsetX=4,e.shadowOffsetY=4);const w=y,R=v;if(m===Y.OUTLINE&&(e.strokeStyle=s?ge(s,.9):"rgba(0,0,0,0.75)",e.lineWidth=Math.max(2,p/18),e.strokeText(t,w,R)),m===Y.FAUX_3D){const F=Math.max(1,Math.floor(p/28));e.fillStyle="rgba(0,0,0,0.35)";for(let V=1;V<=F;V++)e.fillText(t,w+V,R+V)}if(e.fillStyle=m===Y.NEON?"#FFFFFF":i,e.fillText(t,w,R),m===Y.NEON&&(e.shadowBlur=10,e.fillText(t,w,R)),m===Y.GLITCH&&u){const F=Math.max(2,p/20),V=(Math.random()-.5)*F,D=(Math.random()-.5)*F;e.globalCompositeOperation="lighter",e.fillStyle="rgba(255,0,0,0.55)",e.fillText(t,w+V,R+D),e.fillStyle="rgba(0,255,255,0.55)",e.fillText(t,w-V,R-D),e.globalCompositeOperation="source-over"}e.restore()},HS=(e,t)=>{if(!e)return null;if(t<=0)return e;const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++){const o=Math.pow(a/e.length,t);n[a]=e[a]*o}return n},WS=(e,t)=>{if(!e)return null;if(t<=0)return e;const n=new Uint8Array(e.length);for(let a=0;a<e.length;a++){const o=Math.max(0,a-t),i=Math.min(e.length-1,a+t);let s=0;for(let c=o;c<=i;c++)s+=e[c];n[a]=s/(i-o+1)}return n},yg=(e,t,n,a,o,i,s,c,m,N,h,S,C,r=!0,u=!0)=>{var J;const f=(fe==null?void 0:fe.current)??{},E=typeof(f==null?void 0:f.effectScale)=="number"?f.effectScale:1,y=(f==null?void 0:f.visualizationTransform)||{x:0,y:0},v=Math.max(.1,Math.min(3,E)),x=typeof y.x=="number"&&!isNaN(y.x)?y.x:0,M=typeof y.y=="number"&&!isNaN(y.y)?y.y:0,b=Math.abs(x)>50?x/n*100:x,j=Math.abs(M)>50?M/a*100:M,p=Math.max(-40,Math.min(40,b)),d=Math.max(-40,Math.min(40,j)),I=typeof(f==null?void 0:f.effectOffsetX)=="number"?f.effectOffsetX:0,O=typeof(f==null?void 0:f.effectOffsetY)=="number"?f.effectOffsetY:0,P=n/2+I+p/100*n,w=a/2+O+d/100*a,R=(ee,$,K)=>ee+($-ee)*K;_a.initialized?(_a.cx=R(_a.cx,P,.15),_a.cy=R(_a.cy,w,.15),_a.scale=R(_a.scale,v,.15)):_a={cx:P,cy:w,scale:v,initialized:!0};const F=n/2,D=((fe==null?void 0:fe.vinylLayoutMode)||"horizontal")==="vertical"?a*.35:a/2,T=Math.min(n,a)*.22,L=T*.82,z=e.createRadialGradient(F,D,T*.2,F,D,T*1.6);z.addColorStop(0,"rgba(0,0,0,0.05)"),z.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=z,e.fillRect(0,0,n,a);const H=10/60*(Math.PI*2)/60,W=o*H+(m?.001:0),X=(fe==null?void 0:fe.vinylCenterFixed)||!1;if(r){e.save(),e.translate(F,D),X||e.rotate(W);const ee=(fe==null?void 0:fe.vinylImage)??null;if(ee){const $=xu("vinylImage",ee);if($&&$.complete){const K=T*.6,de=K*2;e.save(),e.beginPath(),e.arc(0,0,K,0,Math.PI*2),e.clip(),e.drawImage($,-de/2,-de/2,de,de),e.restore()}}if(e.save(),e.globalAlpha=.7,e.fillStyle="#1c1f24",e.beginPath(),e.arc(0,0,T*.75,0,Math.PI*2),e.arc(0,0,T*.6,0,Math.PI*2,!0),e.fill("evenodd"),e.restore(),ee){const $=xu("vinylImageOuter",ee);if($&&$.complete){e.save(),e.beginPath(),e.arc(0,0,T,0,Math.PI*2),e.arc(0,0,T*.75,0,Math.PI*2,!0),e.clip("evenodd"),e.rotate(W),e.globalAlpha=.7;const K=T*2;e.drawImage($,-K/2,-K/2,K,K),e.restore()}}if(e.restore(),u){const $=F-T*.92,K=D-T*.92;e.fillStyle="rgba(30,32,36,0.9)",e.beginPath(),e.arc($,K,16,0,Math.PI*2),e.fill(),e.fillStyle="#9aa3ac",e.beginPath(),e.arc($,K,8,0,Math.PI*2),e.fill();const de=-Math.PI*.72,me=F+Math.cos(de)*L*1,ie=D+Math.sin(de)*L*1,le=$+(me-$)*.58+10,ve=K+(ie-K)*.58-6,Pe=e.createLinearGradient($,K,me,ie);Pe.addColorStop(0,"#ffffff"),Pe.addColorStop(1,"#e5e7eb"),e.strokeStyle=Pe,e.lineWidth=5,e.lineCap="round",e.beginPath(),e.moveTo($,K),e.lineTo(le,ve),e.stroke(),e.lineWidth=4,e.beginPath(),e.moveTo(le,ve),e.lineTo(me,ie),e.stroke();const Me=14,ye=8,be=me-le,je=ie-ve,Xe=Math.hypot(be,je)||1,we=be/Xe,qe=je/Xe,Ye=-qe,$e=we,et=me-we*(Me*.2),se=ie-qe*(Me*.2);e.fillStyle="#f3f4f6",e.beginPath(),e.moveTo(et+Ye*ye,se+$e*ye),e.lineTo(et-Ye*ye,se-$e*ye),e.lineTo(et-Ye*ye+we*Me,se-$e*ye+qe*Me),e.lineTo(et+Ye*ye+we*Me,se+$e*ye+qe*Me),e.closePath(),e.fill(),e.fillStyle="#ffffff",e.beginPath();const He=me,Le=ie;e.moveTo(He,Le),e.lineTo(He-we*6+Ye*3,Le-qe*6+$e*3),e.lineTo(He-we*6-Ye*3,Le-qe*6-$e*3),e.closePath(),e.fill(),e.globalAlpha=.25,e.beginPath(),e.arc(F,D,L*.95,Math.atan2(se-D,et-F)-.02,Math.atan2(se-D,et-F)+.02),e.strokeStyle="#000",e.lineWidth=8,e.stroke(),e.globalAlpha=1}}const te=n*.21,q=300,re=(fe==null?void 0:fe.controlCardEnabled)!==!1;let Z,U;if(((fe==null?void 0:fe.vinylLayoutMode)||"horizontal")==="vertical"?(Z=F-te*.5,U=D+T+80,U+q>a-10&&(U=a-q-10),Z=Math.max(10,Z),Z=Math.min(Z,n-te-10)):(Z=F+T*1.25,U=D-q*.5,Z+te>n-10&&(Z=n-te-10),U=Math.max(10,Math.min(U,a-q-10))),re){const ee=fe==null?void 0:fe.controlCardStyle,$=(fe==null?void 0:fe.controlCardColor)||"#111827",K=(fe==null?void 0:fe.controlCardBackgroundColor)||"rgba(0, 0, 0, 0.5)",de=un[(fe==null?void 0:fe.controlCardFontFamily)||g.POPPINS]||"Poppins";fe!=null&&fe.controlCardTextEffect||Y.NONE,fe!=null&&fe.controlCardStrokeColor,ee!=="transparent"?e.fillStyle=K:e.fillStyle="rgba(0,0,0,0)",e.strokeStyle=ee==="outline"?$:"rgba(0,0,0,0.07)",e.lineWidth=2;const me=14;e.beginPath(),e.moveTo(Z+me,U),e.lineTo(Z+te-me,U),e.quadraticCurveTo(Z+te,U,Z+te,U+me),e.lineTo(Z+te,U+q-me),e.quadraticCurveTo(Z+te,U+q,Z+te-me,U+q),e.lineTo(Z+me,U+q),e.quadraticCurveTo(Z,U+q,Z,U+q-me),e.lineTo(Z,U+me),e.quadraticCurveTo(Z,U,Z+me,U),e.closePath(),ee!=="transparent"&&e.fill(),ee==="outline"&&e.stroke();const ie=22,le=Z+ie,ve=te-ie*2,Pe=ke=>{const Ce=Math.floor(ke/60),Oe=Math.floor(ke%60);return`${Ce.toString().padStart(2,"0")}:${Oe.toString().padStart(2,"0")}`};e.fillStyle=$,e.font=`bold 16px "${de}", sans-serif`,e.textBaseline="middle";const Me=U+q-140,ye=Me+24,be=(ke,Ce,Oe,_e,De)=>{e.beginPath(),e.moveTo(ke+De,Ce),e.lineTo(ke+Oe-De,Ce),e.quadraticCurveTo(ke+Oe,Ce,ke+Oe,Ce+De),e.lineTo(ke+Oe,Ce+_e-De),e.quadraticCurveTo(ke+Oe,Ce+_e,ke+Oe-De,Ce+_e),e.lineTo(ke+De,Ce+_e),e.quadraticCurveTo(ke,Ce+_e,ke,Ce+_e-De),e.lineTo(ke,Ce+De),e.quadraticCurveTo(ke,Ce,ke+De,Ce),e.closePath()},je=10,Xe=Me-je/2,we=e.createLinearGradient(le,Xe,le+ve,Xe);we.addColorStop(0,"rgba(255,255,255,0.08)"),we.addColorStop(1,"rgba(0,0,0,0.18)"),e.fillStyle=we,be(le,Xe,ve,je,je/2),e.fill(),e.strokeStyle="rgba(0,0,0,0.25)",e.lineWidth=1,be(le+.5,Xe+.5,ve-1,je-1,je/2-1),e.stroke(),e.strokeStyle="rgba(255,255,255,0.15)",e.lineWidth=2;for(let ke=0;ke<=10;ke++){const Ce=le+ve*ke/10;e.beginPath(),e.moveTo(Ce,Xe+je+3),e.lineTo(Ce,Xe+je+7),e.stroke()}const qe=(J=fe==null?void 0:fe.audioRef)==null?void 0:J.current,Ye=(qe==null?void 0:qe.duration)||0,$e=(qe==null?void 0:qe.currentTime)||0,et=Ye>0?$e/Ye:0,se=Math.max(0,Math.min(ve,ve*et)),He=e.createLinearGradient(le,Xe,le+se,Xe);He.addColorStop(0,$),He.addColorStop(1,"rgba(255,255,255,0.85)"),e.fillStyle=He,be(le,Xe,se,je,je/2),e.fill();const Le=8,tt=(typeof o=="number"?o:0)%Le;e.save(),e.beginPath(),be(le,Xe,se,je,je/2),e.clip(),e.strokeStyle="rgba(255,255,255,0.25)",e.lineWidth=3;for(let ke=le-Le+tt;ke<le+se;ke+=Le)e.beginPath(),e.moveTo(ke,Xe),e.lineTo(ke+6,Xe+je),e.stroke();e.restore(),e.fillStyle="#ffffff";const Re=le+ve*et;e.beginPath(),e.arc(Re,Me,9,0,Math.PI*2),e.fill(),e.fillStyle="#ffffff",e.font="bold 16px Poppins, sans-serif",e.textBaseline="middle",e.fillText(Pe($e),le+2,ye),Ye>0&&e.fillText(Pe(Ye),le+ve-48,ye);const Pt=20,Ke=le+Pt,xe=ve-Pt*2,Ee=U+100,Wt=64,_t=(ke,Ce,Oe)=>{if(!t)return .5;const _e=t.length,De=Math.max(0,Math.min(_e-1,Math.floor(Ce*_e))),wt=Math.max(De+1,Math.min(_e,Math.floor(Oe*_e))),ct=De+Math.floor(ke*(wt-De-1));return t[ct]/255},Qe=1300,Ue=()=>{e.beginPath();for(let ke=0;ke<=Wt;ke++){const Ce=ke/Wt,Oe=_t(Ce,.25,.6),_e=Math.max(0,Oe-.4),De=Ee-Math.pow(_e,1.25)*Qe,wt=Ke+Ce*xe;ke===0?e.moveTo(wt,De):e.lineTo(wt,De)}e.strokeStyle="rgba(255,255,255,0.92)",e.lineWidth=2,e.stroke()},ft=Wt+1,gn=Math.max(2,xe/ft*.6);for(let ke=0;ke<ft;ke++){const Ce=ke/(ft-1),Oe=_t(Ce,.05,.35),_e=Math.max(0,Oe-.28),De=Math.pow(_e,1.35)*900,ct=Ke+Ce*xe-gn/2,Bt=Ee-De,Dt=e.createLinearGradient(0,Bt,0,Ee);Dt.addColorStop(0,"rgba(210,230,110,0.85)"),Dt.addColorStop(1,"rgba(210,230,110,0.15)"),e.fillStyle=Dt,e.fillRect(ct,Bt,gn,De),e.fillStyle="rgba(255,255,255,0.25)",e.fillRect(ct,Bt,gn,2)}Ue();const ut=Me+80,yn=100,Gt=Z+te*.5,ht=Gt-yn,Ft=Gt+yn,Rt=(ke,Ce)=>{e.fillStyle="rgba(0,0,0,0.25)",e.beginPath(),e.arc(ke,Ce,28,0,Math.PI*2),e.fill()};Rt(ht,ut),Rt(Gt,ut),Rt(Ft,ut),e.fillStyle=$,e.beginPath(),e.moveTo(ht+10,ut-10),e.lineTo(ht-6,ut),e.lineTo(ht+10,ut+10),e.closePath(),e.fill(),e.fillRect(Gt-8,ut-12,6,24),e.fillRect(Gt+2,ut-12,6,24),e.beginPath(),e.moveTo(Ft-10,ut-10),e.lineTo(Ft+6,ut),e.lineTo(Ft-10,ut+10),e.closePath(),e.fill()}},Gf={};function xu(e,t){const n=Gf[e];if(n&&n.src===t)return n;const a=new Image;return a.crossOrigin="anonymous",a.src=t,a.onload=()=>{console.log("[Vinyl] image loaded",e)},a.onerror=o=>{console.warn("[Vinyl] image failed to load",e,t,o)},Gf[e]=a,a}const GS=(e,t,n,a,o,i,s,c,m)=>{if(!t)return;const N=(fe==null?void 0:fe.pianoOpacity)??1,h=a*.25,S=28,C=n/S,r=C*.6,u=h*.6;e.save(),e.globalAlpha=N;for(let E=0;E<S;E++){const y=E*C,v=Math.floor(t.length*.7/S),x=E*v,M=x+v;let b=0;for(let p=x;p<M;p++)b+=t[p]||0;b=b/(v*255);const j=Math.pow(b,2)*i>.1;e.fillStyle=j?s.accent:"#f8f9fa",e.strokeStyle="#dee2e6",e.lineWidth=1,e.fillRect(y,a-h,C-1,h),e.strokeRect(y,a-h,C-1,h),e.fillStyle=j?"#ffffff":"#6c757d",e.font="12px Arial",e.textAlign="center",e.fillText(String.fromCharCode(65+E%7),y+C/2,a-10)}const f=[1,1,0,1,1,1,0];for(let E=0;E<S-1;E++){const y=E%7;if(f[y]===1){const v=(E+1)*C-r/2,x=((t[Math.floor(E*t.length*.7/S)]||0)+(t[Math.floor((E+1)*t.length*.7/S)]||0))/2/255,M=Math.pow(x,2)*i>.15;e.fillStyle=M?s.secondary:"#343a40",e.fillRect(v,a-h,r,u),e.fillStyle="rgba(255, 255, 255, 0.2)",e.fillRect(v,a-h,r,5)}}e.restore()},$S={[oe.MONSTERCAT]:ug,[oe.MONSTERCAT_V2]:IS,[oe.MONSTERCAT_GLITCH]:MS,[oe.NEBULA_WAVE]:CS,[oe.LUMINOUS_WAVE]:yS,[oe.FUSION]:vS,[oe.TECH_WAVE]:bS,[oe.STELLAR_CORE]:NS,[oe.WATER_RIPPLE]:ES,[oe.RADIAL_BARS]:xS,[oe.PARTICLE_GALAXY]:SS,[oe.LIQUID_METAL]:wS,[oe.CRT_GLITCH]:TS,[oe.GLITCH_WAVE]:OS,[oe.DATA_MOSH]:PS,[oe.SIGNAL_SCRAMBLE]:FS,[oe.PIXEL_SORT]:RS,[oe.REPULSOR_FIELD]:jS,[oe.AUDIO_LANDSCAPE]:AS,[oe.PIANO_VIRTUOSO]:GS,[oe.GEOMETRIC_BARS]:Eu,[oe.Z_CUSTOM]:Eu,[oe.VINYL_RECORD]:yg,[oe.BASIC_WAVE]:Wf,[oe.LYRIC_PULSE_LINE]:kS,[oe.CHINESE_CONTROL_CARD]:Wf,[oe.DYNAMIC_CONTROL_CARD]:cg,[oe.FRAME_PIXELATION]:dg,[oe.PHOTO_SHAKE]:fg,[oe.CIRCULAR_WAVE]:hg,[oe.BLURRED_EDGE]:mg,[oe.KE_YE_CUSTOM_V2]:gg},XS=new Set([oe.PIANO_VIRTUOSO,oe.MONSTERCAT_GLITCH,oe.CRT_GLITCH,oe.GLITCH_WAVE,oe.DATA_MOSH,oe.SIGNAL_SCRAMBLE,oe.PIXEL_SORT]),vg=k.forwardRef((e,t)=>{const{analyser:n,audioRef:a,isPlaying:o,disableVisualizer:i}=e,s=k.useRef(0),c=k.useRef(0),m=k.useRef([]),N=k.useRef([]),h=k.useRef(null),S=k.useRef(null),C=k.useRef(null),r=k.useRef(null),u=k.useRef(null),f=k.useRef(e),E=k.useRef({isDragging:!1,draggedElement:null,dragOffset:{x:0,y:0},startPosition:{x:0,y:0}}),y=k.useRef({isPlaying:!1,startTime:0,duration:5e3,currentFrame:0,lastRenderMs:0,lastBeatMs:0,particles:[]});k.useEffect(()=>{f.current=e,fe=e},[e]),k.useEffect(()=>{m.current=[],N.current=[],Da.imageData=null,Da.framesLeft=0},[e.visualizationType]),k.useEffect(()=>{if(e.backgroundImage){console.log("Loading background image:",e.backgroundImage);const d=new Image;d.crossOrigin="anonymous",d.src=e.backgroundImage,d.onload=()=>{console.log("Background image loaded successfully"),h.current=d},d.onerror=I=>{console.error("Failed to load background image:",I),h.current=null}}else console.log("No background image prop provided"),h.current=null},[e.backgroundImage]),k.useEffect(()=>{if(e.backgroundVideo){console.log("Loading background video:",e.backgroundVideo),S.current&&(S.current.pause(),S.current.src="",S.current.load());const d=document.createElement("video");d.crossOrigin="anonymous",d.src=e.backgroundVideo,d.loop=!1,d.muted=!0,d.playsInline=!0,d.preload="auto";let I=!1,O=null;d.onseeked=()=>{I&&e.isPlaying&&a.current&&!a.current.ended&&(I=!1,O&&(clearTimeout(O),O=null),d.readyState>=2?d.play().catch(w=>{console.error("Failed to replay background video:",w)}):setTimeout(()=>{d.readyState>=2&&e.isPlaying&&a.current&&!a.current.ended&&d.play().catch(w=>{console.error("Failed to replay background video after wait:",w)})},50))},d.onloadedmetadata=()=>{console.log("Background video loaded successfully"),S.current=d,e.isPlaying&&a.current&&(d.currentTime=0,d.play().catch(w=>{console.error("Failed to play background video:",w)}))},d.onerror=w=>{console.error("Failed to load background video:",w),S.current=null},d.onended=()=>{e.isPlaying&&a.current&&!a.current.ended?(I=!0,d.pause(),requestAnimationFrame(()=>{d.currentTime=0,O&&clearTimeout(O),O=window.setTimeout(()=>{I&&e.isPlaying&&a.current&&!a.current.ended&&(I=!1,d.readyState>=2&&d.play().catch(w=>{console.error("Failed to replay background video (timeout):",w)}))},200)})):d.pause()};const P=()=>{d&&!d.paused&&d.pause()};a.current&&a.current.addEventListener("ended",P)}else S.current&&(S.current.pause(),S.current.src="",S.current.load()),S.current=null,C.current=null;return()=>{S.current&&(S.current.pause(),S.current.src="",S.current.load()),C.current=null}},[e.backgroundVideo,e.isPlaying]),k.useEffect(()=>{S.current&&(e.isPlaying?S.current.paused&&S.current.play().catch(d=>{console.error("Failed to play background video:",d)}):S.current.paused||S.current.pause())},[e.isPlaying]),k.useEffect(()=>{if(e.geometricFrameImage){console.log("Loading geometric frame image:",e.geometricFrameImage);const d=new Image;d.crossOrigin="anonymous",d.src=e.geometricFrameImage,d.onload=()=>{console.log("Geometric frame image loaded successfully"),r.current=d},d.onerror=I=>{console.error("Failed to load geometric frame image:",I),r.current=null}}else r.current=null},[e.geometricFrameImage]),k.useEffect(()=>{if(e.geometricSemicircleImage){console.log("Loading geometric semicircle image:",e.geometricSemicircleImage);const d=new Image;d.crossOrigin="anonymous",d.src=e.geometricSemicircleImage,d.onload=()=>{console.log("Geometric semicircle image loaded successfully"),u.current=d},d.onerror=I=>{console.error("Failed to load geometric semicircle image:",I),u.current=null}}else u.current=null},[e.geometricSemicircleImage]);const v=k.useRef([]),x=k.useRef(null),M=k.useCallback(()=>{var De,wt,ct,Bt,Dt,Kn,ha;const{visualizationType:d,customText:I,textColor:O,fontFamily:P,graphicEffect:w,textSize:R,textPositionX:F,textPositionY:V,sensitivity:D,smoothing:B,equalization:T,backgroundColor:L,colors:z,watermarkPosition:A,waveformStroke:H,isTransitioning:W,transitionType:X,backgroundImages:te,currentImageIndex:q,subtitles:re,showSubtitles:Z,subtitleFontSize:U,subtitleFontFamily:ne,subtitleColor:J,subtitleEffect:ee,subtitleBgStyle:$,effectScale:K,effectOffsetX:de,effectOffsetY:me,filterEffectType:ie,filterEffectIntensity:le,filterEffectOpacity:ve,filterEffectSpeed:Pe,filterEffectEnabled:Me,controlCardEnabled:ye,controlCardFontSize:be,controlCardStyle:je,controlCardColor:Xe,controlCardBackgroundColor:we,controlCardFontFamily:qe,controlCardTextEffect:Ye,controlCardStrokeColor:$e}=f.current,et=t.current;if(!et)return;const se=et.getContext("2d");if(!se)return;const He=f.current.disableVisualizer;if(!n&&!He)return;c.current++;let Le=null,tt=0,Re=!1;n&&(Le=new Uint8Array(n.frequencyBinCount),n.getByteFrequencyData(Le),tt=Le.slice(0,32).reduce((Q,pe)=>Q+pe,0)/32,tt>180&&(Re=!0));const Pt=HS(Le,T),Ke=WS(Pt,B),{width:xe,height:Ee}=et,Wt=xe/2,_t=Ee/2;let Qe={...z};if(Qe.name===Ie.RAINBOW){const Q=c.current*.1%360,pe=Q,Ve=Q+80;Qe={...Qe,primary:`hsl(${Q}, 90%, 60%)`,secondary:`hsl(${(Q+120)%360}, 80%, 60%)`,accent:`hsl(${(Q+40)%360}, 100%, 80%)`,hueRange:[pe,Ve]}}L==="transparent"?se.clearRect(0,0,xe,Ee):(se.fillStyle=L,se.fillRect(0,0,xe,Ee));const Ue=S.current,ft=Ue&&Ue.readyState>=2,gn=h.current&&h.current.complete;if(ft&&Ue){const Q=xe/Ee,pe=Ue.videoWidth/Ue.videoHeight;let Ve,nt,ze,Je;if(Q>pe?(ze=Ue.videoWidth,Je=ze/Q,Ve=0,nt=(Ue.videoHeight-Je)/2):(Je=Ue.videoHeight,ze=Je*Q,nt=0,Ve=(Ue.videoWidth-ze)/2),Ue.readyState>=2)try{if(se.drawImage(Ue,Ve,nt,ze,Je,0,0,xe,Ee),c.current%10===0)try{C.current=se.getImageData(0,0,xe,Ee)}catch{}}catch(Ae){console.error("Error drawing video:",Ae),C.current&&se.putImageData(C.current,0,0)}else C.current&&se.putImageData(C.current,0,0)}else if(gn){const Q=h.current,pe=xe/Ee,Ve=Q.width/Q.height;let nt,ze,Je,Ae;pe>Ve?(Je=Q.width,Ae=Je/pe,nt=0,ze=(Q.height-Ae)/2):(Ae=Q.height,Je=Ae*pe,ze=0,nt=(Q.width-Je)/2),se.drawImage(Q,nt,ze,Je,Ae,0,0,xe,Ee)}if(W&&te.length>0){const Q=KS(X);QS(se,xe,Ee,X,Q)}const ut=!!f.current.multiEffectEnabled,yn=f.current.selectedVisualizationTypes,Gt=!He&&ut&&Array.isArray(yn)&&yn.length>0?yn:He?[]:[d];if(!He)for(const Q of Gt){const pe=$S[Q];if(!pe)continue;const Ve=!XS.has(Q);let nt=f.current;if(Ve){se.save();const ze=!!f.current.multiEffectEnabled,Je=ze?{x:0,y:0}:f.current.visualizationTransform||{x:0,y:0},Ae=!ze&&E.current.draggedElement==="visualization"?E.current.dragOffset:{x:0,y:0},rt=f.current.visualizationScale||1,Ot=typeof f.current.effectScale=="number"?f.current.effectScale:1,$t=typeof f.current.effectOffsetX=="number"?f.current.effectOffsetX:0,zt=typeof f.current.effectOffsetY=="number"?f.current.effectOffsetY:0,wn=typeof f.current.effectRotation=="number"?f.current.effectRotation:0,Qt=((De=f.current.multiEffectOffsets)==null?void 0:De[Q])||{x:0,y:0},mt=((wt=f.current.multiEffectTransforms)==null?void 0:wt[Q])||{x:Qt.x||0,y:Qt.y||0,scale:1,rotation:0},Pa=ze?mt.x||0:$t+Je.x+Ae.x+(Qt.x||0),ma=ze?mt.y||0:zt+Je.y+Ae.y+(Qt.y||0),ga=ze?mt.scale||1:Ot*rt,vn=(ze?mt.rotation||0:wn)*Math.PI/180;let On,An,ra,ya,Tn=!1;if(ze)try{On=f.current.effectOffsetX,An=f.current.effectOffsetY,ra=f.current.effectScale,ya=f.current.effectRotation,f.current.effectOffsetX=mt.x||0,f.current.effectOffsetY=mt.y||0,f.current.effectScale=mt.scale||1,f.current.effectRotation=mt.rotation||0,f.current.multiEffectOffsets={...f.current.multiEffectOffsets,[Q]:{x:mt.x||0,y:mt.y||0}},Tn=!0}catch(Tt){console.warn("Cannot override propsRef properties in multi-effect mode, using direct transform instead:",Tt),Tn=!1}se.translate(Wt+Pa,_t+ma),vn!==0&&se.rotate(vn),se.scale(ga,ga),se.translate(-Wt,-_t),ze&&Tn===!1&&(nt={...f.current,effectOffsetX:mt.x||0,effectOffsetY:mt.y||0,effectScale:mt.scale||1,effectRotation:mt.rotation||0}),se.__multiRestore=()=>{if(Tn)try{f.current.effectOffsetX=On,f.current.effectOffsetY=An,f.current.effectScale=ra,f.current.effectRotation=ya}catch{}}}if(Q===oe.STELLAR_CORE){const Je=Ke.slice(0,32).reduce((Ot,$t)=>Ot+$t,0)/32/255,Ae=Math.min(xe,Ee)*.5+Je*50,rt=se.createRadialGradient(Wt,_t,0,Wt,_t,Ae);rt.addColorStop(0,Qe.backgroundGlow),rt.addColorStop(1,"rgba(10, 20, 40, 0)"),se.fillStyle=rt,se.fillRect(0,0,xe,Ee)}if(Q===oe.GEOMETRIC_BARS)Eu(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,m.current,r.current,u.current,nt,ye,be,je,Xe,we,fe==null?void 0:fe.controlCardFontFamily,fe==null?void 0:fe.controlCardTextEffect,fe==null?void 0:fe.controlCardStrokeColor);else if(Q===oe.Z_CUSTOM){const ze=typeof c.current=="number"?c.current:0;hb(se,xe,Ee,f.current.zCustomCenterImage,f,ze)}else if(Q===oe.VINYL_RECORD){const ze=((ct=f.current)==null?void 0:ct.vinylRecordEnabled)!==!1,Je=((Bt=f.current)==null?void 0:Bt.vinylNeedleEnabled)!==!1;yg(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,m.current,r.current,u.current,ze,Je)}else Q===oe.PHOTO_SHAKE?fg(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,nt):Q===oe.FRAME_PIXELATION?dg(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,nt):Q===oe.DYNAMIC_CONTROL_CARD?cg(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,nt):Q===oe.CIRCULAR_WAVE?hg(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,nt):Q===oe.BLURRED_EDGE?mg(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,nt):Q===oe.KE_YE_CUSTOM_V2?gg(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,nt):pe(se,Ke,xe,Ee,c.current,D,Qe,w,Re,H,m.current);if(Ve){try{(Dt=se.__multiRestore)==null||Dt.call(se)}catch{}delete se.__multiRestore,se.restore()}}if(Gt.includes(oe.PIANO_VIRTUOSO)){const Q=Ee*.25,pe=28,Ve=xe/pe,nt=Math.floor(Ke.length*.7/pe),ze=new Array(pe).fill(0);for(let Ae=0;Ae<pe;Ae++){let rt=0;const Ot=Ae*nt,$t=Ot+nt;for(let zt=Ot;zt<$t;zt++)rt+=Ke[zt]||0;ze[Ae]=rt/(nt*255)}ze.forEach((Ae,rt)=>{Math.pow(Ae,2)*D>.1&&Math.random()>.8&&m.current.push({x:rt*Ve+Ve/2,y:Ee-Q,vy:-3-Ae*6,vx:(Math.random()-.5)*1.5,opacity:1,radius:25+Ae*40,color:Qe.accent,angle:Math.random(),orbitRadius:0,baseOrbitRadius:0,angleVelocity:0})});const Je=[1,1,0,1,1,1,0];for(let Ae=0;Ae<pe-1;Ae++){const rt=Ae%7;if(Je[rt]===1){const Ot=(ze[Ae]+ze[Ae+1])/2;Math.pow(Ot,2)*D>.15&&Math.random()>.8&&m.current.push({x:(Ae+1)*Ve,y:Ee-Q,vy:-3-Ot*6,vx:(Math.random()-.5)*1.5,opacity:1,radius:25+Ot*30,color:Qe.secondary,angle:Math.random(),orbitRadius:0,baseOrbitRadius:0,angleVelocity:0})}}}if(m.current.forEach(Q=>{Q.y+=Q.vy,Q.x+=Q.vx,Q.vy+=.08,Q.opacity-=.015}),m.current.forEach(Q=>{const pe=["","","","",""],Ve=pe[Math.floor(Q.angle*pe.length)];se.save(),se.font=`bold ${Q.radius}px "Arial"`,se.fillStyle=ge(Q.color,Q.opacity),se.textAlign="center",se.textBaseline="middle",se.shadowColor=ge(Q.color,Q.opacity*.8),se.shadowBlur=15,se.fillText(Ve,Q.x,Q.y),se.restore()}),m.current=m.current.filter(Q=>Q.opacity>0&&Q.y<Ee+100),Me&&ie){x.current!==ie&&(v.current=[],x.current=ie);const Q=Math.max(xe/1920,Ee/1080)*1.5,pe=Math.floor((le||.5)*80*Q);if(v.current.length<pe&&Math.random()<.15){const Ve=mb(ie,xe,Ee);v.current.push(Ve)}v.current=v.current.filter(Ve=>!(Ve.y>Ee+20||Ve.x<-20||Ve.x>xe+20)),yb(se,xe,Ee,ie,le||.5,ve||.6,Pe||1,v.current,c.current)}const ht=((Kn=a.current)==null?void 0:Kn.currentTime)??0;let Ft,Rt=-1;if(Z&&re.length>0)for(let Q=re.length-1;Q>=0;Q--){const pe=re[Q];if(ht>=pe.time&&(!pe.endTime||ht<=pe.endTime)){Ft=pe,Rt=Q;break}}if(f.current.ctaVideoEnabled&&f.current.ctaVideoElement){const Q=f.current.ctaVideoElement;if(Q.paused&&!Q.ended&&Q.play().catch(()=>{}),Q.readyState>=2&&Q.videoWidth>0&&Q.videoHeight>0){const pe=typeof Q.currentTime=="number"?Q.currentTime:0,Ve=typeof Q.duration=="number"?Q.duration:NaN,nt=.25,ze=.4,Je=rt=>Math.max(0,Math.min(1,rt));let Ae=1;if(Number.isFinite(Ve)&&Ve>.001){const rt=Je(pe/nt),Ot=Je((Ve-pe)/ze);Ae=rt*Ot,Q.ended&&(Ae=0)}if(!(Ae<=.001)){const rt=xe/Ee,Ot=Q.videoWidth/Q.videoHeight;let $t=0,zt=0,wn=Q.videoWidth,Qt=Q.videoHeight;rt>Ot?(wn=Q.videoWidth,Qt=wn/rt,$t=0,zt=(Q.videoHeight-Qt)/2):(Qt=Q.videoHeight,wn=Qt*rt,zt=0,$t=(Q.videoWidth-wn)/2),se.save(),se.globalAlpha=Ae,se.drawImage(Q,$t,zt,wn,Qt,0,0,xe,Ee),se.restore()}}}if(f.current.subtitleDisplayMode===Ut.LYRICS_SCROLL&&re.length>0){const Q=E.current.draggedElement==="lyrics"?E.current.dragOffset:f.current.lyricsDragOffset||{x:0,y:0};YS(se,xe,Ee,re,ht,{fontFamily:f.current.lyricsFontFamily,bgStyle:$,fontSize:f.current.lyricsFontSize,positionX:f.current.lyricsPositionX+Q.x/xe*100,positionY:f.current.lyricsPositionY+Q.y/Ee*100,color:J,effect:ee||Y.NONE})}else if(f.current.subtitleDisplayMode===Ut.WORD_BY_WORD&&re.length>0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:f.current.subtitleDragOffset||{x:0,y:0};DS(se,xe,Ee,re,ht,{fontFamily:ne,bgStyle:$,fontSizeVw:U,color:J,effect:ee||Y.NONE,isBeat:Re,dragOffset:Q,strokeColor:f.current.subtitleStrokeColor})}else if(f.current.subtitleDisplayMode===Ut.SLIDING_GROUP&&re.length>0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:f.current.subtitleDragOffset||{x:0,y:0};VS(se,xe,Ee,re,ht,{fontFamily:ne,bgStyle:$,fontSizeVw:U,color:J,effect:ee||Y.NONE,isBeat:Re,dragOffset:Q})}else if(f.current.subtitleDisplayMode===Ut.CLASSIC&&Ft){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:f.current.subtitleDragOffset||{x:0,y:0};Si(se,xe,Ee,Ft,{fontSizeVw:U,fontFamily:ne,color:J,effect:ee||Y.NONE,bgStyle:$,isBeat:Re,dragOffset:Q,orientation:f.current.subtitleOrientation,strokeColor:f.current.subtitleStrokeColor})}else if(f.current.subtitleDisplayMode===Ut.PARTIAL_BLUR&&Ft&&Rt>=0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:f.current.subtitleDragOffset||{x:0,y:0};_S(se,xe,Ee,re,Rt,Ft,ht,{fontSizeVw:U,fontFamily:ne,color:J,effect:ee||Y.NONE,bgStyle:$,isBeat:Re,dragOffset:Q,orientation:f.current.subtitleOrientation,strokeColor:f.current.subtitleStrokeColor,fadeInSeconds:.25,fadeOutSeconds:.25})}else if(f.current.subtitleDisplayMode===Ut.FADE_LINES&&Ft&&Rt>=0){const Q=E.current.draggedElement==="subtitle"?E.current.dragOffset:f.current.subtitleDragOffset||{x:0,y:0};LS(se,xe,Ee,re,Rt,Ft,ht,{fontSizeVw:U,fontFamily:ne,color:J,effect:ee||Y.NONE,bgStyle:$,isBeat:Re,dragOffset:Q,orientation:f.current.subtitleOrientation,strokeColor:f.current.subtitleStrokeColor,fadeInSeconds:f.current.subtitleFadeInSeconds??.25,fadeOutSeconds:f.current.subtitleFadeOutSeconds??.25,linesEnabled:f.current.subtitleFadeLinesEnabled!==!1,lineColor:f.current.subtitleLineColor??"#FFFFFF",lineThickness:f.current.subtitleLineThickness??3,lineGap:f.current.subtitleLineGap??10})}const ke=f.current.customTextOverlays,Ce=Array.isArray(ke)?ke:[],Oe={enabled:!0,text:I,color:O,strokeColor:f.current.textStrokeColor,fontFamily:P,graphicEffect:w,textSize:R,textPositionX:F,textPositionY:V,rotationDeg:0,anchor:A},_e=Ce.length>0?Ce:[Oe];for(const Q of _e){if(!Q||Q.enabled===!1)continue;const pe=(Q.text??"").toString();if(!pe.trim())continue;const Ve=un[Q.fontFamily]||"Poppins";US(se,pe,Ke,{width:xe,height:Ee,color:Q.color||"#FFFFFF",strokeColor:Q.strokeColor,fontFamily:Ve,graphicEffect:Q.graphicEffect||Y.NONE,position:Q.anchor||bn.BOTTOM_RIGHT,textSize:typeof Q.textSize=="number"?Q.textSize:R,textPositionX:typeof Q.textPositionX=="number"?Q.textPositionX:0,textPositionY:typeof Q.textPositionY=="number"?Q.textPositionY:0,rotationDeg:typeof Q.rotationDeg=="number"?Q.rotationDeg:0,isBeat:Re})}if(f.current.showCtaAnimation&&f.current.ctaChannelName&&!(f.current.ctaVideoReplaceCtaAnimation&&f.current.ctaVideoEnabled)){const Q=f.current.ctaPosition||{x:50,y:50},pe=E.current.isDragging&&E.current.draggedElement==="cta"?E.current.dragOffset:{x:0,y:0},Ve={x:Q.x+pe.x/xe*100,y:Q.y+pe.y/Ee*100};p(se,xe,Ee,f.current.ctaChannelName,Ve,f.current.ctaFontFamily,f.current.ctaTextColor,f.current.ctaStrokeColor,f.current.ctaTextEffect,Re)}if(f.current.showIntroOverlay){const Q=((ha=a.current)==null?void 0:ha.currentTime)??0;BS(se,xe,Ee,Q,{enabled:!!f.current.showIntroOverlay,startTime:f.current.introStartTime??0,fadeIn:f.current.introFadeIn??.8,hold:f.current.introHold??1.6,fadeOut:f.current.introFadeOut??.8,positionX:f.current.introPositionX??50,positionY:f.current.introPositionY??50,bgOpacity:f.current.introBgOpacity??.35,title:f.current.introTitle??"",artist:f.current.introArtist??"",description:f.current.introDescription??"",fontFamily:f.current.introFontFamily??g.POPPINS,effect:f.current.introEffect??Y.NEON,color:f.current.introColor??"#FFFFFF",strokeColor:f.current.introStrokeColor??"#000000",titleSizeVw:f.current.introTitleSize??6,artistSizeVw:f.current.introArtistSize??4,descriptionSizeVw:f.current.introDescriptionSize??2.8,lightBarsEnabled:f.current.introLightBarsEnabled!==!1})}f.current.isPlaying&&(s.current=requestAnimationFrame(M))},[n,t,i]);k.useEffect(()=>(o?s.current=requestAnimationFrame(M):(cancelAnimationFrame(s.current),setTimeout(()=>{f.current.isPlaying||M()},0)),()=>{cancelAnimationFrame(s.current)}),[o,M,i,n]),k.useEffect(()=>{const d=t==null?void 0:t.current;if(!d)return;const I=new ResizeObserver(O=>{for(const P of O){const{width:w,height:R}=P.contentRect;(d.width!==w||d.height!==R)&&(d.width=w,d.height=R)}});return I.observe(d),()=>{I.disconnect()}},[t]),k.useEffect(()=>{const d=t==null?void 0:t.current;if(!d)return;const I=R=>{const F=d.getBoundingClientRect();return{x:R.clientX-F.left,y:R.clientY-F.top}},O=R=>{const F=I(R),{width:V,height:D}=d,B=b(F,V,D);console.log("Mouse down at:",F,"Clicked element:",B),B&&(E.current.isDragging=!0,E.current.draggedElement=B,E.current.startPosition=F,E.current.dragOffset={x:0,y:0},d.style.cursor="grabbing",console.log("Started dragging:",B),R.preventDefault())},P=R=>{if(E.current.isDragging&&E.current.draggedElement){const F=I(R);E.current.dragOffset={x:F.x-E.current.startPosition.x,y:F.y-E.current.startPosition.y},R.preventDefault()}},w=()=>{E.current.isDragging&&E.current.draggedElement&&(j(E.current.draggedElement,E.current.dragOffset),E.current.isDragging=!1,E.current.draggedElement=null,E.current.dragOffset={x:0,y:0},d.style.cursor="default")};return d.addEventListener("mousedown",O,{passive:!1}),d.addEventListener("mousemove",P,{passive:!1}),d.addEventListener("mouseup",w),d.addEventListener("mouseleave",w),()=>{d.removeEventListener("mousedown",O),d.removeEventListener("mousemove",P),d.removeEventListener("mouseup",w),d.removeEventListener("mouseleave",w)}},[t]);const b=(d,I,O)=>{const{visualizationType:P,showSubtitles:w,subtitleDisplayMode:R,subtitles:F,currentTime:V}=f.current;if(f.current.showCtaAnimation&&f.current.ctaChannelName&&f.current.ctaPosition&&!(f.current.ctaVideoReplaceCtaAnimation&&f.current.ctaVideoEnabled)){const D=f.current.ctaPosition||{x:50,y:50},B=E.current.isDragging&&E.current.draggedElement==="cta"?E.current.dragOffset:{x:0,y:0},T={x:D.x+B.x/I*100,y:D.y+B.y/O*100},L=T.x/100*I,z=T.y/100*O,A=600;if(d.x>=L-A/2&&d.x<=L+A/2&&d.y>=z-A/2&&d.y<=z+A/2)return console.log("CTA detected at:",{ctaX:L,ctaY:z,ctaSize:A,pos:d}),"cta"}if(P===oe.GEOMETRIC_BARS){const D=I/2,B=O*.4,T=Math.min(I*.4,O*.5),L=D-T/2,z=B-T/2,A=T*.2;if(d.x>=L+A&&d.x<=L+T-A&&d.y>=z+A&&d.y<=z+T-A)return"visualization"}else{const D=I/2,B=O/2,T=I*.3,L=O*.3;if(d.x>=D-T/2&&d.x<=D+T/2&&d.y>=B-L/2&&d.y<=B+L/2)return"visualization"}if(w&&F.length>0)if(R===Ut.LYRICS_SCROLL){const D=I/2,B=O/2,T=I*.9,L=O*.7;if(d.x>=D-T/2&&d.x<=D+T/2&&d.y>=B-L/2&&d.y<=B+L/2)return"lyrics"}else if(f.current.subtitleOrientation===on.VERTICAL){const B=I-I*.1,T=I*.15,L=O/2,z=O*.6;if(d.x>=B-T&&d.x<=B+T&&d.y>=L-z/2&&d.y<=L+z/2)return"subtitle"}else{const B=O-O*.08,T=O*.25;if(d.y>=B-T&&d.y<=B+T)return"subtitle"}return null},j=(d,I)=>{const{width:O,height:P}=t.current||{width:0,height:0};if(d==="visualization"){if(f.current.onVisualizationTransformUpdate){const w=f.current.visualizationTransform||{x:0,y:0,scale:1};f.current.onVisualizationTransformUpdate({...w,x:w.x+I.x,y:w.y+I.y})}}else if(d==="cta"){if(f.current.onCtaPositionUpdate){const w=f.current.ctaPosition||{x:50,y:50},R=Math.max(0,Math.min(100,w.x+I.x/O*100)),F=Math.max(0,Math.min(100,w.y+I.y/P*100));f.current.onCtaPositionUpdate({x:R,y:F})}}else d==="lyrics"?(I.x/O*100,I.y/P*100,f.current.onLyricsDragUpdate&&f.current.onLyricsDragUpdate({x:I.x,y:I.y})):d==="subtitle"&&f.current.onSubtitleDragUpdate&&f.current.onSubtitleDragUpdate({x:I.x,y:I.y})},p=(d,I,O,P,w,R,F,V,D,B)=>{var ht,Ft,Rt,ke;const T=Date.now(),L=((Ft=(ht=f.current.audioRef)==null?void 0:ht.current)==null?void 0:Ft.currentTime)||0;if(L>10&&!E.current.isDragging&&f.current.isPlaying&&((Rt=f.current.audioRef)!=null&&Rt.current))return;const z=f.current.isPlaying&&((ke=f.current.audioRef)!=null&&ke.current)?L:T/1e3%10,A=y.current,H=A.lastRenderMs||T,W=Math.min(.05,Math.max(0,(T-H)/1e3));A.lastRenderMs=T;const X=Ce=>Math.max(0,Math.min(1,Ce)),te=(Ce,Oe,_e)=>{const De=X((_e-Ce)/(Oe-Ce));return De*De*(3-2*De)},q=Ce=>1-Math.pow(1-X(Ce),3),re=Ce=>{const Oe=X(Ce),_e=1.70158;return 1+(_e+1)*Math.pow(Oe-1,3)+_e*Math.pow(Oe-1,2)},Z=w.x/100*I,U=w.y/100*O,ne=X(z/.9),J=X((z-.9)/.8),ee=(()=>{var _e;const Ce=te(0,.25,z),Oe=f.current.isPlaying&&((_e=f.current.audioRef)!=null&&_e.current)?1-te(9.2,10,z):1;return X(Ce*Oe)})(),$=Math.max(.85,Math.min(1.1,I/1920)),K=520*$,de=140*$,me=25*$,ie=(1-q(ne))*(24*$),le=.9+.1*re(ne),ve=Math.sin(z*1.2)*(2.2*$),Pe=F||"#FFFFFF";d.save(),d.globalAlpha=ee,d.translate(0,-ie+ve);const Me=.55+.45*Math.sin(z*2.2),ye=.08+.08*Me,be=d.createRadialGradient(Z,U,0,Z,U,K/2+80*$);be.addColorStop(0,`rgba(255, 60, 80, ${ye})`),be.addColorStop(.7,`rgba(255, 60, 80, ${ye*.5})`),be.addColorStop(1,"rgba(255, 60, 80, 0)"),d.fillStyle=be,d.fillRect(Z-K/2-100,U-de/2-100,K+200,de+200),d.save(),d.translate(Z,U),d.scale(le,le),d.translate(-Z,-U);const je=d.createLinearGradient(Z-K/2,U-de/2,Z+K/2,U+de/2);je.addColorStop(0,"rgba(0, 0, 0, 0.42)"),je.addColorStop(.5,"rgba(18, 18, 18, 0.56)"),je.addColorStop(1,"rgba(0, 0, 0, 0.42)"),d.fillStyle=je;const Xe=z*.9%1*(K+220*$)-110*$,we=d.createLinearGradient(Z-K/2+Xe,0,Z-K/2+Xe+220*$,0);we.addColorStop(0,"rgba(255,255,255,0)"),we.addColorStop(.45,"rgba(255,255,255,0.55)"),we.addColorStop(.5,"rgba(255,255,255,0.95)"),we.addColorStop(.55,"rgba(255,255,255,0.55)"),we.addColorStop(1,"rgba(255,255,255,0)"),d.beginPath(),d.roundRect(Z-K/2,U-de/2,K,de,me),d.fill(),d.save(),d.strokeStyle="rgba(255,255,255,0.6)",d.lineWidth=2.5*$,d.stroke(),d.clip(),d.globalCompositeOperation="lighter",d.globalAlpha*=.22+.18*Me,d.fillStyle=we,d.fillRect(Z-K/2,U-de/2,K,de),d.restore();const qe=Z-160*$,Ye=U,$e=.92+.12*re(X(z/.7)),et=1+.05*Math.sin(z*3.5),se=$e*et;d.save(),d.translate(qe,Ye),d.scale(se,se),d.shadowColor="rgba(0, 0, 0, 0.35)",d.shadowBlur=14*$,d.shadowOffsetX=2*$,d.shadowOffsetY=3*$,d.fillStyle="#FF0000",d.beginPath(),d.arc(0,0,45*$,0,Math.PI*2),d.fill(),d.shadowColor="transparent",d.globalAlpha*=.6;const He=d.createRadialGradient(-14*$,-18*$,0,-14*$,-18*$,48*$);He.addColorStop(0,"rgba(255,255,255,0.35)"),He.addColorStop(1,"rgba(255,255,255,0)"),d.fillStyle=He,d.beginPath(),d.arc(0,0,45*$,0,Math.PI*2),d.fill(),d.globalAlpha/=.6,d.fillStyle="#FFFFFF",d.beginPath(),d.moveTo(-14*$,-20*$),d.lineTo(-14*$,20*$),d.lineTo(20*$,0),d.closePath(),d.fill(),d.restore(),d.save();const Le=un[R||g.POPPINS]||"Poppins",tt=Pe,Re=V||"#000000",Pt=D||Y.NONE,Ke=te(.1,.35,z),xe=te(.22,.5,z),Ee=te(.34,.68,z),Wt=(Ce,Oe,_e,De)=>{d.save(),d.globalAlpha*=De;const wt=Pt===Y.BOLD?"900":"bold";if(d.font=`${wt} ${Oe}px "${Le}", "Noto Sans TC", sans-serif`,d.textAlign="center",d.textBaseline="middle",Pt===Y.SHADOW?(d.shadowColor="rgba(0, 0, 0, 0.6)",d.shadowBlur=10*$,d.shadowOffsetX=2*$,d.shadowOffsetY=2*$):Pt===Y.NEON?(d.shadowColor=tt,d.shadowBlur=22*$,d.shadowOffsetX=0,d.shadowOffsetY=0):(d.shadowColor="transparent",d.shadowBlur=0,d.shadowOffsetX=0,d.shadowOffsetY=0),Re!=="transparent"){const ct=Math.max(2*$,Math.round(Oe*.12));d.lineWidth=ct,d.strokeStyle=Re,d.strokeText(Ce,Z,_e)}if(d.fillStyle=tt,d.fillText(Ce,Z,_e),Pt===Y.GLITCH&&B){d.save(),d.globalCompositeOperation="lighter";const ct=Math.max(3*$,Math.round(Oe*.08)),Bt=(Math.random()-.5)*ct,Dt=(Math.random()-.5)*ct;d.fillStyle="rgba(255, 0, 0, 0.65)",d.fillText(Ce,Z+Bt,_e+Dt),d.fillStyle="rgba(0, 0, 255, 0.65)",d.fillText(Ce,Z-Bt,_e-Dt),d.restore()}d.restore()},_t=.98+.02*q(J);d.translate(Z,U),d.scale(_t,_t),d.translate(-Z,-U),Wt("",36*$,U-35*$,.95*Ke),Wt("SUBSCRIBE",28*$,U+5*$,.88*xe),Wt(P,22*$,U+50*$,.78*Ee),d.restore();const Qe=Z+160*$,Ue=U,ft=B&&T-(A.lastBeatMs||0)>120?1:0;ft&&(A.lastBeatMs=T);const yn=Math.sin(z*6)*.08+(ft?.22:0),Gt=(.98+.02*Me)*(1+.08*ft);if(d.save(),d.translate(Qe,Ue),d.rotate(yn),d.scale(Gt,Gt),d.translate(-Qe,-Ue),d.shadowColor="rgba(0, 0, 0, 0.45)",d.shadowBlur=4*$,d.shadowOffsetX=1*$,d.shadowOffsetY=1*$,d.fillStyle="rgba(255, 255, 255, 0.95)",d.font=`bold ${80*$}px "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif`,d.textAlign="center",d.textBaseline="middle",d.fillText("",Qe,Ue+4*$),d.restore(),ft){d.save(),d.globalCompositeOperation="lighter",d.strokeStyle=`rgba(255,255,255,${.55*ee})`,d.lineWidth=2*$,d.lineCap="round";const Ce=26*$,Oe=38*$;d.beginPath(),d.arc(Qe,Ue,Ce,-.8,.8),d.stroke(),d.beginPath(),d.arc(Qe,Ue,Oe,-.6,.6),d.stroke(),d.restore()}if(ft){const Ce=(Oe,_e,De,wt)=>{for(let ct=0;ct<De;ct++){const Bt=Math.random()*Math.PI*2,Dt=(60+Math.random()*120)*$;A.particles.push({x:Oe+(Math.random()-.5)*8*$,y:_e+(Math.random()-.5)*8*$,vx:Math.cos(Bt)*Dt,vy:Math.sin(Bt)*Dt-40*$,life:.35+Math.random()*.25,age:0,size:(2+Math.random()*3)*$,color:wt})}};Ce(qe,Ye,8,"rgba(255, 90, 120, 1)"),Ce(Qe,Ue,6,"rgba(120, 220, 255, 1)")}if(A.particles.length>0){d.save(),d.globalCompositeOperation="lighter";for(let Ce=A.particles.length-1;Ce>=0;Ce--){const Oe=A.particles[Ce];if(Oe.age+=W,Oe.age>=Oe.life){A.particles.splice(Ce,1);continue}Oe.vy+=260*$*W,Oe.x+=Oe.vx*W,Oe.y+=Oe.vy*W;const _e=1-Oe.age/Oe.life,De=.9*_e*ee,wt=Oe.size*(.8+.8*(1-_e)),ct=d.createRadialGradient(Oe.x,Oe.y,0,Oe.x,Oe.y,wt*4);ct.addColorStop(0,Oe.color.replace(/, 1\)$/,`, ${De})`)),ct.addColorStop(1,"rgba(255,255,255,0)"),d.fillStyle=ct,d.beginPath(),d.arc(Oe.x,Oe.y,wt*2.2,0,Math.PI*2),d.fill()}d.restore()}d.restore(),d.restore(),d.restore()};return l.jsx("canvas",{ref:t,className:"w-full h-full",style:{backgroundColor:"#000000",border:"2px solid #4ecdc4",borderRadius:"8px"}})});vg.displayName="AudioVisualizer";const KS=e=>{const t=window.transitionStartTime||performance.now(),a=performance.now()-t,i=(c=>{switch(c){case ce.TV_STATIC:return 800;case ce.FADE:return 800;case ce.SLIDE_LEFT:case ce.SLIDE_RIGHT:case ce.SLIDE_UP:case ce.SLIDE_DOWN:return 600;case ce.ZOOM_IN:case ce.ZOOM_OUT:return 700;case ce.SPIRAL:return 1200;case ce.WAVE:return 900;case ce.DIAMOND:case ce.CIRCLE:return 650;case ce.BLINDS:return 800;case ce.CHECKERBOARD:return 750;case ce.RANDOM_PIXELS:return 1e3;default:return 1e3}})(e),s=Math.min(a/i,1);return ZS(s,e)},ZS=(e,t)=>{switch(t){case ce.FADE:return Math.sin(e*Math.PI);case ce.SLIDE_LEFT:case ce.SLIDE_RIGHT:case ce.SLIDE_UP:case ce.SLIDE_DOWN:return 1-Math.pow(1-e,3);case ce.ZOOM_IN:case ce.ZOOM_OUT:return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2;case ce.SPIRAL:return e+Math.sin(e*Math.PI*4)*.1;case ce.WAVE:return Math.sin(e*Math.PI);case ce.DIAMOND:case ce.CIRCLE:return 1-Math.pow(1-e,2);case ce.BLINDS:case ce.CHECKERBOARD:case ce.RANDOM_PIXELS:return e;case ce.TV_STATIC:return Math.sin(e*Math.PI*6)*.5+.5;default:return e}},QS=(e,t,n,a,o)=>{switch(e.save(),a){case ce.TV_STATIC:qS(e,t,n,o);break;case ce.FADE:JS(e,t,n,o);break;case ce.SLIDE_LEFT:eb(e,t,n,o);break;case ce.SLIDE_RIGHT:tb(e,t,n,o);break;case ce.SLIDE_UP:nb(e,t,n,o);break;case ce.SLIDE_DOWN:ab(e,t,n,o);break;case ce.ZOOM_IN:lb(e,t,n,o);break;case ce.ZOOM_OUT:ob(e,t,n,o);break;case ce.SPIRAL:rb(e,t,n,o);break;case ce.WAVE:ib(e,t,n,o);break;case ce.DIAMOND:sb(e,t,n,o);break;case ce.CIRCLE:ub(e,t,n,o);break;case ce.BLINDS:cb(e,t,n,o);break;case ce.CHECKERBOARD:db(e,t,n,o);break;case ce.RANDOM_PIXELS:fb(e,t,n,o);break}e.restore()},qS=(e,t,n,a)=>{e.save();const o=Math.sin(a*Math.PI*4)*.5+.5,i=Math.sin(a*Math.PI)*.8+.2;e.globalCompositeOperation="source-over",e.globalAlpha=i;const s=e.createImageData(t,n),c=s.data;for(let m=0;m<c.length;m+=4){const N=Math.random()*255,h=o>.5?N:255-N;c[m]=h,c[m+1]=h,c[m+2]=h,c[m+3]=255}if(e.putImageData(s,0,0),o>.3){e.globalAlpha=o*.3,e.strokeStyle="rgba(255, 255, 255, 0.8)",e.lineWidth=2;for(let m=0;m<n;m+=20)Math.random()<o&&(e.beginPath(),e.moveTo(0,m),e.lineTo(t,m),e.stroke());for(let m=0;m<t;m+=30)Math.random()<o*.5&&(e.beginPath(),e.moveTo(m,0),e.lineTo(m,n),e.stroke())}e.restore()},JS=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.globalAlpha=a,e.fillStyle="rgba(0, 0, 0, 1)",e.fillRect(0,0,t,n)},eb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t*a;e.fillRect(0,0,o,n)},tb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t*a;e.fillRect(t-o,0,o,n)},nb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=n*a;e.fillRect(0,0,t,o)},ab=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=n*a;e.fillRect(0,n-o,t,o)},lb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,c=Math.sqrt(o*o+i*i)*a;e.beginPath(),e.arc(o,i,c,0,Math.PI*2),e.fill()},ob=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,c=Math.sqrt(o*o+i*i)*(1-a);e.beginPath(),e.arc(o,i,c,0,Math.PI*2),e.fill()},rb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,s=Math.sqrt(o*o+i*i);e.beginPath(),e.moveTo(o,i);const c=a*Math.PI*8;for(let m=0;m<c;m+=.1){const N=m/(Math.PI*8)*s*a,h=o+Math.cos(m)*N,S=i+Math.sin(m)*N;e.lineTo(h,S)}e.lineWidth=20,e.stroke()},ib=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)",e.beginPath(),e.moveTo(0,n);for(let o=0;o<=t;o+=5){const i=n*(1-a),s=Math.sin(o/t*Math.PI*4+a*Math.PI*2)*50*a,c=i+s;e.lineTo(o,c)}e.lineTo(t,n),e.closePath(),e.fill()},sb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,s=Math.min(t,n)*a;e.beginPath(),e.moveTo(o,i-s),e.lineTo(o+s,i),e.lineTo(o,i+s),e.lineTo(o-s,i),e.closePath(),e.fill()},ub=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=t/2,i=n/2,s=Math.min(t,n)/2*a;e.beginPath(),e.arc(o,i,s,0,Math.PI*2),e.fill()},cb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=20,i=n/o;for(let s=0;s<o;s++){const c=Math.max(0,a-s/o*.5);c>0&&e.fillRect(0,s*i,t,i*c)}},db=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=50,i=Math.ceil(t/o),s=Math.ceil(n/o);for(let c=0;c<i;c++)for(let m=0;m<s;m++){const N=Math.max(0,a-(c+m)/(i+s)*.8);(c+m)%2===0&&N>0&&(e.globalAlpha=N,e.fillRect(c*o,m*o,o,o))}e.globalAlpha=1},fb=(e,t,n,a)=>{e.globalCompositeOperation="source-over",e.fillStyle="rgba(0, 0, 0, 1)";const o=Math.floor(t*n*a*.1);for(let i=0;i<o;i++){const s=Math.random()*t,c=Math.random()*n;e.fillRect(s,c,2,2)}},hb=(e,t,n,a,o,i)=>{const s=o.current.zCustomScale||1,c=o.current.zCustomPosition||{x:0,y:0},m=o.current.colors,N=t/2+c.x/100*t,h=n/2+c.y/100*n,C=Math.min(t,n)*.6*s/2,r=o.current.analyser;let u=null;r&&(u=new Uint8Array(r.frequencyBinCount),r.getByteFrequencyData(u)),u&&u.slice(0,10).reduce((d,I)=>d+I,0)/10/255,u&&u.slice(10,50).reduce((d,I)=>d+I,0)/40/255,u&&u.slice(50,100).reduce((d,I)=>d+I,0)/50/255;const f=i??0,E=f*.01%(Math.PI*2);console.log("Z frame:",i,"frameValue:",f,"rotationAngle:",E),e.save(),e.translate(N,h),e.rotate(E),e.fillStyle="#1a1a1a",e.beginPath(),e.arc(0,0,C,0,Math.PI*2),e.fill(),e.strokeStyle="#333333",e.lineWidth=1;for(let d=1;d<=8;d++){const I=C*.2+C*.8*d/8;e.beginPath(),e.arc(0,0,I,0,Math.PI*2),e.stroke()}const y=C*.25;if(e.fillStyle="#FFD700",e.beginPath(),e.arc(0,0,y,0,Math.PI*2),e.fill(),a){const d=new Image;d.src=a,d.complete&&d.naturalWidth>0&&(e.save(),e.beginPath(),e.arc(0,0,y,0,Math.PI*2),e.clip(),e.drawImage(d,-y,-y,y*2,y*2),e.restore())}e.restore(),e.save(),e.translate(N,h);const v=C+15,x=200,M=4;e.strokeStyle=m.primary,e.lineWidth=2,e.beginPath();for(let d=0;d<x;d++){const I=d/x,O=I*Math.PI*2+f*.03,P=v+I*15,w=Math.cos(O)*P,R=Math.sin(O)*P;d===0?e.moveTo(w,R):e.lineTo(w,R)}e.stroke();const b=60,j=3,p=v+20;for(let d=0;d<b;d++){const I=d/b*Math.PI*2+f*.02,O=u?u[d%u.length]/255*30:0,P=Math.cos(I)*p,w=Math.sin(I)*p;e.fillStyle=m.accent,e.fillRect(P-j/2,w-O/2,j,O)}e.strokeStyle=m.secondary,e.lineWidth=M,e.beginPath();for(let d=0;d<x;d++){const I=d/x,O=I*Math.PI*2+f*.02,P=v+40,w=Math.floor(O/(Math.PI*2)*b),F=(u?u[w%u.length]/255*30:0)*.5,V=P+I*20+F,D=Math.cos(O)*V,B=Math.sin(O)*V;d===0?e.moveTo(D,B):e.lineTo(D,B)}e.stroke(),e.restore()},mb=(e,t,n)=>{const o=Math.max(t/1920,n/1080)*2,i=8*o;switch(e){case Et.SNOW:return{x:Math.random()*t,y:-10-Math.random()*50,vx:(Math.random()-.5)*.8,vy:1*.5+Math.random()*1*.8,size:i*(.6+Math.random()*.8),opacity:.3+Math.random()*.5,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,color:"#ffffff",life:1,maxLife:1};case Et.PARTICLES:return{x:Math.random()*t,y:n+10+Math.random()*30,vx:(Math.random()-.5)*1.2,vy:-(1*.3+Math.random()*1*.9),size:i*(.4+Math.random()*1.2),opacity:.4+Math.random()*.6,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,color:`hsl(${Math.random()*80+160}, 80%, ${50+Math.random()*30}%)`,life:1,maxLife:1};case Et.STARS:return{x:Math.random()*t,y:Math.random()*n,vx:0,vy:0,size:(3+Math.random()*6)*o,opacity:.4+Math.random()*.6,rotation:0,rotationSpeed:0,color:"#ffffff",life:Math.random()*3+1,maxLife:Math.random()*3+1};case Et.RAIN:return{x:Math.random()*t,y:-10,vx:0,vy:1*2+Math.random()*1,size:1+Math.random()*2,opacity:.3+Math.random()*.4,rotation:0,rotationSpeed:0,color:"#87CEEB",life:1,maxLife:1};case Et.CHERRY_BLOSSOM:return{x:Math.random()*t,y:-10,vx:(Math.random()-.5)*.5,vy:1*.5+Math.random()*1*.3,size:i*.6+Math.random()*i*.4,opacity:.5+Math.random()*.3,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,color:"#FFB6C1",life:1,maxLife:1};default:return{x:0,y:0,vx:0,vy:0,size:1,opacity:1,rotation:0,rotationSpeed:0,color:"#ffffff",life:1,maxLife:1}}},gb=(e,t,n)=>{switch(e.save(),e.translate(t.x,t.y),e.rotate(t.rotation),e.globalAlpha=t.opacity,n){case Et.SNOW:const a=t.size,o=a*2;e.save(),e.globalAlpha=t.opacity*.3;const i=e.createRadialGradient(0,0,0,0,0,o);i.addColorStop(0,"rgba(255, 255, 255, 0.8)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.3)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=i,e.beginPath(),e.arc(0,0,o,0,Math.PI*2),e.fill(),e.restore(),e.strokeStyle="#ffffff",e.lineWidth=Math.max(1,a*.1),e.shadowColor="rgba(255, 255, 255, 0.8)",e.shadowBlur=a*.3;for(let x=0;x<6;x++)e.beginPath(),e.moveTo(0,0),e.lineTo(0,a),e.stroke(),e.beginPath(),e.moveTo(a*.3,0),e.lineTo(a*.6,0),e.stroke(),e.rotate(Math.PI/3);e.beginPath(),e.arc(0,0,a*.15,0,Math.PI*2),e.fill(),e.shadowBlur=0;break;case Et.PARTICLES:const s=t.size;e.save(),e.globalAlpha=t.opacity*.2;const c=e.createRadialGradient(0,0,0,0,0,s*3);c.addColorStop(0,t.color),c.addColorStop(.3,t.color.replace(")",", 0.3)").replace("hsl","hsla")),c.addColorStop(1,t.color.replace(")",", 0)").replace("hsl","hsla")),e.fillStyle=c,e.beginPath(),e.arc(0,0,s*3,0,Math.PI*2),e.fill(),e.restore(),e.save(),e.globalAlpha=t.opacity*.6;const m=e.createRadialGradient(0,0,0,0,0,s*1.5);m.addColorStop(0,t.color),m.addColorStop(.5,t.color.replace(")",", 0.7)").replace("hsl","hsla")),m.addColorStop(1,t.color.replace(")",", 0)").replace("hsl","hsla")),e.fillStyle=m,e.beginPath(),e.arc(0,0,s*1.5,0,Math.PI*2),e.fill(),e.restore(),e.globalAlpha=t.opacity;const N=e.createRadialGradient(0,0,0,0,0,s);if(N.addColorStop(0,"#ffffff"),N.addColorStop(.3,t.color),N.addColorStop(.8,t.color.replace(")",", 0.8)").replace("hsl","hsla")),N.addColorStop(1,t.color.replace(")",", 0)").replace("hsl","hsla")),e.fillStyle=N,e.beginPath(),e.arc(0,0,s,0,Math.PI*2),e.fill(),Math.abs(t.vx)>.1||Math.abs(t.vy)>.1){e.save(),e.globalAlpha=t.opacity*.4;const x=e.createLinearGradient(-t.vx*5,-t.vy*5,0,0);x.addColorStop(0,t.color.replace(")",", 0)").replace("hsl","hsla")),x.addColorStop(1,t.color),e.fillStyle=x,e.beginPath(),e.ellipse(-t.vx*3,-t.vy*3,s*.8,s*.3,Math.atan2(t.vy,t.vx),0,Math.PI*2),e.fill(),e.restore()}break;case Et.STARS:const h=t.size,S=Math.sin(Date.now()*.005+t.x*.01+t.y*.01)*.5+.5,C=t.opacity*(.3+S*.7);e.save(),e.globalAlpha=C*.15;const r=e.createRadialGradient(0,0,0,0,0,h*4);r.addColorStop(0,"#ffffff"),r.addColorStop(.3,"#ffffff"),r.addColorStop(.7,"#ffffff"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),e.fillStyle=r,e.beginPath(),e.arc(0,0,h*4,0,Math.PI*2),e.fill(),e.restore(),e.save(),e.globalAlpha=C*.6,e.strokeStyle="#ffffff",e.lineWidth=Math.max(1,h*.15),e.shadowColor="#ffffff",e.shadowBlur=h*.5,e.beginPath(),e.moveTo(-h*2,0),e.lineTo(h*2,0),e.stroke(),e.beginPath(),e.moveTo(0,-h*2),e.lineTo(0,h*2),e.stroke(),e.restore(),e.globalAlpha=C,e.fillStyle="#ffffff",e.shadowColor="rgba(255, 255, 255, 0.8)",e.shadowBlur=h*.8,e.beginPath();for(let x=0;x<5;x++){const M=x*4*Math.PI/5,b=Math.cos(M)*h,j=Math.sin(M)*h;x===0?e.moveTo(b,j):e.lineTo(b,j);const p=(x*4+2)*Math.PI/5,d=Math.cos(p)*h*.4,I=Math.sin(p)*h*.4;e.lineTo(d,I)}e.closePath(),e.fill(),e.beginPath(),e.arc(0,0,h*.3,0,Math.PI*2),e.fill(),e.shadowBlur=0;break;case Et.RAIN:const u=t.size*4;e.save(),e.globalAlpha=t.opacity*.3,e.strokeStyle=t.color,e.lineWidth=2,e.shadowColor=t.color,e.shadowBlur=t.size*2,e.beginPath(),e.moveTo(-t.vx*8,-t.vy*8),e.lineTo(0,0),e.stroke(),e.restore(),e.strokeStyle=t.color,e.lineWidth=Math.max(1,t.size*.3),e.shadowColor="rgba(255, 255, 255, 0.6)",e.shadowBlur=t.size*1.5;const f=e.createLinearGradient(0,0,0,u);f.addColorStop(0,"rgba(255, 255, 255, 0.8)"),f.addColorStop(.3,t.color),f.addColorStop(1,t.color.replace(")",", 0.8)").replace("hsl","hsla")),e.strokeStyle=f,e.beginPath(),e.moveTo(0,0),e.lineTo(0,u),e.stroke(),e.beginPath(),e.arc(0,u,t.size*.5,0,Math.PI*2),e.fill(),e.shadowBlur=0;break;case Et.CHERRY_BLOSSOM:const E=t.size;e.save(),e.globalAlpha=t.opacity*.3,e.fillStyle="rgba(0, 0, 0, 0.2)",e.beginPath(),e.ellipse(E*.1,E*.1,E,E*.6,t.rotation,0,Math.PI*2),e.fill(),e.restore(),e.globalAlpha=t.opacity;const y=e.createRadialGradient(0,0,0,0,0,E);y.addColorStop(0,"#ffb3d9"),y.addColorStop(.7,t.color),y.addColorStop(1,t.color.replace(")",", 0.7)").replace("hsl","hsla")),e.fillStyle=y,e.beginPath();const v=x=>{const M=16*Math.pow(Math.sin(x),3),b=-(13*Math.cos(x)-5*Math.cos(2*x)-2*Math.cos(3*x)-Math.cos(4*x));return{x:M*E*.1,y:b*E*.1}};e.beginPath();for(let x=0;x<=Math.PI*2;x+=.1){const{x:M,y:b}=v(x);x===0?e.moveTo(M,b):e.lineTo(M,b)}e.closePath(),e.fill(),e.save(),e.globalAlpha=t.opacity*.6,e.strokeStyle="#ff8cc8",e.lineWidth=Math.max(1,E*.08),e.beginPath();for(let x=0;x<5;x++){const M=x*Math.PI*2/5,b=Math.cos(M)*E*.7,j=Math.sin(M)*E*.7;e.moveTo(0,0),e.lineTo(b,j)}e.stroke(),e.restore(),e.save(),e.globalAlpha=t.opacity*.8,e.fillStyle="rgba(255, 255, 255, 0.4)",e.beginPath(),e.ellipse(-E*.2,-E*.2,E*.3,E*.2,t.rotation,0,Math.PI*2),e.fill(),e.restore();break}e.restore()},yb=(e,t,n,a,o,i,s,c,m)=>{if(e.save(),e.globalAlpha=i,a===Et.LIGHTNING){if(e.globalCompositeOperation="screen",Math.random()>.6){const N=Math.floor(Math.random()*3)+1;for(let h=0;h<N;h++){const S=Math.random()*t,C=0,r=S+(Math.random()-.5)*200,u=n;e.strokeStyle="#FFFFFF",e.lineWidth=3,e.shadowColor="#00FFFF",e.shadowBlur=20,e.beginPath(),e.moveTo(S,C);let f=S,E=C;const y=8;for(let v=1;v<=y;v++){const x=v/y,M=S+(r-S)*x,b=C+(u-C)*x,j=(Math.random()-.5)*40;f=M+j,E=b,e.lineTo(f,E)}e.stroke()}}}else if(a===Et.GLITCH1){e.globalCompositeOperation="lighter",e.fillStyle="rgba(0, 0, 0, 0.15)";for(let N=0;N<n;N+=8)e.fillRect(0,N,t,1);if(Math.random()>.85){const N=Math.floor(Math.random()*2)+1;for(let h=0;h<N;h++){const S=Math.random()*t*.8,C=Math.random()*n*.8,r=Math.random()*t*.18+8,u=Math.random()*n*.07+3,f=S+(Math.random()-.5)*25,E=C+(Math.random()-.5)*12;try{e.drawImage(e.canvas,S,C,r,u,f,E,r,u)}catch{}}}}else if(a===Et.GLITCH2){e.globalCompositeOperation="lighter",e.fillStyle="rgba(0, 0, 0, 0.1)";for(let N=0;N<n;N+=12)e.fillRect(0,N,t,1);if(Math.random()>.85){const N=Math.floor(Math.random()*2)+1;for(let h=0;h<N;h++){const S=Math.random()*n,C=Math.random()*n/20+2,r=0,u=t,f=(Math.random()-.5)*15,E=S;try{e.drawImage(e.canvas,r,S,u,C,f,E,u,C)}catch{}}}}else{if(!c||c.length===0){e.restore();return}e.globalCompositeOperation="screen",c.forEach((N,h)=>{const S=(Math.random()-.5)*.3,C=Math.sin(m*.01+h*.1)*.2;N.x+=(N.vx+S+C)*s,N.y+=N.vy*s,N.rotation+=N.rotationSpeed*s;let r=!1;a===Et.STARS?(N.life-=.02*s,N.life<=0&&(N.x=Math.random()*t,N.y=Math.random()*n,N.life=N.maxLife,N.opacity=.3+Math.random()*.7)):(N.y>n+20||N.x<-20||N.x>t+20)&&(r=!0),r||gb(e,N,a)})}e.restore()},ln=({path:e,className:t="w-6 h-6"})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,"aria-hidden":"true",children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:e})}),st={UPLOAD:"M9.25 15.5V11.375L7.25 13.375L6 12L10 8L14 12L12.75 13.375L10.75 11.375V15.5H9.25ZM5.625 20C5.175 20 4.79375 19.8562 4.48125 19.5687C4.16875 19.2812 4.0125 18.9187 4.0125 18.4812L4 16.5H5.5V18.5H14.5V16.5H16V18.4812C16 18.9187 15.8438 19.2812 15.5313 19.5687C15.2188 19.8562 14.8375 20 14.375 20H5.625Z",PLAY:"M8 19V5L19 12L8 19Z",PAUSE:"M6 19H10V5H6V19ZM14 5V19H18V5H14Z",RECORD_START:"M12 12m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0-7 0",RECORD_STOP:"M10 10h4v4h-4z",DOWNLOAD:"M5 20H19V18H5V20ZM19 9H15V3H9V9H5L12 16L19 9Z",CHANGE_MUSIC:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z",SUBTITLES:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z",INTRO:"M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20Zm-1 6h2v6h-2V8Zm0 8h2v2h-2v-2Z",AI_SPARKLE:"M10 21.65 8.95 20.6l-2.6-2.6L7.4 16.95l2.6 2.6L11.05 20.6Zm-4.9-4.9L4.05 15.7l-2.6-2.6L2.5 12.05l2.6 2.6ZM20 12.5l-2.6-2.6-1.05-1.05L15.3 9.9l2.6 2.6ZM10 12q-1.25 0-2.125-.875T7 9q0-1.25.875-2.125T10 6q1.25 0 2.125.875T13 9q0 1.25-.875 2.125T10 12Zm10.1-6.55-1.05-1.05-2.6-2.6 1.05-1.05 2.6 2.6ZM10 4.5q-.4 0-.7-.125t-.55-.375L8.6 3.85 7.75 3q-.25-.25-.25-.6t.25-.6q.25-.25.6-.25t.6.25l.85.85.15.15q.25.25.375.55t.125.7q0 .4-.3.7t-.7.3Z",CHEVRON_UP:"M7 14l5-5 5 5z",CHEVRON_DOWN:"M7 10l5 5 5-5z",STAR:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",SETTINGS:"M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1-3.5 3.5M19.43 12.97c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z",ADVANCED:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},vb={[kn.P720]:{width:1280,height:720},[kn.P1080]:{width:1920,height:1080},[kn.P4K]:{width:3840,height:2160},[kn.SQUARE_1080]:{width:1080,height:1080},[kn.SQUARE_4K]:{width:2160,height:2160},[kn.RATIO_2_1_4K]:{width:4096,height:2048},[kn.RATIO_2_1_1080]:{width:1920,height:960},[kn.RATIO_2_1_720]:{width:1280,height:640},[kn.CURRENT]:null},Cb={[Ie.DEFAULT]:{name:Ie.DEFAULT,primary:"#67E8F9",secondary:"#F472B6",accent:"#FFFFFF",backgroundGlow:"rgba(10, 80, 150, 0.2)",hueRange:[180,300]},[Ie.CYBERPUNK]:{name:Ie.CYBERPUNK,primary:"#00F0FF",secondary:"#FF00C7",accent:"#F5F5F5",backgroundGlow:"rgba(80, 10, 150, 0.25)",hueRange:[185,310]},[Ie.SUNSET]:{name:Ie.SUNSET,primary:"#FFD700",secondary:"#FF8C00",accent:"#FF4500",backgroundGlow:"rgba(150, 50, 10, 0.2)",hueRange:[25,60]},[Ie.GLACIER]:{name:Ie.GLACIER,primary:"#FFFFFF",secondary:"#ADD8E6",accent:"#87CEEB",backgroundGlow:"rgba(100, 120, 180, 0.15)",hueRange:[180,240]},[Ie.LAVA]:{name:Ie.LAVA,primary:"#FF4500",secondary:"#FF0000",accent:"#FFFF00",backgroundGlow:"rgba(180, 20, 0, 0.3)",hueRange:[0,50]},[Ie.MIDNIGHT]:{name:Ie.MIDNIGHT,primary:"#581C87",secondary:"#1E40AF",accent:"#E5E7EB",backgroundGlow:"rgba(40, 40, 80, 0.2)",hueRange:[240,280]},[Ie.WHITE]:{name:Ie.WHITE,primary:"#FFFFFF",secondary:"#E5E7EB",accent:"#FFFFFF",backgroundGlow:"rgba(220, 220, 230, 0.2)",hueRange:[0,0]},[Ie.RAINBOW]:{name:Ie.RAINBOW,primary:"#FF0000",secondary:"#00FF00",accent:"#0000FF",backgroundGlow:"rgba(128, 128, 128, 0.2)",hueRange:[0,360]},[Ie.CUSTOM]:{name:Ie.CUSTOM,primary:"#67E8F9",secondary:"#F472B6",accent:"#FFFFFF",backgroundGlow:"rgba(10, 80, 150, 0.2)",hueRange:[180,300]}},qt=({title:e,children:t,className:n="",defaultExpanded:a=!1,icon:o,badge:i,priority:s="medium"})=>{const[c,m]=k.useState(a),N=k.useRef(null),[h,S]=k.useState(0),C=()=>{const f=N.current;f&&S(f.scrollHeight)};k.useLayoutEffect(()=>{if(!c){S(0);return}C()},[c,t]),k.useEffect(()=>{if(!c)return;const f=N.current;if(!f||typeof ResizeObserver>"u")return;const E=new ResizeObserver(()=>C());return E.observe(f),()=>E.disconnect()},[c]);const r={high:"border-l-4 border-l-cyan-400 bg-gradient-to-r from-cyan-500/10 to-transparent",medium:"border-l-4 border-l-blue-400 bg-gradient-to-r from-blue-500/10 to-transparent",low:"border-l-4 border-l-gray-400 bg-gradient-to-r from-gray-500/10 to-transparent"},u={high:st.STAR,medium:st.SETTINGS,low:st.ADVANCED};return l.jsxs("div",{className:`bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50 ${r[s]} ${n}`,children:[l.jsxs("button",{onClick:()=>m(!c),className:"w-full p-4 flex items-center justify-between hover:bg-gray-700/30 transition-colors duration-200 rounded-t-xl",children:[l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[o&&l.jsx(ln,{path:o,className:"w-5 h-5 text-gray-300"}),!o&&l.jsx(ln,{path:u[s],className:"w-5 h-5 text-gray-300"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:e}),i&&l.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-cyan-500/20 text-cyan-300 rounded-full",children:i})]})}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(ln,{path:c?st.CHEVRON_UP:st.CHEVRON_DOWN,className:"w-5 h-5 text-gray-400 transition-transform duration-200"})})]}),l.jsx("div",{className:`collapsible-content ${c?"expanded":"collapsed"}`,style:{maxHeight:c?`${h}px`:"0px"},children:l.jsx("div",{ref:N,className:"p-4 pt-0",children:t})})]})},Ol=[{type:oe.MONSTERCAT,category:Fe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:oe.MONSTERCAT_V2,category:Fe.BASIC,description:" Monstercat",difficulty:"easy",performance:"low",tags:["","","",""]},{type:oe.NEBULA_WAVE,category:Fe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:oe.LUMINOUS_WAVE,category:Fe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:oe.RADIAL_BARS,category:Fe.BASIC,description:"",difficulty:"easy",performance:"low",tags:["","","",""]},{type:oe.BASIC_WAVE,category:Fe.BASIC,description:"0.1",difficulty:"easy",performance:"low",tags:["","","","",""]},{type:oe.LYRIC_PULSE_LINE,category:Fe.BASIC,description:" +  Lyric Video ",difficulty:"easy",performance:"low",tags:["","","","Lyric","",""]},{type:oe.CIRCULAR_WAVE,category:Fe.BASIC,description:"1/4",difficulty:"easy",performance:"low",tags:["","","","",""]},{type:oe.MONSTERCAT_GLITCH,category:Fe.ADVANCED,description:"Monstercat",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.TECH_WAVE,category:Fe.ADVANCED,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.STELLAR_CORE,category:Fe.ADVANCED,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.REPULSOR_FIELD,category:Fe.ADVANCED,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.DYNAMIC_CONTROL_CARD,category:Fe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:oe.FRAME_PIXELATION,category:Fe.DYNAMIC_CONTROL,description:" ",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:oe.DATA_MOSH,category:Fe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:oe.VINYL_RECORD,category:Fe.EXPERIMENTAL,description:" + ",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.PIXEL_SORT,category:Fe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:oe.SIGNAL_SCRAMBLE,category:Fe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:oe.AUDIO_LANDSCAPE,category:Fe.EXPERIMENTAL,description:"3D",difficulty:"hard",performance:"high",tags:["3D","","",""]},{type:oe.PARTICLE_GALAXY,category:Fe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.LIQUID_METAL,category:Fe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.CRT_GLITCH,category:Fe.SPECIAL,description:"CRT",difficulty:"medium",performance:"medium",tags:["CRT","","",""]},{type:oe.GLITCH_WAVE,category:Fe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.FUSION,category:Fe.SPECIAL,description:"",difficulty:"hard",performance:"high",tags:["","","",""]},{type:oe.PIANO_VIRTUOSO,category:Fe.SPECIAL,description:"",difficulty:"medium",performance:"medium",tags:["","","",""]},{type:oe.GEOMETRIC_BARS,category:Fe.EXPERIMENTAL,description:"",difficulty:"hard",performance:"high",tags:["","","","",""]},{type:oe.Z_CUSTOM,category:Fe.EXPERIMENTAL,description:"Z",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:oe.PHOTO_SHAKE,category:Fe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:oe.BLURRED_EDGE,category:Fe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","",""]},{type:oe.KE_YE_CUSTOM_V2,category:Fe.DYNAMIC_CONTROL,description:"",difficulty:"medium",performance:"medium",tags:["","","","","",""]}],Sb={[Fe.BASIC]:Ol.filter(e=>e.category===Fe.BASIC),[Fe.ADVANCED]:Ol.filter(e=>e.category===Fe.ADVANCED),[Fe.EXPERIMENTAL]:Ol.filter(e=>e.category===Fe.EXPERIMENTAL),[Fe.SPECIAL]:Ol.filter(e=>e.category===Fe.SPECIAL),[Fe.DYNAMIC_CONTROL]:Ol.filter(e=>e.category===Fe.DYNAMIC_CONTROL)},bb=e=>Ol.find(t=>t.type===e),Nb=e=>({[Fe.BASIC]:"",[Fe.ADVANCED]:"",[Fe.EXPERIMENTAL]:"",[Fe.SPECIAL]:"",[Fe.DYNAMIC_CONTROL]:""})[e],Eb=({currentType:e,onTypeChange:t,multiSelectEnabled:n=!1,selectedTypes:a=[],onToggleType:o})=>{var m;const[i,s]=k.useState(Fe.BASIC),c=Object.values(Fe);return l.jsxs("div",{className:"categorized-effect-selector bg-gray-800 rounded-lg p-4 mb-4",children:[l.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.map(N=>l.jsx("button",{onClick:()=>s(N),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${i===N?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white"}`,children:Nb(N)},N))}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:(m=Sb[i])==null?void 0:m.map(N=>{const h=n?a.includes(N.type):e===N.type;return l.jsx("div",{className:`effect-card bg-gray-700 rounded-lg p-3 cursor-pointer transition-all duration-200 hover:scale-105 ${h?"ring-2 ring-blue-500 bg-blue-900/30":"hover:bg-gray-600"}`,onClick:()=>{n?o==null||o(N.type):t(N.type)},children:l.jsxs("div",{className:"text-center relative",children:[n&&l.jsx("div",{className:"absolute -top-1 -right-1",children:l.jsx("input",{type:"checkbox",checked:h,readOnly:!0,className:"w-4 h-4 text-blue-600 bg-gray-800 border-gray-500 rounded focus:ring-blue-500 focus:ring-2 pointer-events-none","aria-label":` ${N.type}`})}),l.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:N.type}),h&&l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mx-auto animate-pulse"})]})},N.type)})})]})},xb=({visualizationType:e,onVisualizationChange:t,multiEffectEnabled:n=!1,onMultiEffectEnabledChange:a,selectedVisualizationTypes:o=[],onToggleVisualizationType:i,multiEffectOffsets:s={},onActiveMultiEffectNudge:c,onActiveMultiEffectOffsetChange:m,onActiveMultiEffectOffsetReset:N,multiEffectTransforms:h={},onActiveMultiEffectTransformChange:S,onMultiEffectTransformChange:C,onActiveMultiEffectTransformReset:r,waveformStroke:u,onWaveformStrokeChange:f,effectScale:E,onEffectScaleChange:y,effectOffsetX:v,onEffectOffsetXChange:x,effectOffsetY:M,onEffectOffsetYChange:b,effectRotation:j,onEffectRotationChange:p,isRecording:d,colorPalette:I,onColorPaletteChange:O,customPrimaryColor:P="#67E8F9",customSecondaryColor:w="#F472B6",customAccentColor:R="#FFFFFF",onCustomPrimaryColorChange:F,onCustomSecondaryColorChange:V,onCustomAccentColorChange:D,sensitivity:B,onSensitivityChange:T,smoothing:L,onSmoothingChange:z,equalization:A,onEqualizationChange:H,isPipSupported:W,isPipActive:X,onEnterPictureInPicture:te,onExitPictureInPicture:q})=>{var re,Z;return h!=null&&h[e]||((re=s==null?void 0:s[e])==null||re.x,(Z=s==null?void 0:s[e])==null||Z.y),l.jsxs("div",{className:"quick-settings-panel bg-gradient-to-r from-cyan-500/20 to-blue-500/20 backdrop-blur-sm rounded-xl p-4 border border-cyan-400/30",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(ln,{path:st.STAR,className:"w-5 h-5 text-cyan-400"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:""}),l.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-cyan-500/20 text-cyan-300 rounded-full",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-300 cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",checked:n,onChange:U=>a==null?void 0:a(U.target.checked),className:"w-4 h-4 text-red-500 bg-gray-700 border-gray-600 rounded focus:ring-red-500 focus:ring-2"}),""]})]}),n&&l.jsx("div",{className:"text-xs text-red-200 bg-red-500/10 border border-red-400/30 rounded-lg px-3 py-2",children:" "}),l.jsx(Eb,{currentType:e,onTypeChange:t,multiSelectEnabled:n,selectedTypes:o,onToggleType:i}),n&&o.length>0&&l.jsxs("div",{className:"mt-3 space-y-3",children:[l.jsx("div",{className:"text-xs font-semibold text-red-200 mb-2",children:""}),o.map(U=>{var $,K;const ne=bb(U),J=(ne==null?void 0:ne.type)||U,ee=(h==null?void 0:h[U])||{x:(($=s==null?void 0:s[U])==null?void 0:$.x)??0,y:((K=s==null?void 0:s[U])==null?void 0:K.y)??0,scale:1,rotation:0};return l.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-red-400/30 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs font-medium text-red-200",children:J}),l.jsx("button",{type:"button",onClick:()=>{C?C(U,{x:0,y:0,scale:1,rotation:0}):U===e&&r&&r()},className:"text-xs px-2 py-1 rounded bg-gray-700 hover:bg-gray-600 text-gray-200 border border-gray-600",children:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:""}),l.jsx("input",{type:"number",step:"0.05",min:"0.1",max:"2",value:ee.scale??1,onChange:de=>{const me=Math.max(.1,Math.min(2,Number(de.target.value||1)));C?C(U,{scale:me}):U===e&&S&&S({scale:me})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:" ()"}),l.jsx("input",{type:"number",step:"5",min:"-180",max:"180",value:ee.rotation??0,onChange:de=>{const me=Math.max(-180,Math.min(180,Number(de.target.value||0)));C?C(U,{rotation:me}):U===e&&S&&S({rotation:me})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]})]}),U===e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center justify-items-center pt-2 border-t border-gray-700",children:[l.jsx("div",{}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(0,-20),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("div",{}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(-20,0),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(0,0),className:"w-10 h-10 rounded-lg bg-gray-700 text-gray-300 border border-gray-600 cursor-default",title:"",children:"+"}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(20,0),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("div",{}),l.jsx("button",{type:"button",onClick:()=>c==null?void 0:c(0,20),className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-gray-600 text-white border border-gray-600",title:"",children:""}),l.jsx("div",{})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:"X"}),l.jsx("input",{type:"number",value:ee.x??0,onChange:de=>{const me=Number(de.target.value||0),ie=ee.y??0;C?C(U,{x:me,y:ie}):S&&S({x:me,y:ie}),m==null||m({x:me,y:ie})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-300",children:"Y"}),l.jsx("input",{type:"number",value:ee.y??0,onChange:de=>{const me=Number(de.target.value||0),ie=ee.x??0;C?C(U,{x:ie,y:me}):S&&S({x:ie,y:me}),m==null||m({x:ie,y:me})},className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-red-400"})]})]})]})]},U)}),l.jsx("div",{className:"text-[11px] text-gray-400 pt-2",children:"X/Y"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("select",{value:I,onChange:U=>O(U.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:[l.jsx("option",{value:Ie.DEFAULT,children:""}),l.jsx("option",{value:Ie.CYBERPUNK,children:""}),l.jsx("option",{value:Ie.SUNSET,children:""}),l.jsx("option",{value:Ie.GLACIER,children:""}),l.jsx("option",{value:Ie.LAVA,children:""}),l.jsx("option",{value:Ie.MIDNIGHT,children:""}),l.jsx("option",{value:Ie.WHITE,children:""}),l.jsx("option",{value:Ie.RAINBOW,children:""}),l.jsx("option",{value:Ie.CUSTOM,children:""})]}),I===Ie.CUSTOM&&l.jsxs("div",{className:"mt-3 p-3 bg-gray-800/50 rounded-lg border border-cyan-400/30 space-y-3",children:[l.jsx("label",{className:"text-xs font-medium text-cyan-300",children:""}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-400",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:P,onChange:U=>F==null?void 0:F(U.target.value),className:"w-10 h-10 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:P,onChange:U=>F==null?void 0:F(U.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-cyan-400",placeholder:"#67E8F9"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-400",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:w,onChange:U=>V==null?void 0:V(U.target.value),className:"w-10 h-10 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:w,onChange:U=>V==null?void 0:V(U.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-cyan-400",placeholder:"#F472B6"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-gray-400",children:""}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:R,onChange:U=>D==null?void 0:D(U.target.value),className:"w-10 h-10 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:R,onChange:U=>D==null?void 0:D(U.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-xs text-gray-200 focus:outline-none focus:ring-1 focus:ring-cyan-400",placeholder:"#FFFFFF"})]})]})]})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsx("button",{onClick:X?q:te,disabled:d,type:"button",className:`w-full py-2 px-3 rounded-lg text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed ${X?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:from-cyan-600 hover:to-blue-600 shadow-lg shadow-cyan-500/25":"bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-white"}`,title:X?"":" ()",children:l.jsx("span",{className:"flex items-center justify-center gap-2",children:X?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-base",children:""}),""]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-base",children:""}),""]})})}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:X?" ":W?" ":"  ChromeEdge  Safari "})]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(e===oe.CRT_GLITCH||e===oe.GLITCH_WAVE)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>f(!u),disabled:d,type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed ${u?"bg-cyan-600":"bg-gray-600"}`,"aria-pressed":u,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${u?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:E.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #374151 0%,
                                        #4B5563 50%,
                                        #6B7280 100%)`}}),l.jsx("input",{type:"range",min:.1,max:2,step:.05,value:E,onChange:U=>y(parseFloat(U.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(E-.1)/(2-.1)*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:v})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #8B9DC3 0%,
                                        #A5A0B0 50%,
                                        #C4A5A5 100%)`}}),l.jsx("input",{type:"range",min:-500,max:500,step:10,value:v,onChange:U=>x(parseFloat(U.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(v- -500)/1e3*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:M})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #8B9DC3 0%,
                                        #A5A0B0 50%,
                                        #C4A5A5 100%)`}}),l.jsx("input",{type:"range",min:-1e3,max:1e3,step:10,value:M,onChange:U=>b(parseFloat(U.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(M- -1e3)/2e3*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:[Math.round(j),""]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                        #8B9DC3 0%,
                                        #A5A0B0 50%,
                                        #C4A5A5 100%)`}}),l.jsx("input",{type:"range",min:-180,max:180,step:1,value:j,onChange:U=>p(parseFloat(U.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(j- -180)/360*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"/"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:B.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                            #D1B5B5 0%,
                                            #C4A5A5 25%,
                                            #B8B5A0 50%,
                                            #A8B5A0 75%,
                                            #9CAF9C 100%)`}}),l.jsx("input",{type:"range",min:.1,max:3,step:.1,value:B,onChange:U=>T(parseFloat(U.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(B-.1)/(3-.1)*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:L})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                            #9CA3AF 0%,
                                            #A5A0B0 50%,
                                            #B8B5C0 100%)`}}),l.jsx("input",{type:"range",min:0,max:10,step:1,value:L,onChange:U=>z(parseFloat(U.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${L/10*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:A.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                            #9CA3AF 0%,
                                            #A5A0B0 50%,
                                            #B8B5C0 100%)`}}),l.jsx("input",{type:"range",min:0,max:1,step:.05,value:A,onChange:U=>H(parseFloat(U.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${A*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]})]})]})]})]})},bi=class bi{static saveSettings(t){try{const a={...this.loadSettings(),...t};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a))}catch(n){console.error("Failed to save settings:",n)}}static loadSettings(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to load settings:",t),{}}}static clearSettings(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(t){console.error("Failed to clear settings:",t)}}static savePreset(t,n){try{const a=`${this.PRESET_KEY_PREFIX}${t}`;localStorage.setItem(a,JSON.stringify(n))}catch(a){console.error("Failed to save preset:",a)}}static loadPreset(t){try{const n=`${this.PRESET_KEY_PREFIX}${t}`,a=localStorage.getItem(n);return a?JSON.parse(a):null}catch(n){return console.error("Failed to load preset:",n),null}}static getPresetNames(){try{const t=[];for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);a&&a.startsWith(this.PRESET_KEY_PREFIX)&&t.push(a.replace(this.PRESET_KEY_PREFIX,""))}return t}catch(t){return console.error("Failed to get preset names:",t),[]}}static deletePreset(t){try{const n=`${this.PRESET_KEY_PREFIX}${t}`;localStorage.removeItem(n)}catch(n){console.error("Failed to delete preset:",n)}}static exportSettings(t){return JSON.stringify(t,null,2)}static importSettings(t){try{return JSON.parse(t)}catch(n){return console.error("Failed to import settings:",n),null}}};bi.STORAGE_KEY="audio-visualizer-settings",bi.PRESET_KEY_PREFIX="audio-visualizer-preset-";let _n=bi;const wb=({onLoadSettings:e,currentSettings:t})=>{const[n,a]=k.useState(""),[o,i]=k.useState([]),[s,c]=k.useState(!1),[m,N]=k.useState(""),[h,S]=k.useState("");k.useEffect(()=>{i(_n.getPresetNames())},[]);const C=()=>{if(!n.trim()){alert("");return}_n.savePreset(n,t),i(_n.getPresetNames()),a(""),alert(` "${n}" `)},r=b=>{const j=_n.loadPreset(b);j&&(e(j),alert(` "${b}" `))},u=b=>{confirm(` "${b}" `)&&(_n.deletePreset(b),i(_n.getPresetNames()))},f=()=>{_n.saveSettings(t),alert("")},E=()=>{const b=_n.loadSettings();e(b),alert("")},y=()=>{confirm("")&&(_n.clearSettings(),alert(""))},v=()=>{const b=_n.exportSettings(t);S(b),c(!0)},x=()=>{const b=_n.importSettings(m);b?(e(b),N(""),c(!1),alert("")):alert("JSON")},M=b=>{navigator.clipboard.writeText(b).then(()=>{alert("")})};return l.jsxs("div",{className:"settings-manager-panel bg-gray-800/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700/50",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(ln,{path:st.SETTINGS,className:"w-5 h-5 text-cyan-400"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:f,className:"px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg text-sm font-medium transition-colors",children:""}),l.jsx("button",{onClick:E,className:"px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition-colors",children:""}),l.jsx("button",{onClick:y,className:"px-3 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg text-sm font-medium transition-colors",children:""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:n,onChange:b=>a(b.target.value),placeholder:"",className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent text-sm"}),l.jsx("button",{onClick:C,className:"px-3 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg text-sm font-medium transition-colors",children:""})]}),o.length>0&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-gray-400",children:""}),o.map(b=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>r(b),className:"px-2 py-1 bg-gray-600 hover:bg-gray-500 text-white rounded text-xs transition-colors",children:""}),l.jsx("span",{className:"text-sm text-gray-300 flex-1",children:b}),l.jsx("button",{onClick:()=>u(b),className:"px-2 py-1 bg-red-600 hover:bg-red-500 text-white rounded text-xs transition-colors",children:""})]},b))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:v,className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-sm font-medium transition-colors",children:""}),l.jsx("button",{onClick:()=>c(!s),className:"px-3 py-2 bg-orange-600 hover:bg-orange-500 text-white rounded-lg text-sm font-medium transition-colors",children:s?"":"/"})]}),s&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:" (JSON)"}),l.jsxs("div",{className:"relative",children:[l.jsx("textarea",{value:h,readOnly:!0,rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 text-xs font-mono",placeholder:"JSON"}),h&&l.jsx("button",{onClick:()=>M(h),className:"absolute top-2 right-2 px-2 py-1 bg-gray-600 hover:bg-gray-500 text-white rounded text-xs transition-colors",children:""})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:" (JSON)"}),l.jsx("textarea",{value:m,onChange:b=>N(b.target.value),rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 text-xs font-mono focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",placeholder:"JSON..."}),l.jsx("button",{onClick:x,disabled:!m.trim(),className:"px-3 py-2 bg-green-600 hover:bg-green-500 disabled:bg-gray-500 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors",children:""})]})]})]})]})]})},Ob=(e,t)=>{if(!e.trim())return[];const n=e.trim().split(`
`),a=[];if(t==="bracket"){const o=/\[(\d{2}):(\d{2})\.(\d{2})\]/;for(let i=0;i<n.length;i++){const s=n[i].trim();if(!s)continue;const c=s.match(o);if(c){const m=parseInt(c[1],10),N=parseInt(c[2],10),h=parseInt(c[3],10),S=m*60+N+h/100,C=s.replace(o,"").trim();if(C){const r=S+3;a.push({time:S,text:C,endTime:r})}}}}else if(t==="srt"){const o=/^(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})\s*-->\s*(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})$/;for(let i=0;i<n.length;i++){const s=n[i].trim();if(!s)continue;const c=s.match(o);if(c){const m=parseInt(c[1],10),N=parseInt(c[2],10),h=parseInt(c[3],10),S=parseInt(c[4],10),C=m*3600+N*60+h+S/1e3,r=parseInt(c[5],10),u=parseInt(c[6],10),f=parseInt(c[7],10),E=parseInt(c[8],10),y=r*3600+u*60+f+E/1e3;if(i+1<n.length){const v=n[i+1].trim();v&&(a.push({time:C,text:v,endTime:y}),i++)}}}}return a.sort((o,i)=>o.time-i.time),a},Tb=(e,t,n)=>{const a=Ob(e,t);{let o="";return a.forEach((i,s)=>{const c=$f(i.time),m=$f(i.time+3);o+=`${s+1}
`,o+=`${c} --> ${m}
`,o+=`${i.text}

`}),o}},$f=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=Math.floor(e%60),o=Math.floor(e%1*1e3);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")},${o.toString().padStart(3,"0")}`},sa=({children:e,onClick:t,className:n="",disabled:a=!1,variant:o="primary"})=>{const i="px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800",s={primary:"bg-cyan-500 hover:bg-cyan-600 text-white shadow-lg hover:shadow-xl focus:ring-cyan-400",secondary:"bg-gray-600 hover:bg-gray-700 text-white shadow-md hover:shadow-lg focus:ring-gray-400",danger:"bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-xl focus:ring-red-400"};return l.jsx("button",{onClick:t,disabled:a,className:`${i} ${s[o]} ${n}`,children:e})},Ca=({color:e,onClick:t,isActive:n})=>l.jsx("button",{type:"button",onClick:()=>t(e),className:`w-8 h-8 rounded-full border-3 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-400 hover:scale-110 ${n?"border-white scale-110 shadow-lg":"border-gray-600 hover:border-gray-400"}`,style:{backgroundColor:e},"aria-label":`Set text color to ${e}`}),We=({label:e,value:t,onChange:n,min:a,max:o,step:i,className:s="",colorType:c="default"})=>{const m=(t-a)/(o-a)*100,N=()=>{switch(c){case"sensitivity":return{background:`linear-gradient(to right, 
                        #D1B5B5 0%, 
                        #C4A5A5 25%, 
                        #B8B5A0 50%, 
                        #A8B5A0 75%, 
                        #9CAF9C 100%)`};case"position":return{background:`linear-gradient(to right, 
                        #8B9DC3 0%, 
                        #A5A0B0 50%, 
                        #C4A5A5 100%)`};case"scale":return{background:`linear-gradient(to right, 
                        #374151 0%, 
                        #4B5563 50%, 
                        #6B7280 100%)`};default:return{background:`linear-gradient(to right, 
                        #9CA3AF 0%, 
                        #A5A0B0 50%, 
                        #B8B5C0 100%)`}}};return l.jsxs("div",{className:`space-y-2 ${s}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:e}),l.jsx("span",{className:"text-xs text-gray-400 bg-gray-700 px-2 py-1 rounded",children:t.toFixed(2)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:N()}),l.jsx("input",{type:"range",min:a,max:o,step:i,value:t,onChange:h=>n(parseFloat(h.target.value)),className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 bg-white/30 rounded-lg pointer-events-none",style:{left:0,width:`${m}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]})]})},Nt=({label:e,value:t,onChange:n,options:a,className:o=""})=>l.jsxs("div",{className:`space-y-2 ${o}`,children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:e}),l.jsx("select",{value:t,onChange:i=>n(i.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:a.map(i=>l.jsx("option",{value:i.value,children:i.label},i.value))})]}),Ib=({currentTime:e,duration:t,onSeek:n,className:a=""})=>{const o=t>0?e/t*100:0,i=c=>{const m=Math.floor(c/60),N=Math.floor(c%60);return`${m}:${N.toString().padStart(2,"0")}`},s=c=>{const m=parseFloat(c.target.value);n(m)};return l.jsxs("div",{className:`space-y-2 ${a}`,children:[l.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-300",children:[l.jsx("span",{children:i(e)}),l.jsx("span",{children:i(t)})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0 bg-gradient-to-r from-cyan-500 to-purple-500"}),l.jsx("input",{type:"range",min:0,max:t||0,step:.1,value:e,onChange:s,className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 bg-white/30 rounded-lg pointer-events-none",style:{left:0,width:`${o}%`,transition:"width 0.1s ease"}})]})]})},kb=e=>{var h,S,C;const[t,n]=k.useState(!0),a=["#000000","#FFFFFF","#8B9DC3","#A8B5C4","#9CA3AF","#C4A5A5","#6B7280","#4A4A4A","#E8E8E3","#D1D5DB"],o=r=>({enabled:r===0,text:r===0?"Sonic Pulse":"",color:r===0?"#67E8F9":"#FFFFFF",strokeColor:"#000000",fontFamily:r===0?g.ROCKNROLL_ONE:g.POPPINS,graphicEffect:r===0?Y.NEON:Y.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:r===0?bn.BOTTOM_RIGHT:bn.CENTER}),i=r=>{const u=Array.isArray(r)?r:[],f=[];for(let E=0;E<3;E++){const y=o(E),v=u[E]&&typeof u[E]=="object"?u[E]:{},x=v.enabled===void 0&&!!v.text&&String(v.text).trim().length>0;f.push({...y,...v,enabled:v.enabled!==void 0?!!v.enabled:x||y.enabled,text:v.text!==void 0?String(v.text):y.text,color:v.color||y.color,strokeColor:v.strokeColor!==void 0?v.strokeColor:y.strokeColor,fontFamily:v.fontFamily||y.fontFamily,graphicEffect:v.graphicEffect||y.graphicEffect,textSize:typeof v.textSize=="number"?v.textSize:y.textSize,textPositionX:typeof v.textPositionX=="number"?v.textPositionX:y.textPositionX,textPositionY:typeof v.textPositionY=="number"?v.textPositionY:y.textPositionY,rotationDeg:typeof v.rotationDeg=="number"?v.rotationDeg:y.rotationDeg,anchor:v.anchor||y.anchor})}return f},s=(r,u)=>{if(e.onUpdateCustomTextOverlay){if(u.text!==void 0&&u.text.trim().length>0){const x=i(e.customTextOverlays)[r];x&&x.enabled===!1&&(!x.text||x.text.trim().length===0)&&(u={...u,enabled:!0})}e.onUpdateCustomTextOverlay(r,u);return}const E=[...i(e.customTextOverlays)],y=E[r];u.text!==void 0&&u.text.trim().length>0&&y&&y.enabled===!1&&(!y.text||y.text.trim().length===0)&&(u={...u,enabled:!0}),E[r]={...E[r],...u},e.onCustomTextOverlaysChange(E)},c=()=>{const r=i(e.customTextOverlays),u=r[0];return{visualizationType:e.visualizationType,multiEffectEnabled:!!e.multiEffectEnabled,selectedVisualizationTypes:e.selectedVisualizationTypes||[],multiEffectOffsets:e.multiEffectOffsets||{},multiEffectTransforms:e.multiEffectTransforms||{},customTextOverlays:r,customText:u.enabled?u.text:"",textColor:u.color,textStrokeColor:u.strokeColor||"#000000",fontFamily:u.fontFamily,graphicEffect:u.graphicEffect,textSize:u.textSize,textPositionX:u.textPositionX,textPositionY:u.textPositionY,textRotationDeg:u.rotationDeg,sensitivity:e.sensitivity,smoothing:e.smoothing,equalization:e.equalization,backgroundColor:e.backgroundColor,colorPalette:e.colorPalette,resolution:e.resolution,watermarkPosition:u.anchor,waveformStroke:e.waveformStroke,subtitleFontSize:e.subtitleFontSize,subtitleFontFamily:e.subtitleFontFamily,subtitleColor:e.subtitleColor,subtitleEffect:e.subtitleEffect,subtitleBgStyle:e.subtitleBgStyle,subtitleDisplayMode:e.subtitleDisplayMode,subtitleFadeInSeconds:e.subtitleFadeInSeconds??.25,subtitleFadeOutSeconds:e.subtitleFadeOutSeconds??.25,subtitleFadeLinesEnabled:e.subtitleFadeLinesEnabled??!0,subtitleLineColor:e.subtitleLineColor||"#FFFFFF",subtitleLineThickness:e.subtitleLineThickness??3,subtitleLineGap:e.subtitleLineGap??10,effectScale:e.effectScale,effectOffsetX:e.effectOffsetX,effectOffsetY:e.effectOffsetY,effectRotation:e.effectRotation,lyricsFontSize:e.lyricsFontSize,lyricsFontFamily:e.lyricsFontFamily,lyricsPositionX:e.lyricsPositionX,lyricsPositionY:e.lyricsPositionY,showCtaAnimation:!!e.showCtaAnimation,ctaChannelName:e.ctaChannelName||"",ctaFontFamily:e.ctaFontFamily||g.POPPINS,ctaTextColor:e.ctaTextColor||"#FFFFFF",ctaStrokeColor:e.ctaStrokeColor||"#000000",ctaTextEffect:e.ctaTextEffect||Y.NONE,ctaPositionX:e.ctaPositionX??50,ctaPositionY:e.ctaPositionY??50,ctaVideoEnabled:e.ctaVideoEnabled??!1,ctaVideoIncludeAudio:e.ctaVideoIncludeAudio??!1,ctaVideoReplaceCtaAnimation:e.ctaVideoReplaceCtaAnimation??!1,fusionCenterOpacity:e.fusionCenterOpacity??1,stellarCoreInnerOpacity:e.stellarCoreInnerOpacity??1,stellarCoreTentaclesOpacity:e.stellarCoreTentaclesOpacity??1,controlCardFontFamily:e.controlCardFontFamily||g.POPPINS,controlCardTextEffect:e.controlCardTextEffect||Y.NONE,controlCardStrokeColor:e.controlCardStrokeColor||"#000000",keYeCustomV2BoxOpacity:e.keYeCustomV2BoxOpacity??.5,keYeCustomV2BoxColor:e.keYeCustomV2BoxColor||"#FFFFFF",keYeCustomV2VisualizerColor:e.keYeCustomV2VisualizerColor||"#FFFFFF",keYeCustomV2Text1:e.keYeCustomV2Text1||"",keYeCustomV2Text2:e.keYeCustomV2Text2||"",keYeCustomV2Text1Font:e.keYeCustomV2Text1Font||g.POPPINS,keYeCustomV2Text2Font:e.keYeCustomV2Text2Font||g.POPPINS,keYeCustomV2Text1Size:e.keYeCustomV2Text1Size??40,keYeCustomV2Text2Size:e.keYeCustomV2Text2Size??30,keYeCustomV2Text1Color:e.keYeCustomV2Text1Color||"#000000",keYeCustomV2Text2Color:e.keYeCustomV2Text2Color||"#000000",keYeCustomV2Text1Effect:e.keYeCustomV2Text1Effect||Y.NONE,keYeCustomV2Text2Effect:e.keYeCustomV2Text2Effect||Y.NONE,keYeCustomV2Text1StrokeColor:e.keYeCustomV2Text1StrokeColor||"#FFFFFF",keYeCustomV2Text2StrokeColor:e.keYeCustomV2Text2StrokeColor||"#FFFFFF",showIntroOverlay:!!e.showIntroOverlay,introTitle:e.introTitle||"",introArtist:e.introArtist||"",introDescription:e.introDescription||"",introFontFamily:e.introFontFamily||g.POPPINS,introEffect:e.introEffect||Y.NEON,introColor:e.introColor||"#FFFFFF",introStrokeColor:e.introStrokeColor||"#000000",introTitleSize:e.introTitleSize??6,introArtistSize:e.introArtistSize??4,introDescriptionSize:e.introDescriptionSize??2.8,introFadeIn:e.introFadeIn??.8,introHold:e.introHold??1.6,introFadeOut:e.introFadeOut??.8,introBgOpacity:e.introBgOpacity??.35,introPositionX:e.introPositionX??50,introPositionY:e.introPositionY??50,introLightBarsEnabled:e.introLightBarsEnabled??!0,customPrimaryColor:e.customPrimaryColor,customSecondaryColor:e.customSecondaryColor,customAccentColor:e.customAccentColor,subtitleOrientation:e.subtitleOrientation,verticalSubtitlePosition:e.verticalSubtitlePosition,horizontalSubtitlePosition:e.horizontalSubtitlePosition,verticalSubtitleVerticalPosition:e.verticalSubtitleVerticalPosition,horizontalSubtitleVerticalPosition:e.horizontalSubtitleVerticalPosition,subtitleFormat:e.subtitleFormat,subtitleLanguage:e.subtitleLanguage,subtitlesRawText:e.subtitlesRawText,showSubtitles:e.showSubtitles,subtitleStrokeColor:e.subtitleStrokeColor,showLyricsDisplay:e.showLyricsDisplay,isSlideshowEnabled:e.isSlideshowEnabled,slideshowInterval:e.slideshowInterval,transitionType:e.transitionType,showVisualizer:e.showVisualizer,showBackgroundImage:e.showBackgroundImage,photoShakeImage:e.photoShakeImage,photoShakeSongTitle:e.photoShakeSongTitle,photoShakeSubtitle:e.photoShakeSubtitle,photoShakeFontFamily:e.photoShakeFontFamily,photoShakeOverlayOpacity:e.photoShakeOverlayOpacity,photoShakeFontSize:e.photoShakeFontSize,photoShakeDecaySpeed:e.photoShakeDecaySpeed,bassEnhancementBlurIntensity:e.bassEnhancementBlurIntensity,bassEnhancementCurveIntensity:e.bassEnhancementCurveIntensity,bassEnhancementText:e.bassEnhancementText,bassEnhancementTextColor:e.bassEnhancementTextColor,bassEnhancementTextFont:e.bassEnhancementTextFont,bassEnhancementTextSize:e.bassEnhancementTextSize,bassEnhancementTextBgOpacity:e.bassEnhancementTextBgOpacity,bassEnhancementCenterOpacity:e.bassEnhancementCenterOpacity,circularWaveImage:e.circularWaveImage,blurredEdgeSinger:e.blurredEdgeSinger,blurredEdgeSongTitle:e.blurredEdgeSongTitle,blurredEdgeFontFamily:e.blurredEdgeFontFamily,blurredEdgeTextColor:e.blurredEdgeTextColor,blurredEdgeBgOpacity:e.blurredEdgeBgOpacity,blurredEdgeFontSize:e.blurredEdgeFontSize,vinylImage:e.vinylImage,vinylLayoutMode:e.vinylLayoutMode,vinylCenterFixed:e.vinylCenterFixed,vinylRecordEnabled:e.vinylRecordEnabled,vinylNeedleEnabled:e.vinylNeedleEnabled,pianoOpacity:e.pianoOpacity,controlCardEnabled:e.controlCardEnabled,controlCardStyle:e.controlCardStyle,controlCardColor:e.controlCardColor,controlCardBackgroundColor:e.controlCardBackgroundColor,controlCardFontSize:e.controlCardFontSize}},m=r=>{var u,f,E,y,v,x,M,b,j,p,d,I,O,P,w,R,F,V,D,B,T,L,z,A,H,W,X,te,q,re,Z,U,ne,J,ee,$,K,de,me,ie,le,ve,Pe,Me,ye,be,je,Xe,we,qe,Ye,$e,et,se,He,Le,tt,Re,Pt,Ke,xe,Ee,Wt,_t,Qe,Ue,ft,gn,ut,yn,Gt,ht,Ft,Rt,ke,Ce,Oe,_e,De,wt,ct,Bt,Dt,Kn,ha,Q,pe,Ve,nt,ze,Je,Ae,rt,Ot,$t,zt,wn,Qt,ll,mt,Pa,ma,ga,Fa,vn,On,An,ra,ya;if(r.visualizationType&&e.onVisualizationChange(r.visualizationType),r.multiEffectEnabled!==void 0&&((u=e.onMultiEffectEnabledChange)==null||u.call(e,!!r.multiEffectEnabled)),Array.isArray(r.selectedVisualizationTypes)){const Tn=r.selectedVisualizationTypes.filter(Boolean);Tn.length>0&&((f=e.onSelectedVisualizationTypesChange)==null||f.call(e,Tn))}if(r.multiEffectTransforms&&typeof r.multiEffectTransforms=="object"&&((E=e.onMultiEffectTransformsChange)==null||E.call(e,r.multiEffectTransforms)),r.multiEffectOffsets&&typeof r.multiEffectOffsets=="object"&&((y=e.onMultiEffectOffsetsChange)==null||y.call(e,r.multiEffectOffsets)),Array.isArray(r.customTextOverlays))e.onCustomTextOverlaysChange(i(r.customTextOverlays));else{const Tn=i(e.customTextOverlays),Tt={};if(r.customText!==void 0&&(Tt.text=String(r.customText)),r.textColor!==void 0&&(Tt.color=r.textColor),r.textStrokeColor!==void 0&&(Tt.strokeColor=r.textStrokeColor),r.fontFamily!==void 0&&(Tt.fontFamily=r.fontFamily),r.graphicEffect!==void 0&&(Tt.graphicEffect=r.graphicEffect),r.textSize!==void 0&&(Tt.textSize=r.textSize),r.textPositionX!==void 0&&(Tt.textPositionX=r.textPositionX),r.textPositionY!==void 0&&(Tt.textPositionY=r.textPositionY),r.textRotationDeg!==void 0&&(Tt.rotationDeg=r.textRotationDeg),r.watermarkPosition!==void 0&&(Tt.anchor=r.watermarkPosition),Object.keys(Tt).length>0){const Ra=[...Tn];Ra[0]={...Ra[0],...Tt},Tt.text!==void 0&&(Ra[0].enabled=String(Tt.text).trim().length>0),e.onCustomTextOverlaysChange(Ra)}}r.sensitivity!==void 0&&e.onSensitivityChange(r.sensitivity),r.smoothing!==void 0&&e.onSmoothingChange(r.smoothing),r.equalization!==void 0&&e.onEqualizationChange(r.equalization),r.backgroundColor&&e.onBackgroundColorChange(r.backgroundColor),r.colorPalette&&e.onColorPaletteChange(r.colorPalette),r.resolution&&e.onResolutionChange(r.resolution),r.waveformStroke!==void 0&&e.onWaveformStrokeChange(r.waveformStroke),r.subtitleFontSize!==void 0&&e.onSubtitleFontSizeChange(r.subtitleFontSize),r.subtitleFontFamily&&e.onSubtitleFontFamilyChange(r.subtitleFontFamily),r.subtitleColor&&e.onSubtitleColorChange(r.subtitleColor),r.subtitleEffect&&e.onSubtitleEffectChange&&e.onSubtitleEffectChange(r.subtitleEffect),r.subtitleBgStyle&&e.onSubtitleBgStyleChange(r.subtitleBgStyle),r.subtitleDisplayMode&&e.onSubtitleDisplayModeChange(r.subtitleDisplayMode),r.subtitleFadeInSeconds!==void 0&&((v=e.onSubtitleFadeInSecondsChange)==null||v.call(e,r.subtitleFadeInSeconds)),r.subtitleFadeOutSeconds!==void 0&&((x=e.onSubtitleFadeOutSecondsChange)==null||x.call(e,r.subtitleFadeOutSeconds)),r.subtitleFadeLinesEnabled!==void 0&&((M=e.onSubtitleFadeLinesEnabledChange)==null||M.call(e,!!r.subtitleFadeLinesEnabled)),r.subtitleLineColor!==void 0&&((b=e.onSubtitleLineColorChange)==null||b.call(e,r.subtitleLineColor)),r.subtitleLineThickness!==void 0&&((j=e.onSubtitleLineThicknessChange)==null||j.call(e,r.subtitleLineThickness)),r.subtitleLineGap!==void 0&&((p=e.onSubtitleLineGapChange)==null||p.call(e,r.subtitleLineGap)),r.effectScale!==void 0&&e.onEffectScaleChange(r.effectScale),r.effectOffsetX!==void 0&&e.onEffectOffsetXChange(r.effectOffsetX),r.effectOffsetY!==void 0&&e.onEffectOffsetYChange(r.effectOffsetY),r.effectRotation!==void 0&&e.onEffectRotationChange(r.effectRotation),r.lyricsFontSize!==void 0&&e.onLyricsFontSizeChange(r.lyricsFontSize),r.lyricsFontFamily!==void 0&&e.onLyricsFontFamilyChange(r.lyricsFontFamily),r.lyricsPositionX!==void 0&&e.onLyricsPositionXChange(r.lyricsPositionX),r.lyricsPositionY!==void 0&&e.onLyricsPositionYChange(r.lyricsPositionY),r.showCtaAnimation!==void 0&&((d=e.onShowCtaAnimationChange)==null||d.call(e,r.showCtaAnimation)),r.ctaChannelName!==void 0&&((I=e.onCtaChannelNameChange)==null||I.call(e,r.ctaChannelName)),r.ctaFontFamily!==void 0&&((O=e.onCtaFontFamilyChange)==null||O.call(e,r.ctaFontFamily)),r.ctaTextColor!==void 0&&((P=e.onCtaTextColorChange)==null||P.call(e,r.ctaTextColor)),r.ctaStrokeColor!==void 0&&((w=e.onCtaStrokeColorChange)==null||w.call(e,r.ctaStrokeColor)),r.ctaTextEffect!==void 0&&((R=e.onCtaTextEffectChange)==null||R.call(e,r.ctaTextEffect)),r.ctaPositionX!==void 0&&((F=e.onCtaPositionXChange)==null||F.call(e,r.ctaPositionX)),r.ctaPositionY!==void 0&&((V=e.onCtaPositionYChange)==null||V.call(e,r.ctaPositionY)),r.ctaVideoEnabled!==void 0&&((D=e.onCtaVideoEnabledChange)==null||D.call(e,!!r.ctaVideoEnabled)),r.ctaVideoIncludeAudio!==void 0&&((B=e.onCtaVideoIncludeAudioChange)==null||B.call(e,!!r.ctaVideoIncludeAudio)),r.ctaVideoReplaceCtaAnimation!==void 0&&((T=e.onCtaVideoReplaceCtaAnimationChange)==null||T.call(e,!!r.ctaVideoReplaceCtaAnimation)),r.fusionCenterOpacity!==void 0&&((L=e.onFusionCenterOpacityChange)==null||L.call(e,r.fusionCenterOpacity)),r.stellarCoreInnerOpacity!==void 0&&((z=e.onStellarCoreInnerOpacityChange)==null||z.call(e,r.stellarCoreInnerOpacity)),r.stellarCoreTentaclesOpacity!==void 0&&((A=e.onStellarCoreTentaclesOpacityChange)==null||A.call(e,r.stellarCoreTentaclesOpacity)),r.showIntroOverlay!==void 0&&((H=e.onShowIntroOverlayChange)==null||H.call(e,r.showIntroOverlay)),r.introTitle!==void 0&&((W=e.onIntroTitleChange)==null||W.call(e,r.introTitle)),r.introArtist!==void 0&&((X=e.onIntroArtistChange)==null||X.call(e,r.introArtist)),r.introDescription!==void 0&&((te=e.onIntroDescriptionChange)==null||te.call(e,r.introDescription)),r.introFontFamily!==void 0&&((q=e.onIntroFontFamilyChange)==null||q.call(e,r.introFontFamily)),r.introEffect!==void 0&&((re=e.onIntroEffectChange)==null||re.call(e,r.introEffect)),r.introColor!==void 0&&((Z=e.onIntroColorChange)==null||Z.call(e,r.introColor)),r.introStrokeColor!==void 0&&((U=e.onIntroStrokeColorChange)==null||U.call(e,r.introStrokeColor)),r.introTitleSize!==void 0&&((ne=e.onIntroTitleSizeChange)==null||ne.call(e,r.introTitleSize)),r.introArtistSize!==void 0&&((J=e.onIntroArtistSizeChange)==null||J.call(e,r.introArtistSize)),r.introDescriptionSize!==void 0&&((ee=e.onIntroDescriptionSizeChange)==null||ee.call(e,r.introDescriptionSize)),r.introFadeIn!==void 0&&(($=e.onIntroFadeInChange)==null||$.call(e,r.introFadeIn)),r.introHold!==void 0&&((K=e.onIntroHoldChange)==null||K.call(e,r.introHold)),r.introFadeOut!==void 0&&((de=e.onIntroFadeOutChange)==null||de.call(e,r.introFadeOut)),r.introBgOpacity!==void 0&&((me=e.onIntroBgOpacityChange)==null||me.call(e,r.introBgOpacity)),r.introPositionX!==void 0&&((ie=e.onIntroPositionXChange)==null||ie.call(e,r.introPositionX)),r.introPositionY!==void 0&&((le=e.onIntroPositionYChange)==null||le.call(e,r.introPositionY)),r.introLightBarsEnabled!==void 0&&((ve=e.onIntroLightBarsEnabledChange)==null||ve.call(e,!!r.introLightBarsEnabled)),r.controlCardFontFamily!==void 0&&((Pe=e.onControlCardFontFamilyChange)==null||Pe.call(e,r.controlCardFontFamily)),r.controlCardTextEffect!==void 0&&((Me=e.onControlCardTextEffectChange)==null||Me.call(e,r.controlCardTextEffect)),r.controlCardStrokeColor!==void 0&&((ye=e.onControlCardStrokeColorChange)==null||ye.call(e,r.controlCardStrokeColor)),r.keYeCustomV2BoxOpacity!==void 0&&((be=e.onKeYeCustomV2BoxOpacityChange)==null||be.call(e,r.keYeCustomV2BoxOpacity)),r.keYeCustomV2BoxColor!==void 0&&((je=e.onKeYeCustomV2BoxColorChange)==null||je.call(e,r.keYeCustomV2BoxColor)),r.keYeCustomV2VisualizerColor!==void 0&&((Xe=e.onKeYeCustomV2VisualizerColorChange)==null||Xe.call(e,r.keYeCustomV2VisualizerColor)),r.keYeCustomV2Text1!==void 0&&((we=e.onKeYeCustomV2Text1Change)==null||we.call(e,r.keYeCustomV2Text1)),r.keYeCustomV2Text2!==void 0&&((qe=e.onKeYeCustomV2Text2Change)==null||qe.call(e,r.keYeCustomV2Text2)),r.keYeCustomV2Text1Font!==void 0&&((Ye=e.onKeYeCustomV2Text1FontChange)==null||Ye.call(e,r.keYeCustomV2Text1Font)),r.keYeCustomV2Text2Font!==void 0&&(($e=e.onKeYeCustomV2Text2FontChange)==null||$e.call(e,r.keYeCustomV2Text2Font)),r.keYeCustomV2Text1Size!==void 0&&((et=e.onKeYeCustomV2Text1SizeChange)==null||et.call(e,r.keYeCustomV2Text1Size)),r.keYeCustomV2Text2Size!==void 0&&((se=e.onKeYeCustomV2Text2SizeChange)==null||se.call(e,r.keYeCustomV2Text2Size)),r.keYeCustomV2Text1Color!==void 0&&((He=e.onKeYeCustomV2Text1ColorChange)==null||He.call(e,r.keYeCustomV2Text1Color)),r.keYeCustomV2Text2Color!==void 0&&((Le=e.onKeYeCustomV2Text2ColorChange)==null||Le.call(e,r.keYeCustomV2Text2Color)),r.keYeCustomV2Text1Effect!==void 0&&((tt=e.onKeYeCustomV2Text1EffectChange)==null||tt.call(e,r.keYeCustomV2Text1Effect)),r.keYeCustomV2Text2Effect!==void 0&&((Re=e.onKeYeCustomV2Text2EffectChange)==null||Re.call(e,r.keYeCustomV2Text2Effect)),r.keYeCustomV2Text1StrokeColor!==void 0&&((Pt=e.onKeYeCustomV2Text1StrokeColorChange)==null||Pt.call(e,r.keYeCustomV2Text1StrokeColor)),r.keYeCustomV2Text2StrokeColor!==void 0&&((Ke=e.onKeYeCustomV2Text2StrokeColorChange)==null||Ke.call(e,r.keYeCustomV2Text2StrokeColor)),r.customPrimaryColor!==void 0&&((xe=e.onCustomPrimaryColorChange)==null||xe.call(e,r.customPrimaryColor)),r.customSecondaryColor!==void 0&&((Ee=e.onCustomSecondaryColorChange)==null||Ee.call(e,r.customSecondaryColor)),r.customAccentColor!==void 0&&((Wt=e.onCustomAccentColorChange)==null||Wt.call(e,r.customAccentColor)),r.subtitleOrientation!==void 0&&((_t=e.onSubtitleOrientationChange)==null||_t.call(e,r.subtitleOrientation)),r.verticalSubtitlePosition!==void 0&&((Qe=e.onVerticalSubtitlePositionChange)==null||Qe.call(e,r.verticalSubtitlePosition)),r.horizontalSubtitlePosition!==void 0&&((Ue=e.onHorizontalSubtitlePositionChange)==null||Ue.call(e,r.horizontalSubtitlePosition)),r.verticalSubtitleVerticalPosition!==void 0&&((ft=e.onVerticalSubtitleVerticalPositionChange)==null||ft.call(e,r.verticalSubtitleVerticalPosition)),r.horizontalSubtitleVerticalPosition!==void 0&&((gn=e.onHorizontalSubtitleVerticalPositionChange)==null||gn.call(e,r.horizontalSubtitleVerticalPosition)),r.subtitleFormat!==void 0&&((ut=e.onSubtitleFormatChange)==null||ut.call(e,r.subtitleFormat)),r.subtitleLanguage!==void 0&&((yn=e.onSubtitleLanguageChange)==null||yn.call(e,r.subtitleLanguage)),r.subtitlesRawText!==void 0&&((Gt=e.onSubtitlesRawTextChange)==null||Gt.call(e,r.subtitlesRawText)),r.showSubtitles!==void 0&&((ht=e.onShowSubtitlesChange)==null||ht.call(e,r.showSubtitles)),r.subtitleStrokeColor!==void 0&&((Ft=e.onSubtitleStrokeColorChange)==null||Ft.call(e,r.subtitleStrokeColor)),r.showLyricsDisplay!==void 0&&((Rt=e.onShowLyricsDisplayChange)==null||Rt.call(e,r.showLyricsDisplay)),r.isSlideshowEnabled!==void 0&&((ke=e.onSlideshowEnabledChange)==null||ke.call(e,r.isSlideshowEnabled)),r.slideshowInterval!==void 0&&((Ce=e.onSlideshowIntervalChange)==null||Ce.call(e,r.slideshowInterval)),r.transitionType!==void 0&&((Oe=e.onTransitionTypeChange)==null||Oe.call(e,r.transitionType)),r.showVisualizer!==void 0&&((_e=e.onShowVisualizerChange)==null||_e.call(e,r.showVisualizer)),r.showBackgroundImage!==void 0&&((De=e.onShowBackgroundImageChange)==null||De.call(e,r.showBackgroundImage)),r.photoShakeSongTitle!==void 0&&((wt=e.onPhotoShakeSongTitleChange)==null||wt.call(e,r.photoShakeSongTitle)),r.photoShakeSubtitle!==void 0&&((ct=e.onPhotoShakeSubtitleChange)==null||ct.call(e,r.photoShakeSubtitle)),r.photoShakeFontFamily!==void 0&&((Bt=e.onPhotoShakeFontFamilyChange)==null||Bt.call(e,r.photoShakeFontFamily)),r.photoShakeOverlayOpacity!==void 0&&((Dt=e.onPhotoShakeOverlayOpacityChange)==null||Dt.call(e,r.photoShakeOverlayOpacity)),r.photoShakeFontSize!==void 0&&((Kn=e.onPhotoShakeFontSizeChange)==null||Kn.call(e,r.photoShakeFontSize)),r.photoShakeDecaySpeed!==void 0&&((ha=e.onPhotoShakeDecaySpeedChange)==null||ha.call(e,r.photoShakeDecaySpeed)),r.bassEnhancementBlurIntensity!==void 0&&((Q=e.onBassEnhancementBlurIntensityChange)==null||Q.call(e,r.bassEnhancementBlurIntensity)),r.bassEnhancementCurveIntensity!==void 0&&((pe=e.onBassEnhancementCurveIntensityChange)==null||pe.call(e,r.bassEnhancementCurveIntensity)),r.bassEnhancementText!==void 0&&((Ve=e.onBassEnhancementTextChange)==null||Ve.call(e,r.bassEnhancementText)),r.bassEnhancementTextColor!==void 0&&((nt=e.onBassEnhancementTextColorChange)==null||nt.call(e,r.bassEnhancementTextColor)),r.bassEnhancementTextFont!==void 0&&((ze=e.onBassEnhancementTextFontChange)==null||ze.call(e,r.bassEnhancementTextFont)),r.bassEnhancementTextSize!==void 0&&((Je=e.onBassEnhancementTextSizeChange)==null||Je.call(e,r.bassEnhancementTextSize)),r.bassEnhancementTextBgOpacity!==void 0&&((Ae=e.onBassEnhancementTextBgOpacityChange)==null||Ae.call(e,r.bassEnhancementTextBgOpacity)),r.bassEnhancementCenterOpacity!==void 0&&((rt=e.onBassEnhancementCenterOpacityChange)==null||rt.call(e,r.bassEnhancementCenterOpacity)),r.blurredEdgeSinger!==void 0&&((Ot=e.onBlurredEdgeSingerChange)==null||Ot.call(e,r.blurredEdgeSinger)),r.blurredEdgeSongTitle!==void 0&&(($t=e.onBlurredEdgeSongTitleChange)==null||$t.call(e,r.blurredEdgeSongTitle)),r.blurredEdgeFontFamily!==void 0&&((zt=e.onBlurredEdgeFontFamilyChange)==null||zt.call(e,r.blurredEdgeFontFamily)),r.blurredEdgeTextColor!==void 0&&((wn=e.onBlurredEdgeTextColorChange)==null||wn.call(e,r.blurredEdgeTextColor)),r.blurredEdgeBgOpacity!==void 0&&((Qt=e.onBlurredEdgeBgOpacityChange)==null||Qt.call(e,r.blurredEdgeBgOpacity)),r.blurredEdgeFontSize!==void 0&&((ll=e.onBlurredEdgeFontSizeChange)==null||ll.call(e,r.blurredEdgeFontSize)),r.vinylLayoutMode!==void 0&&((mt=e.onVinylLayoutModeChange)==null||mt.call(e,r.vinylLayoutMode)),r.vinylCenterFixed!==void 0&&((Pa=e.onVinylCenterFixedChange)==null||Pa.call(e,r.vinylCenterFixed)),r.vinylRecordEnabled!==void 0&&((ma=e.onVinylRecordEnabledChange)==null||ma.call(e,r.vinylRecordEnabled)),r.vinylNeedleEnabled!==void 0&&((ga=e.onVinylNeedleEnabledChange)==null||ga.call(e,r.vinylNeedleEnabled)),r.pianoOpacity!==void 0&&((Fa=e.onPianoOpacityChange)==null||Fa.call(e,r.pianoOpacity)),r.controlCardEnabled!==void 0&&((vn=e.onControlCardEnabledChange)==null||vn.call(e,r.controlCardEnabled)),r.controlCardStyle!==void 0&&((On=e.onControlCardStyleChange)==null||On.call(e,r.controlCardStyle)),r.controlCardColor!==void 0&&((An=e.onControlCardColorChange)==null||An.call(e,r.controlCardColor)),r.controlCardBackgroundColor!==void 0&&((ra=e.onControlCardBackgroundColorChange)==null||ra.call(e,r.controlCardBackgroundColor)),r.controlCardFontSize!==void 0&&((ya=e.onControlCardFontSizeChange)==null||ya.call(e,r.controlCardFontSize))},N={[g.POPPINS]:"Poppins",[g.ORBITRON]:"Orbitron",[g.LOBSTER]:"Lobster",[g.BUNGEE]:"Bungee",[g.PRESS_START_2P]:"Press Start 2P",[g.PACIFICO]:"Pacifico",[g.DANCING_SCRIPT]:"Dancing Script",[g.ROCKNROLL_ONE]:"RocknRoll One",[g.REGGAE_ONE]:"Reggae One",[g.VT323]:"VT323",[g.NOTO_SANS_TC]:"Noto Sans TC",[g.SOURCE_HAN_SANS]:"Source Han Sans TC",[g.CW_TEX_KAI]:"cwTeXKai",[g.KLEE_ONE]:"Klee One",[g.QINGSONG_1]:"Jason Handwriting 1",[g.QINGSONG_2]:"Jason Handwriting 2",[g.TAIPEI_SANS]:"Taipei Sans TC Beta",[g.M_PLUS_ROUNDED]:"M PLUS Rounded 1c",[g.HINA_MINCHO]:"Hina Mincho",[g.RAMPART_ONE]:"Rampart One",[g.ROBOTO_MONO]:"Roboto Mono",[g.OPEN_SANS]:"Open Sans",[g.LATO]:"Lato",[g.MONTSERRAT]:"Montserrat",[g.SOURCE_SANS_PRO]:"Source Sans Pro",[g.RALEWAY]:"Raleway",[g.UBUNTU]:"Ubuntu",[g.PLAYFAIR_DISPLAY]:"Playfair Display",[g.MERRIWEATHER]:"Merriweather",[g.OSWALD]:"Oswald",[g.CAVEAT]:"Caveat",[g.KALAM]:"Kalam",[g.COMFORTAA]:"Comfortaa",[g.FREDOKA_ONE]:"Fredoka One",[g.NUNITO]:"Nunito",[g.QUICKSAND]:"Quicksand",[g.RUBIK]:"Rubik",[g.NOTO_SERIF_TC]:"Noto Serif TC",[g.MA_SHAN_ZHENG]:"Ma Shan Zheng",[g.ZHI_MANG_XING]:"Zhi Mang Xing",[g.LONG_CANG]:"Long Cang",[g.ZCOOL_KUAI_LE]:"ZCOOL KuaiLe",[g.ZCOOL_QING_KE]:"ZCOOL QingKe HuangYou",[g.LIU_JIAN_MAO_CAO]:"Liu Jian Mao Cao",[g.ZCOOL_XIAO_WEI]:"ZCOOL XiaoWei",[g.BAKUDAI]:"Bakudai",[g.MASA_FONT]:"Masa Font"};return l.jsxs("div",{className:"w-full max-w-7xl space-y-4",children:[t&&l.jsx("div",{className:"mb-6",children:l.jsx(xb,{visualizationType:e.visualizationType,onVisualizationChange:e.onVisualizationChange,multiEffectEnabled:e.multiEffectEnabled,onMultiEffectEnabledChange:e.onMultiEffectEnabledChange,selectedVisualizationTypes:e.selectedVisualizationTypes,onToggleVisualizationType:e.onToggleVisualizationType,multiEffectOffsets:e.multiEffectOffsets,onActiveMultiEffectNudge:e.onActiveMultiEffectNudge,onActiveMultiEffectOffsetChange:e.onActiveMultiEffectOffsetChange,onActiveMultiEffectOffsetReset:e.onActiveMultiEffectOffsetReset,multiEffectTransforms:e.multiEffectTransforms,onActiveMultiEffectTransformChange:e.onActiveMultiEffectTransformChange,onMultiEffectTransformChange:e.onMultiEffectTransformsChange?(r,u)=>{var E,y;const f=((E=e.multiEffectTransforms)==null?void 0:E[r])||{x:0,y:0,scale:1,rotation:0};(y=e.onMultiEffectTransformsChange)==null||y.call(e,{...e.multiEffectTransforms,[r]:{...f,...u}})}:void 0,onActiveMultiEffectTransformReset:e.onActiveMultiEffectTransformReset,waveformStroke:e.waveformStroke,onWaveformStrokeChange:e.onWaveformStrokeChange,effectScale:e.effectScale,onEffectScaleChange:e.onEffectScaleChange,effectOffsetX:e.effectOffsetX,onEffectOffsetXChange:e.onEffectOffsetXChange,effectOffsetY:e.effectOffsetY,onEffectOffsetYChange:e.onEffectOffsetYChange,effectRotation:e.effectRotation,onEffectRotationChange:e.onEffectRotationChange,isRecording:e.isRecording,colorPalette:e.colorPalette,onColorPaletteChange:e.onColorPaletteChange,customPrimaryColor:e.customPrimaryColor,customSecondaryColor:e.customSecondaryColor,customAccentColor:e.customAccentColor,onCustomPrimaryColorChange:e.onCustomPrimaryColorChange,onCustomSecondaryColorChange:e.onCustomSecondaryColorChange,onCustomAccentColorChange:e.onCustomAccentColorChange,sensitivity:e.sensitivity,onSensitivityChange:e.onSensitivityChange,smoothing:e.smoothing,onSmoothingChange:e.onSmoothingChange,equalization:e.equalization,onEqualizationChange:e.onEqualizationChange,isPipSupported:e.isPipSupported,isPipActive:e.isPipActive,onEnterPictureInPicture:e.onEnterPictureInPicture,onExitPictureInPicture:e.onExitPictureInPicture})}),l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-2xl shadow-2xl p-6",children:[l.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:""}),l.jsx("button",{onClick:()=>e.onShowVisualizerChange(!e.showVisualizer),type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showVisualizer?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showVisualizer,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showVisualizer?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:""}),l.jsx("button",{onClick:()=>e.onShowBackgroundImageChange(!e.showBackgroundImage),type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showBackgroundImage?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showBackgroundImage,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showBackgroundImage?"translate-x-6":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(ln,{path:st.PLAY,className:"w-5 h-5 text-cyan-400"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:""})]}),l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(sa,{onClick:e.onPlayPause,variant:"primary",className:"w-14 h-14 text-2xl !p-0 shadow-xl",disabled:!e.audioFile,children:l.jsx(ln,{path:e.isPlaying?st.PAUSE:st.PLAY,className:"w-7 h-7"})}),l.jsx(sa,{onClick:e.onRecordToggle,variant:e.isRecording?"danger":"secondary",className:`${e.isRecording?"animate-pulse shadow-red-500/50":""}`,disabled:e.isLoading||e.isGeneratingSubtitles,children:e.isLoading?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}),l.jsx("span",{children:"..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(ln,{path:e.isRecording?st.RECORD_STOP:st.RECORD_START,className:"w-5 h-5"}),l.jsx("span",{children:e.isRecording?"":""})]})})]}),e.audioFile&&e.audioDuration>0&&l.jsx("div",{className:"flex-1 mx-6 min-w-0",children:l.jsx(Ib,{currentTime:e.currentTime,duration:e.audioDuration,onSeek:e.onSeek})}),l.jsxs("div",{className:"flex items-center space-x-3 flex-wrap",children:[l.jsxs("label",{className:"px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-500 text-white shadow-lg hover:shadow-xl cursor-pointer",children:[l.jsx(ln,{path:st.UPLOAD,className:"w-5 h-5"}),l.jsx("span",{children:e.audioFile?"":""}),l.jsx("input",{type:"file",className:"hidden",accept:"audio/*,video/mp4,video/*,.mp4",onChange:r=>{if(console.log(":",r.target.files),r.target.files&&r.target.files[0]){const u=r.target.files[0];u.type.startsWith("audio/")||u.type.startsWith("video/")||u.name.toLowerCase().endsWith(".mp4")?(console.log(":",u),e.onFileSelect(u)):alert(" MP4 ")}r.target.value=""}})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:" CTA "}),l.jsx("button",{onClick:()=>{var r;return(r=e.onShowCtaAnimationChange)==null?void 0:r.call(e,!e.showCtaAnimation)},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showCtaAnimation?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showCtaAnimation,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showCtaAnimation?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-700/50 border border-gray-600 rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-sm text-gray-200",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onShowIntroOverlayChange)==null?void 0:r.call(e,!e.showIntroOverlay)},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.showIntroOverlay?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.showIntroOverlay,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.showIntroOverlay?"translate-x-6":"translate-x-1"}`})})]}),e.audioFile&&l.jsxs(sa,{onClick:e.onClearAudio,variant:"danger",children:[l.jsx(ln,{path:st.CHANGE_MUSIC,className:"w-5 h-5"}),l.jsx("span",{children:""})]}),e.audioFile&&l.jsxs("a",{href:URL.createObjectURL(e.audioFile),download:e.audioFile.name,className:"px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-500 text-white shadow-lg hover:shadow-xl",children:[l.jsx(ln,{path:st.DOWNLOAD}),l.jsx("span",{children:""})]}),e.videoUrl&&l.jsxs("a",{href:e.videoUrl,download:`${((h=e.audioFile)==null?void 0:h.name.replace(/\.[^/.]+$/,""))||"visualization"}.${e.videoExtension}`,className:"px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-500 text-white shadow-lg hover:shadow-xl",children:[l.jsx(ln,{path:st.DOWNLOAD}),l.jsxs("span",{children:[" ",e.videoExtension.toUpperCase()]})]})]})]}),e.showCtaAnimation&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsxs("div",{className:"p-4 rounded-lg border border-gray-600 bg-gray-800/40 space-y-3",children:[l.jsx("div",{className:"text-sm font-medium text-cyan-300",children:"CTA "}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"text-center bg-gray-600 hover:bg-gray-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:[" CTA ",l.jsx("input",{type:"file",className:"hidden",accept:"video/*,.mp4,.webm,.mov",onChange:r=>{var f,E;const u=(f=r.target.files)==null?void 0:f[0];u&&((E=e.onCtaVideoSelect)==null||E.call(e,u)),r.target.value=""}})]}),(e.ctaVideoUrl||e.ctaVideoFileName)&&l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg px-3 py-2",children:[l.jsx("div",{className:"text-xs text-gray-300 truncate",children:e.ctaVideoFileName||" CTA "}),l.jsx(sa,{onClick:()=>{var r;return(r=e.onClearCtaVideo)==null?void 0:r.call(e)},variant:"danger",className:"px-2 py-1 text-xs",children:""})]})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:" CTA "}),l.jsx("span",{className:"text-xs text-gray-400",children:" CTA  cover"})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onCtaVideoEnabledChange)==null?void 0:r.call(e,!(e.ctaVideoEnabled??!1))},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.ctaVideoEnabled??!1?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.ctaVideoEnabled??!1,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.ctaVideoEnabled??!1?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:" CTA  CTA "}),l.jsx("span",{className:"text-xs text-gray-400",children:" +  CTA "})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onCtaVideoReplaceCtaAnimationChange)==null?void 0:r.call(e,!(e.ctaVideoReplaceCtaAnimation??!1))},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.ctaVideoReplaceCtaAnimation??!1?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.ctaVideoReplaceCtaAnimation??!1,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.ctaVideoReplaceCtaAnimation??!1?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:" CTA "}),l.jsx("span",{className:"text-xs text-gray-400",children:" CTA "})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onCtaVideoIncludeAudioChange)==null?void 0:r.call(e,!(e.ctaVideoIncludeAudio??!1))},type:"button",className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.ctaVideoIncludeAudio??!1?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.ctaVideoIncludeAudio??!1,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.ctaVideoIncludeAudio??!1?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"CTA /"})]}),e.showCtaAnimation&&!(e.ctaVideoReplaceCtaAnimation??!1)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.ctaChannelName||"",onChange:r=>{var u;return(u=e.onCtaChannelNameChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border-2 border-black rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),e.showCtaAnimation&&!(e.ctaVideoReplaceCtaAnimation??!1)&&l.jsx("div",{children:l.jsx(Nt,{label:"",value:e.ctaFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onCtaFontFamilyChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.RAMPART_ONE,label:"Rampart One"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"},{value:g.RALEWAY,label:"Raleway"},{value:g.UBUNTU,label:"Ubuntu"},{value:g.PLAYFAIR_DISPLAY,label:"Playfair Display"},{value:g.MERRIWEATHER,label:"Merriweather"},{value:g.OSWALD,label:"Oswald"},{value:g.CAVEAT,label:"Caveat"},{value:g.KALAM,label:"Kalam"},{value:g.COMFORTAA,label:"Comfortaa"},{value:g.FREDOKA_ONE,label:"Fredoka One"},{value:g.NUNITO,label:"Nunito"},{value:g.QUICKSAND,label:"Quicksand"},{value:g.RUBIK,label:"Rubik"}]})}),l.jsx("div",{children:l.jsx(Nt,{label:"",value:e.ctaTextEffect||Y.NONE,onChange:r=>{var u;return(u=e.onCtaTextEffectChange)==null?void 0:u.call(e,r)},options:[{value:Y.NONE,label:""},{value:Y.BOLD,label:""},{value:Y.SHADOW,label:""},{value:Y.NEON,label:""},{value:Y.OUTLINE,label:""},{value:Y.GLITCH,label:""}]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(Ca,{color:r,onClick:u=>{var f;return(f=e.onCtaTextColorChange)==null?void 0:f.call(e,u)},isActive:(e.ctaTextColor||"#FFFFFF")===r},`cta-text-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.ctaTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onCtaTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.ctaTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onCtaTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(Ca,{color:r,onClick:u=>{var f;return(f=e.onCtaStrokeColorChange)==null?void 0:f.call(e,u)},isActive:(e.ctaStrokeColor||"#000000")===r},`cta-stroke-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.ctaStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onCtaStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.ctaStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onCtaStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]}),l.jsx("p",{className:"text-xs text-gray-400",children:" CTA "})]}),l.jsx("div",{children:l.jsx(We,{label:"",value:e.ctaPositionX||50,onChange:r=>{var u;return(u=e.onCtaPositionXChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1})}),l.jsx("div",{children:l.jsx(We,{label:"",value:e.ctaPositionY||50,onChange:r=>{var u;return(u=e.onCtaPositionYChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1})})]}),e.showIntroOverlay&&l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ln,{path:st.INTRO,className:"w-5 h-5 text-cyan-400"}),l.jsx("span",{className:"text-sm font-medium text-gray-200",children:""})]}),l.jsx(sa,{onClick:()=>{var r;return(r=e.onPreviewIntro)==null?void 0:r.call(e)},variant:"secondary",className:"bg-indigo-600 hover:bg-indigo-500",disabled:!e.audioFile,children:l.jsx("span",{children:""})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.introTitle||"",onChange:r=>{var u;return(u=e.onIntroTitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.introArtist||"",onChange:r=>{var u;return(u=e.onIntroArtistChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.introDescription||"",onChange:r=>{var u;return(u=e.onIntroDescriptionChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx(Nt,{label:"",value:e.introFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onIntroFontFamilyChange)==null?void 0:u.call(e,r)},options:Object.entries(N).map(([r,u])=>({value:r,label:u}))}),l.jsx(Nt,{label:"",value:e.introEffect||Y.NEON,onChange:r=>{var u;return(u=e.onIntroEffectChange)==null?void 0:u.call(e,r)},options:[{value:Y.NONE,label:""},{value:Y.BOLD,label:""},{value:Y.SHADOW,label:""},{value:Y.NEON,label:""},{value:Y.OUTLINE,label:""},{value:Y.FAUX_3D,label:"3D"},{value:Y.GLITCH,label:""},{value:Y.NEON,label:""}]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"color",value:e.introColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onIntroColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"color",value:e.introStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onIntroStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]}),l.jsx(We,{label:" (vw)",value:e.introTitleSize??6,onChange:r=>{var u;return(u=e.onIntroTitleSizeChange)==null?void 0:u.call(e,r)},min:1,max:12,step:.2,colorType:"scale"}),l.jsx(We,{label:" (vw)",value:e.introArtistSize??4,onChange:r=>{var u;return(u=e.onIntroArtistSizeChange)==null?void 0:u.call(e,r)},min:1,max:10,step:.2,colorType:"scale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsx(We,{label:" (vw)",value:e.introDescriptionSize??2.8,onChange:r=>{var u;return(u=e.onIntroDescriptionSizeChange)==null?void 0:u.call(e,r)},min:.8,max:8,step:.2,colorType:"scale"}),l.jsx(We,{label:" (%)",value:e.introPositionX??50,onChange:r=>{var u;return(u=e.onIntroPositionXChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1,colorType:"position"}),l.jsx(We,{label:" (%)",value:e.introPositionY??50,onChange:r=>{var u;return(u=e.onIntroPositionYChange)==null?void 0:u.call(e,r)},min:0,max:100,step:1,colorType:"position"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[l.jsx(We,{label:" ()",value:e.introFadeIn??.8,onChange:r=>{var u;return(u=e.onIntroFadeInChange)==null?void 0:u.call(e,r)},min:0,max:5,step:.1,colorType:"scale"}),l.jsx(We,{label:" ()",value:e.introHold??1.6,onChange:r=>{var u;return(u=e.onIntroHoldChange)==null?void 0:u.call(e,r)},min:0,max:10,step:.1,colorType:"scale"}),l.jsx(We,{label:" ()",value:e.introFadeOut??.8,onChange:r=>{var u;return(u=e.onIntroFadeOutChange)==null?void 0:u.call(e,r)},min:0,max:5,step:.1,colorType:"scale"}),l.jsx(We,{label:"",value:e.introBgOpacity??.35,onChange:r=>{var u;return(u=e.onIntroBgOpacityChange)==null?void 0:u.call(e,r)},min:0,max:1,step:.05,colorType:"scale"})]}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-800/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:""}),l.jsx("span",{className:"text-xs text-gray-400",children:""})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onIntroLightBarsEnabledChange)==null?void 0:r.call(e,!(e.introLightBarsEnabled??!0))},className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.introLightBarsEnabled??!0?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.introLightBarsEnabled??!0,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.introLightBarsEnabled??!0?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"  0 "})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(qt,{title:"",icon:st.SETTINGS,priority:"high",defaultExpanded:!1,children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Nt,{label:"",value:e.resolution,onChange:r=>e.onResolutionChange(r),options:Object.values(kn).map(r=>({value:r,label:r}))}),(e.resolution===kn.SQUARE_1080||e.resolution===kn.SQUARE_4K)&&l.jsxs("div",{className:"bg-blue-500/20 border border-blue-400/30 rounded-lg p-3 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:"YouTube Shorts "})]}),l.jsx("p",{className:"text-blue-200 text-xs mt-1",children:"1:1  YouTube ShortsInstagram  TikTok"})]})]}),l.jsx(Nt,{label:"",value:e.backgroundColor,onChange:r=>e.onBackgroundColorChange(r),options:Object.values(ba).map(r=>({value:r,label:r}))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"text-center bg-gray-600 hover:bg-gray-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:["",l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:r=>{r.target.files&&r.target.files[0]&&e.onBackgroundImageSelect(r.target.files[0]),r.target.value=""}})]}),l.jsxs("label",{className:"text-center bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:[" ()",l.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:r=>{r.target.files&&e.onMultipleBackgroundImagesSelect(r.target.files),r.target.value=""}})]}),(e.backgroundImage||e.backgroundImages.length>0)&&l.jsxs("div",{className:"flex gap-2",children:[e.backgroundImage&&l.jsx(sa,{onClick:()=>{console.log(""),e.onClearBackgroundImage()},variant:"danger",className:"px-2 py-1 text-sm flex-1",children:" "}),e.backgroundImages.length>0&&l.jsx(sa,{onClick:()=>{console.log(":",e.backgroundImages.length),e.onClearAllBackgroundImages()},variant:"danger",className:"px-2 py-1 text-sm flex-1",children:" "})]})]}),l.jsxs("div",{className:"space-y-2 mt-4",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"text-center bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg font-semibold transition-all duration-200 cursor-pointer",children:[" ",l.jsx("input",{type:"file",className:"hidden",accept:"video/*",onChange:r=>{r.target.files&&r.target.files[0]&&e.onBackgroundVideoSelect(r.target.files[0]),r.target.value=""}})]}),e.backgroundVideo&&l.jsx(sa,{onClick:()=>{console.log(""),e.onClearBackgroundVideo()},variant:"danger",className:"px-2 py-1 text-sm",children:" "}),e.backgroundVideo&&l.jsxs("div",{className:"p-3 bg-blue-500/20 border border-blue-400/30 rounded-lg text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:""})]}),l.jsx("p",{className:"text-blue-200 text-xs mt-1",children:""})]})]})]}),e.backgroundImages.length>0&&l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"text-sm text-gray-300",children:[" ",e.backgroundImages.length,"  ",e.currentImageIndex+1," "]}),e.backgroundImages.length>1&&l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e.isSlideshowEnabled,onChange:r=>e.onSlideshowEnabledChange(r.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500 focus:ring-2"}),l.jsx("span",{className:"text-sm text-gray-300",children:""})]})}),e.isSlideshowEnabled&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:" ()"}),l.jsx("input",{type:"number",min:"5",max:"60",value:e.slideshowInterval,onChange:r=>e.onSlideshowIntervalChange(parseInt(r.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent"})]}),e.isSlideshowEnabled&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsxs("select",{value:e.transitionType,onChange:r=>e.onTransitionTypeChange(r.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent",children:[l.jsx("option",{value:ce.TV_STATIC,children:" "}),l.jsx("option",{value:ce.FADE,children:" "}),l.jsx("option",{value:ce.SLIDE_LEFT,children:" "}),l.jsx("option",{value:ce.SLIDE_RIGHT,children:" "}),l.jsx("option",{value:ce.SLIDE_UP,children:" "}),l.jsx("option",{value:ce.SLIDE_DOWN,children:" "}),l.jsx("option",{value:ce.ZOOM_IN,children:" "}),l.jsx("option",{value:ce.ZOOM_OUT,children:" "}),l.jsx("option",{value:ce.SPIRAL,children:" "}),l.jsx("option",{value:ce.WAVE,children:" "}),l.jsx("option",{value:ce.DIAMOND,children:" "}),l.jsx("option",{value:ce.CIRCLE,children:" "}),l.jsx("option",{value:ce.BLINDS,children:" "}),l.jsx("option",{value:ce.CHECKERBOARD,children:" "}),l.jsx("option",{value:ce.RANDOM_PIXELS,children:" "})]})]}),e.isSlideshowEnabled&&l.jsxs("div",{className:"p-3 bg-purple-500/20 border border-purple-400/30 rounded-lg text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsxs("span",{className:"font-medium",children:[Mb(e.transitionType)," ",e.transitionType,""]})]}),l.jsxs("p",{className:"text-purple-200 text-xs mt-1",children:[" ",e.slideshowInterval," ",e.transitionType,""]})]})]})]})]})}),l.jsx(qt,{title:"",icon:st.SETTINGS,priority:"medium",defaultExpanded:!1,children:(()=>{const r=i(e.customTextOverlays);return l.jsxs("div",{className:"space-y-6",children:[r.map((u,f)=>l.jsxs("div",{className:"p-4 rounded-xl border border-gray-700 bg-gray-800/40",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ln,{path:st.SETTINGS,className:"w-4 h-4 text-cyan-400"}),l.jsxs("h4",{className:"text-md font-semibold text-gray-200",children:[" ",f+1]})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300 select-none",children:[l.jsx("input",{type:"checkbox",checked:!!u.enabled,onChange:E=>s(f,{enabled:E.target.checked}),className:"w-4 h-4 accent-cyan-500"}),""]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"text",value:u.text,onChange:E=>s(f,{text:E.target.value}),placeholder:"...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent"})]}),l.jsx(Nt,{label:"",value:u.fontFamily,onChange:E=>s(f,{fontFamily:E}),options:[{value:g.NOTO_SANS_TC,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"}]}),l.jsx(Nt,{label:"",value:u.graphicEffect,onChange:E=>s(f,{graphicEffect:E}),options:Object.values(Y).map(E=>({value:E,label:E}))}),l.jsx(Nt,{label:"",value:u.anchor,onChange:E=>s(f,{anchor:E}),options:Object.values(bn).map(E=>({value:E,label:E}))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(E=>l.jsx(Ca,{color:E,onClick:y=>s(f,{color:y}),isActive:u.color===E},`custom-text-${f}-fill-${E}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:u.color,onChange:E=>s(f,{color:E.target.value}),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:u.color,onChange:E=>s(f,{color:E.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),u.graphicEffect===Y.OUTLINE&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(E=>l.jsx(Ca,{color:E,onClick:y=>s(f,{strokeColor:y}),isActive:(u.strokeColor||"#000000")===E},`custom-text-${f}-stroke-${E}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:u.strokeColor||"#000000",onChange:E=>s(f,{strokeColor:E.target.value}),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:u.strokeColor||"#000000",onChange:E=>s(f,{strokeColor:E.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]}),l.jsx("p",{className:"text-xs text-gray-400",children:""})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(ln,{path:st.SETTINGS,className:"w-4 h-4 text-cyan-400"}),l.jsx("h5",{className:"text-sm font-semibold text-gray-200",children:" /  / "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(We,{label:" (vw)",value:u.textSize,onChange:E=>s(f,{textSize:E}),min:1,max:10,step:.5,colorType:"scale"}),l.jsx(We,{label:" (%)",value:u.textPositionX,onChange:E=>s(f,{textPositionX:E}),min:-50,max:50,step:5,colorType:"position"}),l.jsx(We,{label:" (%)",value:u.textPositionY,onChange:E=>s(f,{textPositionY:E}),min:-50,max:50,step:5,colorType:"position"}),l.jsx(We,{label:" ()",value:u.rotationDeg,onChange:E=>s(f,{rotationDeg:E}),min:-180,max:180,step:5,colorType:"position"})]})]})]},`custom-text-${f}`)),l.jsxs("div",{className:"p-3 bg-blue-500/20 border border-blue-400/30 rounded-lg text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[l.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:" "})]}),l.jsx("p",{className:"text-blue-200 text-xs mt-1",children:" -50%  +50%0% "})]})]})})()}),l.jsx(qt,{title:"",icon:st.SUBTITLES,priority:"high",defaultExpanded:!1,badge:"AI ",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx(Nt,{label:"",value:e.subtitleFormat,onChange:r=>e.onSubtitleFormatChange(r),options:[{value:Ha.BRACKET,label:" [00:00.00]"},{value:Ha.SRT,label:"SRT 00:00:14,676 --> 00:00:19,347"}]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsx(Nt,{label:"",value:e.subtitleLanguage,onChange:r=>e.onSubtitleLanguageChange(r),options:[{value:na.CHINESE,label:" "},{value:na.ENGLISH,label:" English"},{value:na.KOREAN,label:" "},{value:na.JAPANESE,label:" "}]}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:"  AI "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("textarea",{value:e.subtitlesRawText,onChange:r=>e.onSubtitlesRawTextChange(r.target.value),rows:5,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent font-mono text-sm",placeholder:e.subtitleFormat===Ha.BRACKET?" [00:00.00] AI ...":" 00:00:14,676 --> 00:00:19,347 AI ..."})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"relative group",children:[l.jsx(sa,{onClick:e.onGenerateSubtitles,disabled:e.isGeneratingSubtitles||!e.audioFile,variant:"secondary",className:"bg-purple-600 hover:bg-purple-500",children:e.isGeneratingSubtitles?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"}),l.jsx("span",{children:"..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(ln,{path:st.AI_SPARKLE,className:"w-5 h-5"}),l.jsx("span",{children:"AI "})]})}),l.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-80 p-3 bg-gray-900 border border-gray-600 rounded-md text-xs text-left text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"font-medium text-cyan-300",children:"AI "}),l.jsx("div",{children:"  AI "}),l.jsx("div",{children:" "}),l.jsx("div",{children:" "}),l.jsx("div",{className:"text-green-300 font-medium",children:"  "}),l.jsx("div",{className:"text-green-300",children:" "})]})})]}),l.jsxs(sa,{onClick:()=>{if(!e.subtitlesRawText.trim()){alert(`


1. 
2. AI `);return}const r=e.subtitleFormat===Ha.BRACKET?"bracket":"srt",u=Tb(e.subtitlesRawText,r),f=new Blob([u],{type:"text/plain;charset=utf-8"}),E=URL.createObjectURL(f),y=document.createElement("a");y.href=E,y.download="subtitles.srt",document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(E)},variant:"secondary",className:`${e.subtitlesRawText.trim()?"bg-green-600 hover:bg-green-500":"bg-gray-500 hover:bg-gray-400"}`,disabled:!e.subtitlesRawText.trim(),children:[l.jsx(ln,{path:st.DOWNLOAD,className:"w-5 h-5"}),l.jsx("span",{children:" (SRT)"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:Object.values(Ut).map(r=>l.jsxs("button",{onClick:()=>e.onSubtitleDisplayModeChange(r),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e.subtitleDisplayMode===r?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[r===Ut.NONE&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.CLASSIC&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.LYRICS_SCROLL&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.WORD_BY_WORD&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.SLIDING_GROUP&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.FADE_LINES&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===Ut.PARTIAL_BLUR&&l.jsxs("span",{className:"flex items-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]},r))})]}),e.subtitleDisplayMode===Ut.FADE_LINES&&l.jsxs("div",{className:"mt-4 p-4 rounded-lg border border-gray-600 bg-gray-800/40 space-y-4",children:[l.jsx("div",{className:"text-sm font-medium text-cyan-300",children:""}),l.jsxs("div",{className:"flex items-center justify-between bg-gray-900/40 border border-gray-700 rounded-lg p-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium text-gray-200",children:""}),l.jsx("span",{className:"text-xs text-gray-400",children:""})]}),l.jsx("button",{onClick:()=>{var r;return(r=e.onSubtitleFadeLinesEnabledChange)==null?void 0:r.call(e,!(e.subtitleFadeLinesEnabled??!0))},className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-cyan-500 ${e.subtitleFadeLinesEnabled??!0?"bg-cyan-600":"bg-gray-500"}`,"aria-pressed":e.subtitleFadeLinesEnabled??!0,children:l.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e.subtitleFadeLinesEnabled??!0?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(We,{label:" ()",value:e.subtitleFadeInSeconds??.25,onChange:r=>{var u;return(u=e.onSubtitleFadeInSecondsChange)==null?void 0:u.call(e,r)},min:0,max:2,step:.05,colorType:"scale"}),l.jsx(We,{label:" ()",value:e.subtitleFadeOutSeconds??.25,onChange:r=>{var u;return(u=e.onSubtitleFadeOutSecondsChange)==null?void 0:u.call(e,r)},min:0,max:2,step:.05,colorType:"scale"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2 flex-wrap",children:a.map(r=>l.jsx(Ca,{color:r,onClick:u=>{var f;return(f=e.onSubtitleLineColorChange)==null?void 0:f.call(e,u)},isActive:(e.subtitleLineColor||"#FFFFFF")===r},`fade-lines-color-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.subtitleLineColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onSubtitleLineColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.subtitleLineColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onSubtitleLineColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),l.jsx(We,{label:" (px)",value:e.subtitleLineThickness??3,onChange:r=>{var u;return(u=e.onSubtitleLineThicknessChange)==null?void 0:u.call(e,r)},min:1,max:12,step:1,colorType:"scale"}),l.jsx(We,{label:" (px)",value:e.subtitleLineGap??10,onChange:r=>{var u;return(u=e.onSubtitleLineGapChange)==null?void 0:u.call(e,r)},min:0,max:40,step:1,colorType:"position"})]}),l.jsx("p",{className:"text-xs text-gray-400",children:"///"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:Object.values(on).map(r=>l.jsxs("button",{onClick:()=>e.onSubtitleOrientationChange(r),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e.subtitleOrientation===r?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[r===on.HORIZONTAL&&l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]}),r===on.VERTICAL&&l.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:""})]})]},r))})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(We,{label:"",value:e.subtitleFontSize,onChange:e.onSubtitleFontSizeChange,min:2,max:8,step:.5}),l.jsxs("div",{className:"col-span-2 space-y-3",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-300",children:["  (",e.subtitleOrientation===on.VERTICAL?"":"",")"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(We,{label:"",value:e.subtitleOrientation===on.VERTICAL?e.verticalSubtitlePosition||1:e.horizontalSubtitlePosition||.5,onChange:r=>{e.subtitleOrientation===on.VERTICAL?e.onVerticalSubtitlePositionChange(r):e.onHorizontalSubtitlePositionChange(r)},min:0,max:1.2,step:.05}),l.jsx(We,{label:"",value:e.subtitleOrientation===on.VERTICAL?e.verticalSubtitleVerticalPosition||.5:e.horizontalSubtitleVerticalPosition||1.2,onChange:r=>{e.subtitleOrientation===on.VERTICAL?e.onVerticalSubtitleVerticalPositionChange(r):e.onHorizontalSubtitleVerticalPositionChange(r)},min:0,max:1.2,step:.05})]})]}),l.jsx(Nt,{label:"",value:e.subtitleFontFamily,onChange:r=>e.onSubtitleFontFamilyChange(r),options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:"LOGO"},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.RAMPART_ONE,label:""},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"},{value:g.RALEWAY,label:"Raleway"},{value:g.UBUNTU,label:"Ubuntu"},{value:g.PLAYFAIR_DISPLAY,label:"Playfair Display"},{value:g.MERRIWEATHER,label:"Merriweather"},{value:g.OSWALD,label:"Oswald"},{value:g.CAVEAT,label:"Caveat ()"},{value:g.KALAM,label:"Kalam ()"},{value:g.COMFORTAA,label:"Comfortaa ()"},{value:g.FREDOKA_ONE,label:"Fredoka One ()"},{value:g.NUNITO,label:"Nunito ()"},{value:g.QUICKSAND,label:"Quicksand ()"},{value:g.RUBIK,label:"Rubik ()"}]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(Ca,{color:r,onClick:e.onSubtitleColorChange,isActive:e.subtitleColor===r},r))}),l.jsx("div",{className:"mt-2",children:l.jsx("input",{type:"color",value:e.subtitleColor,onChange:r=>e.onSubtitleColorChange(r.target.value),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})})]}),e.subtitleStrokeColor!==void 0&&e.onSubtitleStrokeColorChange&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(Ca,{color:r,onClick:e.onSubtitleStrokeColorChange,isActive:e.subtitleStrokeColor===r},r))}),l.jsx("div",{className:"mt-2",children:l.jsx("input",{type:"color",value:e.subtitleStrokeColor,onChange:r=>e.onSubtitleStrokeColorChange(r.target.value),className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})})]}),e.subtitleEffect!==void 0&&e.onSubtitleEffectChange&&l.jsx(Nt,{label:"",value:e.subtitleEffect,onChange:r=>{var u;return(u=e.onSubtitleEffectChange)==null?void 0:u.call(e,r)},options:[{value:Y.NONE,label:""},{value:Y.BOLD,label:""},{value:Y.SHADOW,label:""},{value:Y.NEON,label:""},{value:Y.OUTLINE,label:""},{value:Y.FAUX_3D,label:"3D"},{value:Y.GLITCH,label:""}]}),l.jsx(Nt,{label:"",value:e.subtitleBgStyle,onChange:r=>e.onSubtitleBgStyleChange(r),options:Object.values(nn).map(r=>({value:r,label:r}))})]})]})}),e.subtitleDisplayMode===Ut.LYRICS_SCROLL&&l.jsx(qt,{title:"",icon:st.SETTINGS,priority:"medium",defaultExpanded:!0,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{className:"text-sm text-gray-300",children:""})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsx(We,{label:" (%)",value:e.lyricsFontSize,onChange:e.onLyricsFontSizeChange,min:.5,max:10,step:.1,colorType:"scale"}),l.jsx(Nt,{label:"",value:e.lyricsFontFamily,onChange:r=>e.onLyricsFontFamilyChange(r),options:Object.entries(N).map(([r,u])=>({value:r,label:r===g.NOTO_SANS_TC?"":r===g.SOURCE_HAN_SANS?" (TC)":r===g.CW_TEX_KAI?"cwTeXKai":r===g.KLEE_ONE?"Klee One":r===g.QINGSONG_1?"1":r===g.QINGSONG_2?"2":r===g.TAIPEI_SANS?"":r===g.M_PLUS_ROUNDED?"":r===g.HINA_MINCHO?"":r===g.MA_SHAN_ZHENG?"":r===g.ZHI_MANG_XING?"":r===g.LONG_CANG?"":r===g.ZCOOL_KUAI_LE?"":r===g.ZCOOL_QING_KE?"":r===g.LIU_JIAN_MAO_CAO?"":r===g.ZCOOL_XIAO_WEI?"LOGO":r===g.BAKUDAI?"":r===g.MASA_FONT?"":r===g.POPPINS?" (Poppins)":r===g.ROCKNROLL_ONE?" (RocknRoll One)":u})),className:"sm:col-span-1 md:col-span-2"}),e.subtitleEffect!==void 0&&e.onSubtitleEffectChange&&l.jsx(Nt,{label:"",value:e.subtitleEffect,onChange:r=>{var u;return(u=e.onSubtitleEffectChange)==null?void 0:u.call(e,r)},options:[{value:Y.NONE,label:""},{value:Y.BOLD,label:""},{value:Y.SHADOW,label:""},{value:Y.NEON,label:""},{value:Y.OUTLINE,label:""},{value:Y.FAUX_3D,label:"3D"},{value:Y.GLITCH,label:""}]}),l.jsx(We,{label:" (%)",value:e.lyricsPositionX,onChange:e.onLyricsPositionXChange,min:-50,max:50,step:5,colorType:"position"}),l.jsx(We,{label:" (%)",value:e.lyricsPositionY,onChange:e.onLyricsPositionYChange,min:-100,max:100,step:5,colorType:"position"})]})]})}),e.visualizationType===oe.GEOMETRIC_BARS&&l.jsx(qt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.geometricSongName||"",onChange:r=>{var u;return(u=e.onGeometricSongNameChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border-2 border-black rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.geometricArtistName||"",onChange:r=>{var u;return(u=e.onGeometricArtistNameChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-900 border-2 border-black rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onGeometricFrameImageUpload,className:"hidden",id:"frame-image-upload"}),l.jsx("label",{htmlFor:"frame-image-upload",className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg cursor-pointer transition-colors",children:""}),e.geometricFrameImage&&l.jsx("button",{onClick:e.onClearGeometricFrameImage,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:""})]}),e.geometricFrameImage&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:e.geometricFrameImage,alt:"",className:"w-20 h-20 object-cover rounded border"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onGeometricSemicircleImageUpload,className:"hidden",id:"semicircle-image-upload"}),l.jsx("label",{htmlFor:"semicircle-image-upload",className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg cursor-pointer transition-colors",children:""}),e.geometricSemicircleImage&&l.jsx("button",{onClick:e.onClearGeometricSemicircleImage,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:""})]}),e.geometricSemicircleImage&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:e.geometricSemicircleImage,alt:"",className:"w-20 h-20 object-cover rounded border"})})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onControlCardEnabledChange)==null?void 0:r.call(e,!e.controlCardEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.controlCardEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.controlCardEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.controlCardEnabled&&l.jsxs(l.Fragment,{children:[l.jsx(We,{label:"",value:e.controlCardFontSize||24,onChange:e.onControlCardFontSizeChange||(()=>{}),min:24,max:100,step:1}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.controlCardStyle,onChange:r=>{var u;return(u=e.onControlCardStyleChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:Yt.FILLED,children:" "}),l.jsx("option",{value:Yt.OUTLINE,children:" "}),l.jsx("option",{value:Yt.TRANSPARENT,children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"color",value:e.controlCardColor||"#ffffff",onChange:r=>{var u;return(u=e.onControlCardColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.controlCardColor||"#ffffff",onChange:r=>{var u;return(u=e.onControlCardColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#ffffff"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Nt,{label:"",value:e.controlCardFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onControlCardFontFamilyChange)==null?void 0:u.call(e,r)},options:Object.entries(N).map(([r,u])=>({value:r,label:u}))}),l.jsx(Nt,{label:"",value:e.controlCardTextEffect||Y.NONE,onChange:r=>{var u;return(u=e.onControlCardTextEffectChange)==null?void 0:u.call(e,r)},options:[{value:Y.NONE,label:""},{value:Y.BOLD,label:""},{value:Y.SHADOW,label:""},{value:Y.NEON,label:""},{value:Y.NEON,label:""},{value:Y.OUTLINE,label:""},{value:Y.FAUX_3D,label:"3D"},{value:Y.GLITCH,label:""}]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("input",{type:"color",value:e.controlCardStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onControlCardStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),e.controlCardStyle===Yt.FILLED&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"color",value:e.controlCardBackgroundColor||"rgba(0, 0, 0, 0.5)",onChange:r=>{var u;return(u=e.onControlCardBackgroundColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.controlCardBackgroundColor||"rgba(0, 0, 0, 0.5)",onChange:r=>{var u;return(u=e.onControlCardBackgroundColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"rgba(100, 120, 100, 0.9)"})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onAutoChangeSongChange)==null?void 0:r.call(e,!e.autoChangeSong)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.autoChangeSong?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.autoChangeSong?"translate-x-6":"translate-x-1"}`})})]}),e.songNameList&&e.songNameList.length>0&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[" (",e.songNameList.length," )"]}),l.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-h-32 overflow-y-auto",children:e.songNameList.map((r,u)=>l.jsxs("div",{className:"text-xs text-gray-300 py-1",children:[u+1,". ",r]},u))}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" 95% "})]})]})]})]})}),e.visualizationType===oe.Z_CUSTOM&&l.jsx(qt,{title:"Z",icon:st.SETTINGS,priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onZCustomCenterImageUpload,className:"hidden",id:"z-custom-center-image-upload"}),l.jsx("label",{htmlFor:"z-custom-center-image-upload",className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg cursor-pointer transition-colors",children:""}),e.zCustomCenterImage&&l.jsx("button",{onClick:e.onClearZCustomCenterImage,className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:""})]}),e.zCustomCenterImage&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:e.zCustomCenterImage,alt:"",className:"w-20 h-20 object-cover rounded border"})})]}),l.jsx(We,{label:"",value:e.zCustomScale||1,onChange:e.onZCustomScaleChange||(()=>{}),min:.1,max:3,step:.1}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(We,{label:"",value:((S=e.zCustomPosition)==null?void 0:S.x)||0,onChange:r=>{var u,f;return(f=e.onZCustomPositionUpdate)==null?void 0:f.call(e,{x:r,y:((u=e.zCustomPosition)==null?void 0:u.y)||0})},min:-100,max:100,step:1}),l.jsx(We,{label:"",value:((C=e.zCustomPosition)==null?void 0:C.y)||0,onChange:r=>{var u,f;return(f=e.onZCustomPositionUpdate)==null?void 0:f.call(e,{x:((u=e.zCustomPosition)==null?void 0:u.x)||0,y:r})},min:-100,max:100,step:1})]})]})]})}),e.visualizationType===oe.VINYL_RECORD&&l.jsx(qt,{title:"",icon:st.SETTINGS,priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{id:"vinyl-image-input",type:"file",className:"hidden",accept:"image/*",onChange:e.onVinylImageUpload}),l.jsx("label",{htmlFor:"vinyl-image-input",className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 rounded cursor-pointer text-sm",children:""}),e.vinylImage&&l.jsx("button",{onClick:e.onClearVinylImage,className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 rounded text-sm",children:""})]}),e.vinylImage&&l.jsx("img",{src:e.vinylImage,alt:"Vinyl ",className:"w-24 h-24 object-cover rounded border"}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:""})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:""}),""]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-400",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onVinylCenterFixedChange)==null?void 0:r.call(e,!e.vinylCenterFixed)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.vinylCenterFixed?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.vinylCenterFixed?"translate-x-6":"translate-x-1"}`})})]}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:""})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onVinylRecordEnabledChange)==null?void 0:r.call(e,!e.vinylRecordEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.vinylRecordEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.vinylRecordEnabled?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onVinylNeedleEnabledChange)==null?void 0:r.call(e,!e.vinylNeedleEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.vinylNeedleEnabled!==!1?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.vinylNeedleEnabled!==!1?"translate-x-6":"translate-x-1"}`})})]})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onControlCardEnabledChange)==null?void 0:r.call(e,!e.controlCardEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.controlCardEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.controlCardEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.controlCardEnabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.vinylLayoutMode||"horizontal",onChange:r=>{var u;return(u=e.onVinylLayoutModeChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:"horizontal",children:" "}),l.jsx("option",{value:"vertical",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.controlCardStyle,onChange:r=>{var u;return(u=e.onControlCardStyleChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:Yt.FILLED,children:" "}),l.jsx("option",{value:Yt.OUTLINE,children:" "}),l.jsx("option",{value:Yt.TRANSPARENT,children:" "})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"/"}),l.jsx("input",{type:"color",value:e.controlCardColor||"#111827",onChange:r=>{var u;return(u=e.onControlCardColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsx("select",{value:e.controlCardFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onControlCardFontFamilyChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:Object.entries(N).map(([r,u])=>l.jsx("option",{value:r,children:u},r))})]}),e.controlCardStyle!==Yt.TRANSPARENT&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"color",value:(()=>{const r=e.controlCardBackgroundColor||"rgba(240,244,248,0.92)",u=r.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/);if(u){const f=Number(u[1]).toString(16).padStart(2,"0"),E=Number(u[2]).toString(16).padStart(2,"0"),y=Number(u[3]).toString(16).padStart(2,"0");return`#${f}${E}${y}`}return r.startsWith("#")?r:"#f0f4f8"})(),onChange:r=>{var M;const u=r.target.value,f=document.getElementById("vinyl-card-bg-alpha"),E=f?Number(f.value||"0.92"):.92,y=parseInt(u.slice(1,3),16),v=parseInt(u.slice(3,5),16),x=parseInt(u.slice(5,7),16);(M=e.onControlCardBackgroundColorChange)==null||M.call(e,`rgba(${y},${v},${x},${E})`)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:`linear-gradient(to right,
                                                                            #9CA3AF 0%,
                                                                            #A5A0B0 50%,
                                                                            #B8B5C0 100%)`}}),l.jsx("input",{id:"vinyl-card-bg-alpha",type:"range",min:"0",max:"1",step:"0.01",defaultValue:(()=>{const u=(e.controlCardBackgroundColor||"rgba(240,244,248,0.92)").match(/rgba\(\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*([0-9.]+)\)/);return u?u[1]:"0.92"})(),onChange:r=>{var E;const f=(e.controlCardBackgroundColor||"rgba(240,244,248,0.92)").match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/);if(f){const y=Number(f[1]),v=Number(f[2]),x=Number(f[3]);(E=e.onControlCardBackgroundColorChange)==null||E.call(e,`rgba(${y},${v},${x},${r.target.value})`)}},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer slider-enhanced relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${(()=>{const u=(e.controlCardBackgroundColor||"rgba(240,244,248,0.92)").match(/rgba\(\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*([0-9.]+)\)/);return(u?parseFloat(u[1]):.92)*100})()}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.4)"}})]}),l.jsx("span",{className:"text-xs text-gray-400 w-10 text-right",children:""})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsxs("select",{value:e.controlCardTextEffect||Y.NONE,onChange:r=>{var u;return(u=e.onControlCardTextEffectChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:Y.NONE,children:""}),l.jsx("option",{value:Y.BOLD,children:""}),l.jsx("option",{value:Y.SHADOW,children:""}),l.jsx("option",{value:Y.NEON,children:""}),l.jsx("option",{value:Y.NEON,children:""}),l.jsx("option",{value:Y.OUTLINE,children:""}),l.jsx("option",{value:Y.FAUX_3D,children:"3D"}),l.jsx("option",{value:Y.GLITCH,children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),l.jsx("input",{type:"color",value:e.controlCardStrokeColor||"#000000",onChange:r=>{var u;return(u=e.onControlCardStrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"})]})]})]})]})]})}),e.visualizationType===oe.PHOTO_SHAKE&&l.jsx(qt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-300",children:" "}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.photoShakeSongTitle||"",onChange:r=>{var u;return(u=e.onPhotoShakeSongTitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.photoShakeSubtitle||"",onChange:r=>{var u;return(u=e.onPhotoShakeSubtitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(Nt,{label:"",value:e.photoShakeFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onPhotoShakeFontFamilyChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-sm text-gray-300 w-12 text-center",children:Math.round(e.photoShakeFontSize||60)}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #3B82F6 0%, #10B981 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.photoShakeFontSize||60,onChange:r=>{var u;return(u=e.onPhotoShakeFontSizeChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"20-150"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((typeof e.photoShakeOverlayOpacity=="number"?e.photoShakeOverlayOpacity:.4)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #3B82F6 0%, #8B5CF6 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:typeof e.photoShakeOverlayOpacity=="number"?e.photoShakeOverlayOpacity:.4,onChange:r=>{var u;return(u=e.onPhotoShakeOverlayOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]})]})}),e.visualizationType===oe.FRAME_PIXELATION&&l.jsx(qt,{title:" ",icon:"",priority:"high",defaultExpanded:!0,badge:" ",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementCenterOpacity||.3)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #3B82F6 0%, #8B5CF6 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.bassEnhancementCenterOpacity??.3,onChange:r=>{var u;return(u=e.onBassEnhancementCenterOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementBlurIntensity||.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #10B981 0%, #F59E0B 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.bassEnhancementBlurIntensity??.5,onChange:r=>{var u;return(u=e.onBassEnhancementBlurIntensityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementCurveIntensity||1)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, #EF4444 0%, #F97316 100%)"}}),l.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.01",value:e.bassEnhancementCurveIntensity??1,onChange:r=>{var u;return(u=e.onBassEnhancementCurveIntensityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"10% 200% "})]})]})}),e.visualizationType===oe.DYNAMIC_CONTROL_CARD&&l.jsx(qt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.bassEnhancementText||"",onChange:r=>{var u;return(u=e.onBassEnhancementTextChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:e.bassEnhancementTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBassEnhancementTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.bassEnhancementTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBassEnhancementTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"#FFFFFF"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.bassEnhancementTextFont||g.POPPINS,onChange:r=>{var u;return(u=e.onBassEnhancementTextFontChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[l.jsx("option",{value:g.POPPINS,children:"Poppins"}),l.jsx("option",{value:g.ROCKNROLL_ONE,children:"RocknRoll One"}),l.jsx("option",{value:g.OPEN_SANS,children:"Open Sans"}),l.jsx("option",{value:g.LATO,children:"Lato"}),l.jsx("option",{value:g.MONTSERRAT,children:"Montserrat"}),l.jsx("option",{value:g.OSWALD,children:"Oswald"}),l.jsx("option",{value:g.SOURCE_SANS_PRO,children:"Source Sans Pro"}),l.jsx("option",{value:g.RALEWAY,children:"Raleway"}),l.jsx("option",{value:g.UBUNTU,children:"Ubuntu"}),l.jsx("option",{value:g.NUNITO,children:"Nunito"}),l.jsx("option",{value:g.PLAYFAIR_DISPLAY,children:"Playfair Display"}),l.jsx("option",{value:g.MERRIWEATHER,children:"Merriweather"}),l.jsx("option",{value:g.FREDOKA_ONE,children:"Fredoka One"}),l.jsx("option",{value:g.LOBSTER,children:"Lobster"}),l.jsx("option",{value:g.PACIFICO,children:"Pacifico"}),l.jsx("option",{value:g.ORBITRON,children:"Orbitron"}),l.jsx("option",{value:g.BUNGEE,children:"Bungee"}),l.jsx("option",{value:g.PRESS_START_2P,children:"Press Start 2P"}),l.jsx("option",{value:g.DANCING_SCRIPT,children:"Dancing Script"}),l.jsx("option",{value:g.REGGAE_ONE,children:"Reggae One"}),l.jsx("option",{value:g.VT323,children:"VT323"}),l.jsx("option",{value:g.NOTO_SANS_TC,children:""}),l.jsx("option",{value:g.SOURCE_HAN_SANS,children:""}),l.jsx("option",{value:g.CW_TEX_KAI,children:""}),l.jsx("option",{value:g.KLEE_ONE,children:"Klee One"}),l.jsx("option",{value:g.TAIPEI_SANS,children:""}),l.jsx("option",{value:g.M_PLUS_ROUNDED,children:"M PLUS Rounded"}),l.jsx("option",{value:g.HINA_MINCHO,children:"Hina Mincho"}),l.jsx("option",{value:g.RAMPART_ONE,children:"Rampart One"}),l.jsx("option",{value:g.ROBOTO_MONO,children:"Roboto Mono"}),l.jsx("option",{value:g.CAVEAT,children:"Caveat"}),l.jsx("option",{value:g.KALAM,children:"Kalam"}),l.jsx("option",{value:g.COMFORTAA,children:"Comfortaa"}),l.jsx("option",{value:g.QUICKSAND,children:"Quicksand"}),l.jsx("option",{value:g.RUBIK,children:"Rubik"}),l.jsx("option",{value:g.NOTO_SERIF_TC,children:""}),l.jsx("option",{value:g.MA_SHAN_ZHENG,children:""}),l.jsx("option",{value:g.ZHI_MANG_XING,children:""}),l.jsx("option",{value:g.LONG_CANG,children:""}),l.jsx("option",{value:g.ZCOOL_KUAI_LE,children:""}),l.jsx("option",{value:g.ZCOOL_QING_KE,children:""}),l.jsx("option",{value:g.LIU_JIAN_MAO_CAO,children:""}),l.jsx("option",{value:g.ZCOOL_XIAO_WEI,children:""}),l.jsx("option",{value:g.BAKUDAI,children:""})]})]}),l.jsxs("div",{children:[l.jsx(We,{label:"",value:e.bassEnhancementTextSize||4,onChange:e.onBassEnhancementTextSizeChange||(()=>{}),min:1,max:10,step:.1}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"1.0% - 10.0%"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.bassEnhancementTextBgOpacity??.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(59, 130, 246, 0.5) 0%, rgba(139, 92, 246, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.bassEnhancementTextBgOpacity??.5,onChange:r=>{var u;return(u=e.onBassEnhancementTextBgOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]})]})})}),l.jsx(qt,{title:"",icon:st.SETTINGS,priority:"low",defaultExpanded:!1,badge:"/",children:l.jsx(wb,{onLoadSettings:m,currentSettings:c()})}),e.visualizationType===oe.CIRCULAR_WAVE&&l.jsx(qt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:e.circularWaveImage?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"relative rounded-lg overflow-hidden",children:l.jsx("img",{src:e.circularWaveImage,alt:"",className:"w-full h-48 object-cover"})}),l.jsx("button",{onClick:()=>{var r;return(r=e.onClearCircularWaveImage)==null?void 0:r.call(e)},className:"w-full px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors duration-200",children:""})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center",children:[l.jsx("p",{className:"text-gray-400 mb-2",children:""}),l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),l.jsx("p",{className:"text-xs text-cyan-400 font-medium",children:" "})]}),l.jsxs("label",{className:"block",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:e.onCircularWaveImageUpload,className:"hidden"}),l.jsx("div",{className:"w-full px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors duration-200 cursor-pointer text-center",children:""})]})]})}),l.jsx("p",{className:"text-xs text-gray-400",children:" 1/4"}),l.jsx("p",{className:"text-xs text-cyan-400",children:" "})]})})}),e.visualizationType===oe.BLURRED_EDGE&&l.jsx(qt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.blurredEdgeSinger||"",onChange:r=>{var u;return(u=e.onBlurredEdgeSingerChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.blurredEdgeSongTitle||"",onChange:r=>{var u;return(u=e.onBlurredEdgeSongTitleChange)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(Nt,{label:"",value:e.blurredEdgeFontFamily||g.POPPINS,onChange:r=>{var u;return(u=e.onBlurredEdgeFontFamilyChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:e.blurredEdgeTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBlurredEdgeTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-12 h-8 rounded border border-gray-600 cursor-pointer"}),l.jsx("input",{type:"text",value:e.blurredEdgeTextColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onBlurredEdgeTextColorChange)==null?void 0:u.call(e,r.target.value)},className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"#FFFFFF"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((e.blurredEdgeBgOpacity||.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(59, 130, 246, 0.5) 0%, rgba(139, 92, 246, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:e.blurredEdgeBgOpacity??.5,onChange:r=>{var u;return(u=e.onBlurredEdgeBgOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round(e.blurredEdgeFontSize||40),"px"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(59, 130, 246, 0.5) 0%, rgba(139, 92, 246, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.blurredEdgeFontSize??40,onChange:r=>{var u;return(u=e.onBlurredEdgeFontSizeChange)==null?void 0:u.call(e,parseInt(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"20-150px"})]})]})}),e.visualizationType===oe.KE_YE_CUSTOM_V2&&l.jsx(qt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-300 w-12 text-center",children:[Math.round((typeof e.keYeCustomV2BoxOpacity=="number"?e.keYeCustomV2BoxOpacity:.5)*100),"%"]}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.9) 100%)"}}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:typeof e.keYeCustomV2BoxOpacity=="number"?e.keYeCustomV2BoxOpacity:.5,onChange:r=>{var u;return(u=e.onKeYeCustomV2BoxOpacityChange)==null?void 0:u.call(e,parseFloat(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}})]})]}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"0% 100% "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(Ca,{color:r,onClick:u=>{var f;return(f=e.onKeYeCustomV2BoxColorChange)==null?void 0:f.call(e,u)},isActive:(e.keYeCustomV2BoxColor||"#FFFFFF")===r},`keye-v2-box-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.keYeCustomV2BoxColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2BoxColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.keYeCustomV2BoxColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2BoxColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("div",{className:"flex space-x-2",children:a.map(r=>l.jsx(Ca,{color:r,onClick:u=>{var f;return(f=e.onKeYeCustomV2VisualizerColorChange)==null?void 0:f.call(e,u)},isActive:(e.keYeCustomV2VisualizerColor||"#FFFFFF")===r},`keye-v2-vis-${r}`))}),l.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx("input",{type:"color",value:e.keYeCustomV2VisualizerColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2VisualizerColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"}),l.jsx("input",{type:"text",value:e.keYeCustomV2VisualizerColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2VisualizerColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm",placeholder:"#RRGGBB"})]})]})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.keYeCustomV2Text1||"",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1Change)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(Nt,{label:"",value:e.keYeCustomV2Text1Font||g.POPPINS,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1FontChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text1Color||"#000000",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1ColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]}),l.jsx(Nt,{label:"",value:e.keYeCustomV2Text1Effect||Y.NONE,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1EffectChange)==null?void 0:u.call(e,r)},options:[{value:Y.NONE,label:""},{value:Y.BOLD,label:""},{value:Y.SHADOW,label:""},{value:Y.NEON,label:""},{value:Y.NEON,label:""},{value:Y.OUTLINE,label:""},{value:Y.FAUX_3D,label:"3D"},{value:Y.GLITCH,label:""}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text1StrokeColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1StrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["",e.keYeCustomV2Text1Size||40,"px"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(156, 163, 175, 0.4) 0%, rgba(168, 181, 196, 0.45) 50%, rgba(139, 157, 195, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.keYeCustomV2Text1Size||40,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text1SizeChange)==null?void 0:u.call(e,parseInt(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${((e.keYeCustomV2Text1Size||40)-20)/130*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.35)"}})]})]})]}),l.jsxs("div",{className:"space-y-4 border-t border-gray-600 pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-cyan-400",children:""}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"text",value:e.keYeCustomV2Text2||"",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2Change)==null?void 0:u.call(e,r.target.value)},placeholder:"...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),l.jsx(Nt,{label:"",value:e.keYeCustomV2Text2Font||g.POPPINS,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2FontChange)==null?void 0:u.call(e,r)},options:[{value:g.NOTO_SANS_TC,label:""},{value:g.NOTO_SERIF_TC,label:""},{value:g.TAIPEI_SANS,label:""},{value:g.SOURCE_HAN_SANS,label:" (TC)"},{value:g.CW_TEX_KAI,label:"cwTeXKai"},{value:g.KLEE_ONE,label:"Klee One"},{value:g.M_PLUS_ROUNDED,label:""},{value:g.HINA_MINCHO,label:""},{value:g.QINGSONG_1,label:"1"},{value:g.QINGSONG_2,label:"2"},{value:g.MA_SHAN_ZHENG,label:""},{value:g.ZHI_MANG_XING,label:""},{value:g.LONG_CANG,label:""},{value:g.ZCOOL_KUAI_LE,label:""},{value:g.ZCOOL_QING_KE,label:""},{value:g.LIU_JIAN_MAO_CAO,label:""},{value:g.ZCOOL_XIAO_WEI,label:""},{value:g.BAKUDAI,label:""},{value:g.MASA_FONT,label:""},{value:g.POPPINS,label:" (Poppins)"},{value:g.DANCING_SCRIPT,label:"Dancing Script"},{value:g.PACIFICO,label:"Pacifico"},{value:g.LOBSTER,label:"Lobster"},{value:g.BUNGEE,label:"Bungee"},{value:g.ORBITRON,label:"Orbitron"},{value:g.PRESS_START_2P,label:"Press Start 2P"},{value:g.ROCKNROLL_ONE,label:" (RocknRoll One)"},{value:g.REGGAE_ONE,label:"Reggae One"},{value:g.VT323,label:"VT323"},{value:g.ROBOTO_MONO,label:"Roboto Mono"},{value:g.OPEN_SANS,label:"Open Sans"},{value:g.LATO,label:"Lato"},{value:g.MONTSERRAT,label:"Montserrat"},{value:g.SOURCE_SANS_PRO,label:"Source Sans Pro"}]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text2Color||"#000000",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2ColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]}),l.jsx(Nt,{label:"",value:e.keYeCustomV2Text2Effect||Y.NONE,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2EffectChange)==null?void 0:u.call(e,r)},options:[{value:Y.NONE,label:""},{value:Y.BOLD,label:""},{value:Y.SHADOW,label:""},{value:Y.NEON,label:""},{value:Y.NEON,label:""},{value:Y.OUTLINE,label:""},{value:Y.FAUX_3D,label:"3D"},{value:Y.GLITCH,label:""}]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsx("input",{type:"color",value:e.keYeCustomV2Text2StrokeColor||"#FFFFFF",onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2StrokeColorChange)==null?void 0:u.call(e,r.target.value)},className:"w-full h-10 rounded-lg cursor-pointer border border-gray-600"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["",e.keYeCustomV2Text2Size||30,"px"]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-full h-2 rounded-lg absolute top-0 left-0",style:{background:"linear-gradient(to right, rgba(156, 163, 175, 0.4) 0%, rgba(168, 181, 196, 0.45) 50%, rgba(139, 157, 195, 0.5) 100%)"}}),l.jsx("input",{type:"range",min:"20",max:"150",step:"1",value:e.keYeCustomV2Text2Size||30,onChange:r=>{var u;return(u=e.onKeYeCustomV2Text2SizeChange)==null?void 0:u.call(e,parseInt(r.target.value))},className:"w-full h-2 bg-transparent rounded-lg appearance-none cursor-pointer relative z-10",style:{background:"transparent"}}),l.jsx("div",{className:"absolute top-0 h-2 rounded-lg pointer-events-none",style:{left:0,width:`${((e.keYeCustomV2Text2Size||30)-20)/130*100}%`,transition:"width 0.1s ease",backgroundColor:"rgba(156, 163, 175, 0.35)"}})]})]})]})]})}),e.visualizationType===oe.PIANO_VIRTUOSO&&l.jsx(qt,{title:"",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(We,{label:"",value:e.pianoOpacity??1,onChange:e.onPianoOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:""})]})}),e.visualizationType===oe.FUSION&&l.jsx(qt,{title:"Fusion",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(We,{label:"",value:e.fusionCenterOpacity??1,onChange:e.onFusionCenterOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:" Fusion /"})]})}),e.visualizationType===oe.STELLAR_CORE&&l.jsx(qt,{title:"Stellar Core",icon:"",priority:"high",defaultExpanded:!0,badge:"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(We,{label:"",value:e.stellarCoreInnerOpacity??1,onChange:e.onStellarCoreInnerOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx(We,{label:"",value:e.stellarCoreTentaclesOpacity??1,onChange:e.onStellarCoreTentaclesOpacityChange||(()=>{}),min:0,max:1,step:.01}),l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:" Stellar Core "})]})}),l.jsx(qt,{title:"",icon:"",priority:"medium",defaultExpanded:!1,badge:e.filterEffectEnabled?"":"",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-400/30 rounded-lg p-3 mb-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.74c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-yellow-200 mb-1",children:""}),l.jsxs("p",{className:"text-xs text-yellow-300 leading-relaxed",children:["",l.jsx("strong",{children:""}),""]})]})]})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium text-gray-300",children:""}),l.jsx("button",{onClick:()=>{var r;return(r=e.onFilterEffectEnabledChange)==null?void 0:r.call(e,!e.filterEffectEnabled)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-gray-800 ${e.filterEffectEnabled?"bg-cyan-500":"bg-gray-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e.filterEffectEnabled?"translate-x-6":"translate-x-1"}`})})]}),e.filterEffectEnabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:""}),l.jsxs("select",{value:e.filterEffectType,onChange:r=>{var u;return(u=e.onFilterEffectTypeChange)==null?void 0:u.call(e,r.target.value)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:Et.SNOW,children:" "}),l.jsx("option",{value:Et.PARTICLES,children:" "}),l.jsx("option",{value:Et.STARS,children:" "}),l.jsx("option",{value:Et.RAIN,children:" "}),l.jsx("option",{value:Et.CHERRY_BLOSSOM,children:" "}),l.jsx("option",{value:Et.LIGHTNING,children:" "}),l.jsx("option",{value:Et.GLITCH1,children:" 1"}),l.jsx("option",{value:Et.GLITCH2,children:" 2"})]})]}),l.jsxs("div",{children:[l.jsx(We,{label:"",value:e.filterEffectIntensity||.5,onChange:e.onFilterEffectIntensityChange||(()=>{}),min:0,max:1,step:.1}),l.jsxs("p",{className:"text-xs text-yellow-400 mt-1 flex items-center space-x-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3 h-3",children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.74c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),l.jsx("span",{children:""})]})]}),l.jsx(We,{label:"",value:e.filterEffectOpacity||.6,onChange:e.onFilterEffectOpacityChange||(()=>{}),min:0,max:1,step:.1}),l.jsx(We,{label:"",value:e.filterEffectSpeed||1,onChange:e.onFilterEffectSpeedChange||(()=>{}),min:.5,max:2,step:.1})]})]})})]})]})},Mb=e=>{switch(e){case ce.TV_STATIC:return"";case ce.FADE:return"";case ce.SLIDE_LEFT:return"";case ce.SLIDE_RIGHT:return"";case ce.SLIDE_UP:return"";case ce.SLIDE_DOWN:return"";case ce.ZOOM_IN:return"";case ce.ZOOM_OUT:return"";case ce.SPIRAL:return"";case ce.WAVE:return"";case ce.DIAMOND:return"";case ce.CIRCLE:return"";case ce.BLINDS:return"";case ce.CHECKERBOARD:return"";case ce.RANDOM_PIXELS:return"";default:return""}},Pb=({type:e,className:t=""})=>{k.useEffect(()=>{if(window.adsbygoogle)try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(o){console.log("AdSense error:",o)}},[]);const n=()=>{switch(e){case"banner":return"w-full h-24 md:h-32 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center";case"sidebar":return"w-full h-64 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center";case"footer":return"w-full h-20 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center";default:return"w-full h-24 bg-gray-800 border border-gray-700 rounded-lg flex items-center justify-center"}},a=()=>{switch(e){case"banner":return l.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-7718548739614199","data-ad-slot":"YOUR_BANNER_AD_SLOT","data-ad-format":"auto","data-full-width-responsive":"true"});case"sidebar":return l.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-7718548739614199","data-ad-slot":"YOUR_SIDEBAR_AD_SLOT","data-ad-format":"auto","data-full-width-responsive":"true"});case"footer":return l.jsx("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-7718548739614199","data-ad-slot":"YOUR_FOOTER_AD_SLOT","data-ad-format":"auto","data-full-width-responsive":"true"});default:return null}};return l.jsxs("div",{className:`${n()} ${t}`,children:[a(),l.jsxs("div",{className:"text-gray-400 text-sm",children:[e==="banner"&&"Advertisement",e==="sidebar"&&"Sponsored Content",e==="footer"&&"Advertisement"]})]})},Fb=({isOpen:e,onClose:t,onSave:n,onSkip:a,title:o="API ",message:i=" Gemini API  API Key  AI "})=>{const[s,c]=k.useState(""),[m,N]=k.useState(!1),[h,S]=k.useState(""),C=async()=>{if(!s.trim()){S(" API Key");return}N(!0),S("");try{if(!s.startsWith("AIza")||s.length<30)throw new Error("API Key ");if(!(await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${s}`)).ok)throw new Error("API Key ");localStorage.setItem("user_gemini_api_key",s),n(s),t()}catch(u){S(u instanceof Error?u.message:"API Key ")}finally{N(!1)}},r=()=>{a(),t()};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl max-w-md w-full border border-gray-600",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-white",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),l.jsx("h2",{className:"text-xl font-bold text-white",children:o})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:l.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:i}),l.jsx("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",children:l.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-blue-200 mb-1",children:""}),l.jsxs("p",{className:"text-xs text-blue-300 leading-relaxed",children:[" API Key ",l.jsx("strong",{children:""})," API Key API Key"]})]})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Gemini API Key"}),l.jsx("input",{type:"password",value:s,onChange:u=>c(u.target.value),placeholder:" Gemini API Key...",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),h&&l.jsxs("p",{className:"text-red-400 text-sm mt-2 flex items-center space-x-1",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:l.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),l.jsx("span",{children:h})]})]}),l.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 mb-6",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-200 mb-2",children:" API Key"}),l.jsxs("ol",{className:"text-xs text-gray-400 space-y-1 list-decimal list-inside",children:[l.jsxs("li",{children:[" ",l.jsx("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 hover:text-orange-300 underline",children:"Google AI Studio"})]}),l.jsx("li",{children:" Google "}),l.jsx("li",{children:"Create API Key"}),l.jsx("li",{children:" API Key "})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-700 bg-gray-800/50 rounded-b-lg",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:""}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:""}),l.jsxs("button",{onClick:C,disabled:m||!s.trim(),className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center space-x-2",children:[m&&l.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l.jsx("span",{children:m?"...":""})]})]})]})]})}):null},Rb=()=>l.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-black/95 backdrop-blur-md border-b border-white/10 z-50 py-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("img",{src:"/assets/cat-avatar.png",alt:"",className:"w-10 h-10 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-bold text-lg",children:"Sonic Pulse"}),l.jsx("div",{className:"text-gray-400 text-sm",children:" "})]})]}),l.jsxs("ul",{className:"flex items-center space-x-6",children:[l.jsx("li",{children:l.jsx("a",{href:"/",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/#tools",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/articles/index.html",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/#channel",className:"text-gray-300 hover:text-white transition-colors",children:""})}),l.jsx("li",{children:l.jsx("a",{href:"/#contact",className:"text-gray-300 hover:text-white transition-colors",children:""})})]})]})}),jb=()=>{const e=k.useRef(null),t=k.useRef(null),n=k.useRef(null),a=k.useRef(null),o=k.useRef(null),i=k.useRef(null),s=k.useRef(null),[c,m]=k.useState(!1),N=k.useCallback(r=>{if(c||!r)return;const u=new(window.AudioContext||window.webkitAudioContext);e.current=u,n.current=u.createMediaElementSource(r);const f=u.createAnalyser();f.fftSize=2048,t.current=f;const E=u.createMediaStreamDestination();a.current=E,n.current.connect(f),f.connect(u.destination),f.connect(E),m(!0)},[c]),h=k.useCallback(()=>{i.current&&i.current.disconnect(),o.current&&o.current.disconnect(),n.current&&n.current.disconnect(),t.current&&t.current.disconnect(),e.current&&e.current.state!=="closed"&&e.current.close(),e.current=null,t.current=null,n.current=null,a.current=null,o.current=null,i.current=null,s.current=null,m(!1)},[]),S=k.useCallback((r,u)=>{const f=e.current,E=a.current;if(!(!f||!E)){if(s.current!==r){try{i.current&&i.current.disconnect(),o.current&&o.current.disconnect()}catch{}if(i.current=null,o.current=null,s.current=r,r)try{const y=f.createMediaElementSource(r),v=f.createGain();v.gain.value=1,y.connect(v),o.current=y,i.current=v}catch(y){console.warn("Failed to create aux MediaElementSourceNode:",y),s.current=null}}if(i.current){try{i.current.disconnect()}catch{}u&&i.current&&s.current&&(i.current.connect(f.destination),i.current.connect(E))}}},[]),C=k.useCallback(()=>{var r;return((r=a.current)==null?void 0:r.stream)??null},[]);return{analyser:t.current,initializeAudio:N,isAudioInitialized:c,getAudioStream:C,setAuxMediaElement:S,resetAudioAnalysis:h}},Ab=e=>{const[t,n]=k.useState(!1),a=k.useRef(null),o=k.useRef([]),i=k.useCallback((c,m,N=!1)=>{if(!c)return;const h={mimeType:"video/webm;codecs=vp9,opus",extension:"webm"},S={mimeType:"video/webm;codecs=vp8,opus",extension:"webm"},C={mimeType:"video/webm",extension:"webm"},r={mimeType:"video/mp4;codecs=h264,aac",extension:"mp4"};let u;if(N)if(MediaRecorder.isTypeSupported(h.mimeType))u=h;else if(MediaRecorder.isTypeSupported(S.mimeType))u=S;else if(MediaRecorder.isTypeSupported(C.mimeType))u=C;else{alert("Your browser does not support recording with a transparent background. Please try a modern browser like Chrome or Firefox.");return}else if(MediaRecorder.isTypeSupported(r.mimeType))u=r;else if(MediaRecorder.isTypeSupported(h.mimeType))u=h;else if(MediaRecorder.isTypeSupported(S.mimeType))u=S;else if(MediaRecorder.isTypeSupported(C.mimeType))u=C;else{alert("Your browser does not support MP4 or WEBM video recording.");return}const f=c.captureStream(30),E=new MediaStream([...f.getVideoTracks(),...m.getAudioTracks()]);try{a.current=new MediaRecorder(E,{mimeType:u.mimeType})}catch(y){console.error("MediaRecorder instantiation error:",y),alert("An unexpected error occurred while starting the recorder.");return}a.current.ondataavailable=y=>{y.data.size>0&&o.current.push(y.data)},a.current.onstop=()=>{const y=new Blob(o.current,{type:u.mimeType}),v=URL.createObjectURL(y);e(v,u.extension),o.current=[]},o.current=[],a.current.start(1e3),n(!0)},[e]),s=k.useCallback(()=>{a.current&&a.current.state!=="inactive"&&a.current.stop(),n(!1)},[]);return{isRecording:t,startRecording:i,stopRecording:s}},pb=({type:e,intensity:t,opacity:n,speed:a,enabled:o})=>{const i=k.useRef(null),s=k.useRef(),c=k.useRef([]),[m,N]=k.useState({width:0,height:0});k.useEffect(()=>{const r=()=>{const u=i.current;if(u){const f=u.getBoundingClientRect();u.width=f.width,u.height=f.height,N({width:f.width,height:f.height})}};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const h=()=>{const r=i.current;if(!r)return{};const u=.5+a*1.5,f=Math.max(r.width/1920,r.height/1080)*2,E=(6+Math.random()*12)*f;switch(e){case"snow":return{x:Math.random()*r.width,y:-10,vx:(Math.random()-.5)*.5,vy:u+Math.random()*u,size:E,opacity:.3+Math.random()*.4,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,color:"#ffffff",life:1,maxLife:1};case"particles":return{x:Math.random()*r.width,y:-10,vx:(Math.random()-.5)*.8,vy:u*.5+Math.random()*u*.7,size:E*1.2,opacity:.7+Math.random()*.3,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,color:`hsl(${Math.random()*360}, 90%, ${60+Math.random()*25}%)`,life:1,maxLife:1};case"stars":return{x:Math.random()*r.width,y:Math.random()*r.height,vx:0,vy:0,size:(3+Math.random()*6)*f,opacity:.4+Math.random()*.6,rotation:0,rotationSpeed:0,color:"#ffffff",life:Math.random()*3+1,maxLife:Math.random()*3+1};case"rain":return{x:Math.random()*r.width,y:-10,vx:(Math.random()-.5)*.2,vy:u*2+Math.random()*u,size:1+Math.random()*2,opacity:.2+Math.random()*.3,rotation:0,rotationSpeed:0,color:"#ffffff",life:1,maxLife:1};case"cherry-blossom":return{x:Math.random()*r.width,y:-10,vx:(Math.random()-.5)*.8,vy:u*.6+Math.random()*u*.4,size:E*1.2,opacity:.4+Math.random()*.4,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.03,color:`hsl(${320+Math.random()*40}, 60%, ${70+Math.random()*20}%)`,life:1,maxLife:1};default:return{}}},S=(r,u)=>{switch(r.save(),r.globalAlpha=u.opacity*n,r.translate(u.x,u.y),r.rotate(u.rotation),e){case"snow":r.fillStyle=u.color,r.beginPath();for(let v=0;v<6;v++){const x=Math.PI/3*v,M=Math.cos(x)*u.size,b=Math.sin(x)*u.size;v===0?r.moveTo(M,b):r.lineTo(M,b)}r.closePath(),r.fill();break;case"particles":r.fillStyle=u.color,r.beginPath(),r.arc(0,0,u.size,0,Math.PI*2),r.fill();const f=r.createRadialGradient(0,0,0,0,0,u.size*3);f.addColorStop(0,"rgba(255, 255, 255, 0)"),f.addColorStop(.7,u.color+"66"),f.addColorStop(1,u.color+"00"),r.fillStyle=f,r.beginPath(),r.arc(0,0,u.size*3,0,Math.PI*2),r.fill();break;case"stars":const E=Math.sin(Date.now()*.01+u.x+u.y)*.5+.5,y=u.opacity*n*(.3+E*.7);r.save(),r.globalAlpha=y*.2,r.fillStyle="#ffffff",r.shadowColor="#ffffff",r.shadowBlur=u.size*3,r.beginPath(),r.arc(0,0,u.size*2,0,Math.PI*2),r.fill(),r.restore(),r.save(),r.globalAlpha=y*.8,r.strokeStyle="#ffffff",r.lineWidth=Math.max(1,u.size*.2),r.shadowColor="#ffffff",r.shadowBlur=u.size*1.5,r.beginPath(),r.moveTo(-u.size*1.5,0),r.lineTo(u.size*1.5,0),r.moveTo(0,-u.size*1.5),r.lineTo(0,u.size*1.5),r.stroke(),r.restore(),r.globalAlpha=y,r.fillStyle="#ffffff",r.shadowColor="rgba(255, 255, 255, 0.8)",r.shadowBlur=u.size*1.2,r.beginPath(),r.arc(0,0,u.size,0,Math.PI*2),r.fill(),r.shadowBlur=0;break;case"rain":r.strokeStyle=u.color,r.lineWidth=u.size,r.beginPath(),r.moveTo(0,-u.size*3),r.lineTo(0,u.size*3),r.stroke();break;case"cherry-blossom":r.fillStyle=u.color,r.beginPath(),r.ellipse(0,0,u.size,u.size*.6,0,0,Math.PI*2),r.fill();break}r.restore()},C=()=>{const r=i.current;if(!r||!o)return;const u=r.getContext("2d");if(!u)return;u.clearRect(0,0,r.width,r.height);const f=Math.max(r.width/1920,r.height/1080)*1.5,E=Math.floor(t*150*f);c.current.length<E&&Math.random()<.08&&c.current.push(h()),c.current=c.current.filter(y=>{const v=(Math.random()-.5)*.4,x=Math.sin(Date.now()*.001+y.x*.01)*.15;if(y.x+=(y.vx+v+x)*a,y.y+=y.vy*a,y.rotation+=y.rotationSpeed,e==="stars")y.life-=.01,y.life<=0&&(y.x=Math.random()*r.width,y.y=Math.random()*r.height,y.life=y.maxLife,y.opacity=.3+Math.random()*.7);else if(y.y>r.height+20||y.x<-20||y.x>r.width+20)return!1;return S(u,y),!0}),s.current=requestAnimationFrame(C)};return k.useEffect(()=>(o?(c.current=[],C()):s.current&&cancelAnimationFrame(s.current),()=>{s.current&&cancelAnimationFrame(s.current)}),[o,e,t,n,a]),o?l.jsx("canvas",{ref:i,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1,mixBlendMode:e==="particles"?"normal":"screen"}}):null},_b=()=>{var S;const[e,t]=k.useState("snow"),[n,a]=k.useState(.5),[o,i]=k.useState(.6),[s,c]=k.useState(1),[m,N]=k.useState(!0),h=[{value:"snow",label:"",description:""},{value:"particles",label:"",description:""},{value:"stars",label:"",description:""},{value:"rain",label:"",description:""},{value:"cherry-blossom",label:"",description:""}];return l.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh",background:"linear-gradient(135deg, #000000 0%, #1a1a1a 50%, #2d2d2d 100%)",overflow:"hidden",fontFamily:"Arial, sans-serif"},children:[l.jsx(pb,{type:e,intensity:n,opacity:o,speed:s,enabled:m}),l.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",borderRadius:"15px",padding:"20px",color:"white",zIndex:10,minWidth:"300px",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[l.jsx("h2",{style:{margin:"0 0 20px 0",fontSize:"1.5rem",background:"linear-gradient(45deg, #4ecdc4, #45b7d1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:" "}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold"},children:""}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:h.map(C=>l.jsx("button",{onClick:()=>t(C.value),style:{padding:"8px 12px",background:e===C.value?"linear-gradient(45deg, #4ecdc4, #45b7d1)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.3s ease"},onMouseEnter:r=>{e!==C.value&&(r.currentTarget.style.background="rgba(255, 255, 255, 0.2)")},onMouseLeave:r=>{e!==C.value&&(r.currentTarget.style.background="rgba(255, 255, 255, 0.1)")},children:C.label},C.value))}),l.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"0.8rem",color:"#b8b8b8",fontStyle:"italic"},children:(S=h.find(C=>C.value===e))==null?void 0:S.description})]}),l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[": ",Math.round(n*100),"%"]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n,onChange:C=>a(parseFloat(C.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",outline:"none",cursor:"pointer"}})]}),l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[": ",Math.round(o*100),"%"]}),l.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:o,onChange:C=>i(parseFloat(C.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",outline:"none",cursor:"pointer"}})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsxs("label",{style:{display:"block",marginBottom:"5px"},children:[": ",s.toFixed(1),"x"]}),l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:s,onChange:C=>c(parseFloat(C.target.value)),style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",outline:"none",cursor:"pointer"}})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.jsx("button",{onClick:()=>N(!m),style:{padding:"10px 20px",background:m?"linear-gradient(45deg, #ff6b6b, #4ecdc4)":"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",transition:"all 0.3s ease"},children:m?"":""}),l.jsx("span",{style:{fontSize:"0.9rem",color:"#b8b8b8"},children:m?"":""})]})]}),l.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(10px)",borderRadius:"10px",padding:"15px 25px",color:"white",textAlign:"center",zIndex:10,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[l.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"1.2rem"},children:"  - "}),l.jsx("p",{style:{margin:"0",fontSize:"0.9rem",color:"#b8b8b8"},children:""}),l.jsx("p",{style:{margin:"5px 0 0 0",fontSize:"0.8rem",color:"#888"},children:" mix-blend-mode: screen "})]})]})},Lb=window.location.search.includes("test=filter");function Bb(){var y0,v0,C0,S0,b0,N0,E0,x0,w0,O0;if(Lb)return l.jsxs("div",{style:{width:"100vw",height:"100vh"},children:[l.jsx(_b,{}),l.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"10px",borderRadius:"5px",zIndex:1e3},children:l.jsx("a",{href:"/audio-visualizer/",style:{color:"#4ecdc4",textDecoration:"none"},children:" "})})]});const[e,t]=k.useState(null),[n,a]=k.useState(""),[o,i]=k.useState(0),[s,c]=k.useState(0),[m,N]=k.useState(""),[h,S]=k.useState("webm"),[C,r]=k.useState(!1),[u,f]=k.useState(oe.MONSTERCAT),[E,y]=k.useState(!1),[v,x]=k.useState([oe.MONSTERCAT]),[M,b]=k.useState({}),[j,p]=k.useState({}),[d,I]=k.useState(!1),[O,P]=k.useState(()=>[{enabled:!0,text:"Sonic Pulse",color:"#67E8F9",strokeColor:"#000000",fontFamily:g.ROCKNROLL_ONE,graphicEffect:Y.NEON,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.BOTTOM_RIGHT},{enabled:!1,text:"",color:"#FFFFFF",strokeColor:"#000000",fontFamily:g.POPPINS,graphicEffect:Y.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.CENTER},{enabled:!1,text:"",color:"#FFFFFF",strokeColor:"#000000",fontFamily:g.POPPINS,graphicEffect:Y.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.CENTER}]),[w,R]=k.useState(1),[F,V]=k.useState(0),[D,B]=k.useState(.25),[T,L]=k.useState(!1),[z,A]=k.useState(ba.BLACK),[H,W]=k.useState(Ie.DEFAULT),[X,te]=k.useState("#67E8F9"),[q,re]=k.useState("#F472B6"),[Z,U]=k.useState("#FFFFFF"),[ne,J]=k.useState(kn.P1080),[ee,$]=k.useState(null),[K,de]=k.useState([]),[me,ie]=k.useState(0),[le,ve]=k.useState(!1),[Pe,Me]=k.useState(15),[ye,be]=k.useState(!1),[je,Xe]=k.useState(ce.TV_STATIC),[we,qe]=k.useState(null),Ye=k.useCallback((_,G)=>{P(ae=>{const he=[...ae];for(;he.length<3;)he.push({enabled:!1,text:"",color:"#FFFFFF",strokeColor:"#000000",fontFamily:g.POPPINS,graphicEffect:Y.NONE,textSize:4,textPositionX:0,textPositionY:0,rotationDeg:0,anchor:bn.CENTER});return he[_]={...he[_],...G},he.slice(0,3)})},[]),[$e,et]=k.useState(!0),[se,He]=k.useState(!0),[Le,tt]=k.useState(!0),[Re,Pt]=k.useState(1),[Ke,xe]=k.useState(0),[Ee,Wt]=k.useState(0),[_t,Qe]=k.useState(0),[Ue,ft]=k.useState([]),[gn,ut]=k.useState(""),[yn,Gt]=k.useState(!1),[ht,Ft]=k.useState(!0),[Rt,ke]=k.useState(4),[Ce,Oe]=k.useState(g.POPPINS),[_e,De]=k.useState("#FFFFFF"),[wt,ct]=k.useState("#000000"),[Bt,Dt]=k.useState(Y.NONE),[Kn,ha]=k.useState(nn.TRANSPARENT),[Q,pe]=k.useState(Ut.CLASSIC),[Ve,nt]=k.useState(.25),[ze,Je]=k.useState(.25),[Ae,rt]=k.useState(!0),[Ot,$t]=k.useState("#FFFFFF"),[zt,wn]=k.useState(3),[Qt,ll]=k.useState(10),[mt,Pa]=k.useState(Ha.BRACKET),[ma,ga]=k.useState(na.CHINESE),[Fa,vn]=k.useState(()=>on.HORIZONTAL),[On,An]=k.useState(1),[ra,ya]=k.useState(.5),[Tn,Tt]=k.useState(.5),[Ra,Li]=k.useState(1.2),[Zn,ol]=k.useState(null),[nr,Bi]=k.useState("horizontal"),[Be,Vt]=k.useState(!1),[jt,Qn]=k.useState(!0),[pn,Cn]=k.useState(!0),[va,ar]=k.useState(null),[lr,zb]=k.useState(""),[Vb,Yb]=k.useState(""),[Ub,Hb]=k.useState(g.POPPINS),[Sc,Sg]=k.useState(null),[bc,bg]=k.useState(""),[Nc,Ng]=k.useState(""),[Ec,Eg]=k.useState(g.POPPINS),[xc,xg]=k.useState(0),[wc,wg]=k.useState(60),[Oc,Og]=k.useState(.95),[Tc,Ic]=k.useState(null),[kc,Tg]=k.useState(""),[Mc,Ig]=k.useState(""),[Pc,kg]=k.useState(g.POPPINS),[Fc,Mg]=k.useState("#FFFFFF"),[Rc,Pg]=k.useState(.5),[jc,Fg]=k.useState(40),[Ac,Rg]=k.useState(.5),[pc,jg]=k.useState("#FFFFFF"),[_c,Ag]=k.useState("#FFFFFF"),[Lc,pg]=k.useState(""),[Bc,_g]=k.useState(""),[Dc,Lg]=k.useState(g.POPPINS),[zc,Bg]=k.useState(g.POPPINS),[Vc,Dg]=k.useState(40),[Yc,zg]=k.useState(30),[Uc,Vg]=k.useState("#000000"),[Hc,Yg]=k.useState("#000000"),[Wc,Ug]=k.useState(Y.NONE),[Gc,Hg]=k.useState(Y.NONE),[$c,Wg]=k.useState("#FFFFFF"),[Xc,Gg]=k.useState("#FFFFFF"),[Kc,$g]=k.useState(.5),[Zc,Xg]=k.useState(1),[Qc,Kg]=k.useState(""),[qc,Zg]=k.useState("#FFFFFF"),[Jc,Qg]=k.useState(g.POPPINS),[ed,qg]=k.useState(4),[td,Jg]=k.useState(.5),[ey,Wb]=k.useState(.3),[Di,ty]=k.useState(!1),[nd,ny]=k.useState(2),[ad,ay]=k.useState(g.POPPINS),[ld,ly]=k.useState(0),[od,oy]=k.useState(0),[ry,iy]=k.useState({x:0,y:0}),[sy,uy]=k.useState({x:0,y:0}),[In,rd]=k.useState({x:0,y:0,scale:1}),[or,id]=k.useState(1),[sd,cy]=k.useState(!1),[ud,dy]=k.useState(""),[fy,zi]=k.useState({x:50,y:50}),[cd,hy]=k.useState(g.POPPINS),[dd,my]=k.useState("#FFFFFF"),[fd,gy]=k.useState("#000000"),[hd,yy]=k.useState(Y.NONE),[vy,Cy]=k.useState(50),[Sy,by]=k.useState(50),[ja,md]=k.useState(null),[Ny,gd]=k.useState(""),[Aa,Vi]=k.useState(!1),[rr,yd]=k.useState(!1),[ir,Yi]=k.useState(!1),eo=k.useRef(null),{analyser:Ey,initializeAudio:vd,isAudioInitialized:Cd,getAudioStream:xy,resetAudioAnalysis:Ui,setAuxMediaElement:to}=jb(),[no,wy]=k.useState(!1),[Sd,Oy]=k.useState(""),[bd,Ty]=k.useState(""),[Nd,Iy]=k.useState(""),[Ed,ky]=k.useState(g.POPPINS),[xd,My]=k.useState(Y.NEON),[wd,Py]=k.useState("#FFFFFF"),[Od,Fy]=k.useState("#000000"),[Td,Ry]=k.useState(6),[Id,jy]=k.useState(4),[kd,Ay]=k.useState(2.8),[Md,py]=k.useState(.8),[Pd,_y]=k.useState(1.6),[Fd,Ly]=k.useState(.8),[Rd,By]=k.useState(.35),[jd,Dy]=k.useState(50),[Ad,zy]=k.useState(50),[Vy,Hi]=k.useState(0),[Yy,Wi]=k.useState(0),[pd,Uy]=k.useState(!0),Hy=_=>{Cy(_),zi(G=>({...G,x:_}))},Wy=_=>{by(_),zi(G=>({...G,y:_}))},Gy=k.useCallback(_=>{if(!_)return;if(!_.type.startsWith("video/")){alert("video/*");return}md(ae=>(ae&&URL.revokeObjectURL(ae),URL.createObjectURL(_))),gd(_.name),Vi(!0),Yi(!0)},[]),$y=k.useCallback(()=>{md(_=>(_&&URL.revokeObjectURL(_),null)),gd(""),Vi(!1),yd(!1),Yi(!1),to(null,!1)},[to]);k.useEffect(()=>{const _=eo.current;if(_&&!(!ja||!Aa)){try{_.currentTime=0}catch{}_.play().catch(()=>{})}},[ja,Aa]);const[Xy,Ky]=k.useState(!1),[_d,Ld]=k.useState(null),[Bd,Dd]=k.useState(null),[zd,sr]=k.useState(""),[Vd,Zy]=k.useState(""),[Qy,qy]=k.useState(!1),[ur,Yd]=k.useState(null),[Ud,Jy]=k.useState(1),[Hd,Wd]=k.useState({x:0,y:0}),[Gd,ev]=k.useState(Et.SNOW),[$d,tv]=k.useState(.5),[Xd,nv]=k.useState(.6),[Kd,av]=k.useState(1),[Zd,lv]=k.useState(!1),[Qd,ov]=k.useState(1),[qd,rv]=k.useState(1),[Jd,iv]=k.useState(1),[e0,sv]=k.useState(1),[t0,uv]=k.useState(!0),[n0,cv]=k.useState(24),[a0,dv]=k.useState(g.POPPINS),[l0,fv]=k.useState(Y.NONE),[o0,hv]=k.useState("#000000"),[mv,Gi]=k.useState(!1),[cr,r0]=k.useState(""),[i0,$i]=k.useState(!1),[s0,gv]=k.useState(Yt.FILLED),[u0,yv]=k.useState("#ffffff"),[c0,vv]=k.useState("rgba(0, 0, 0, 0.5)"),[ao,d0]=k.useState([]),[dr,Cv]=k.useState(0),[Xi,Sv]=k.useState(!1),Ct=k.useRef(null),rl=k.useRef(null),[Ki,bv]=k.useState(!1),[Nv,fr]=k.useState(!1),[hr,mr]=k.useState(null),Ev={[ba.BLACK]:"rgba(0, 0, 0, 1)",[ba.GREEN]:"rgba(0, 255, 0, 1)",[ba.WHITE]:"rgba(255, 255, 255, 1)",[ba.TRANSPARENT]:"transparent"};k.useEffect(()=>{const _=localStorage.getItem("user_gemini_api_key");_&&r0(_)},[]),k.useEffect(()=>{(()=>{const G="pictureInPictureEnabled"in document||document.pictureInPictureEnabled||"requestPictureInPicture"in HTMLVideoElement.prototype;console.log("Picture-in-Picture :",{pictureInPictureEnabledInDocument:"pictureInPictureEnabled"in document,documentPictureInPictureEnabled:document.pictureInPictureEnabled,requestPictureInPictureInPrototype:"requestPictureInPicture"in HTMLVideoElement.prototype,hasPipSupport:G}),bv(G)})()},[]),k.useCallback(()=>{if(!rl.current)return null;const _=rl.current,G=_.getContext("2d");if(!G)return null;if(_.width===0||_.height===0)return console.warn("Canvas  0 Picture-in-Picture"),alert("Canvas "),null;console.log("Canvas :",_.width,"x",_.height);const he=G.getImageData(0,0,_.width,_.height).data;let Ne=!1,Te=0,it=0;for(let bt=0;bt<he.length;bt+=4){it++;const gt=he[bt],Xt=he[bt+1],lt=he[bt+2];he[bt+3]>0&&(gt>5||Xt>5||lt>5)&&(Te++,Ne||(Ne=!0))}const at=it>0?Te/it:0;console.log(`Canvas : ${Te}/${it}  (${(at*100).toFixed(2)}%)`),console.log("Canvas :",Ne?"":""),Ne||(console.warn("Canvas  Picture-in-Picture"),console.log("Canvas :"),console.log("- :",se),console.log("- :",C),console.log("- URL:",n?"":""),console.log("- :",u),console.log("- Canvas :",_.style.backgroundColor),console.log("- Canvas :",getComputedStyle(_).getPropertyValue("background-color")));let At;try{At=_.captureStream(30)}catch(bt){console.warn("captureStream :",bt);try{At=_.captureStream()}catch(gt){return console.error(" captureStream :",gt),null}}const St=document.createElement("video");return St.srcObject=At,St.autoplay=!0,St.muted=!0,St.playsInline=!0,St.style.width="100%",St.style.height="100%",console.log("Video :",St),console.log("Stream tracks:",At.getTracks().length),At.getTracks().forEach((bt,gt)=>{console.log(`Track ${gt}:`,bt.kind,bt.label,bt.enabled)}),new Promise((bt,gt)=>{St.onloadedmetadata=()=>{console.log("Video metadata "),bt(St)},St.onerror=Xt=>{console.error("Video :",Xt),gt(Xt)},setTimeout(()=>{gt(new Error("Video metadata "))},3e3)})},[]);const xv=k.useCallback(()=>{if(!rl.current)return null;const _=rl.current,G=_.getContext("2d");if(!G)return null;if(_.width===0||_.height===0)return console.warn("Canvas  0 Picture-in-Picture"),null;console.log("Canvas :",_.width,"x",_.height);const he=G.getImageData(0,0,_.width,_.height).data;let Ne=0,Te=0;for(let At=0;At<he.length;At+=40){Te++;const St=he[At],bt=he[At+1],gt=he[At+2];he[At+3]>1&&(St>1||bt>1||gt>1)&&Ne++}console.log("Canvas :"),console.log("- :",se),console.log("- :",C),console.log("- :",u),console.log("- Canvas :",_.style.backgroundColor),console.log("- Canvas :",getComputedStyle(_).getPropertyValue("background-color")),console.log("- Canvas :",_.style.width,"x",_.style.height),console.log("- Canvas :",_.width,"x",_.height);const it=Te>0?Ne/Te:0;console.log(`Canvas : ${Ne}/${Te}  (${(it*100).toFixed(2)}%)`);const at=it>.01;return console.log("Canvas :",at?"":""),at?new Promise((At,St)=>{const bt=()=>{try{const gt=_.getContext("2d");if(gt){const El=gt.getImageData(0,0,_.width,_.height).data;let oo=!1;for(let es=3;es<El.length;es+=4)if(El[es]>0){oo=!0;break}oo||(console.log("Canvas "),gt.fillStyle="#ff0000",gt.fillRect(10,10,100,100),gt.fillStyle="#00ff00",gt.fillRect(120,10,100,100),gt.fillStyle="#0000ff",gt.fillRect(230,10,100,100))}let Xt;try{const cn=_.getContext("2d");cn&&(cn.save(),cn.restore()),Xt=_.captureStream(30),console.log("Stream :",{videoTracks:Xt.getVideoTracks().length,audioTracks:Xt.getAudioTracks().length,canvasWidth:_.width,canvasHeight:_.height})}catch(cn){console.warn("captureStream :",cn);try{Xt=_.captureStream()}catch(El){console.error(" captureStream :",El),St(new Error(" Canvas "));return}}const lt=document.createElement("video");lt.srcObject=Xt,lt.autoplay=!0,lt.muted=!0,lt.playsInline=!0,lt.style.width="100%",lt.style.height="100%",console.log("Video :",lt),console.log("Stream tracks:",Xt.getTracks().length),lt.addEventListener("loadeddata",()=>{console.log("Video loadeddata ")}),lt.addEventListener("canplay",()=>{console.log("Video canplay "),lt.play().then(()=>{console.log("Video play() ")}).catch(cn=>{console.error("Video play() :",cn)})}),lt.addEventListener("playing",()=>{console.log("Video playing ")}),setTimeout(()=>{console.log("Video :",{readyState:lt.readyState,paused:lt.paused,currentTime:lt.currentTime,duration:lt.duration,videoWidth:lt.videoWidth,videoHeight:lt.videoHeight})},1e3),lt.onloadedmetadata=()=>{console.log("Video metadata "),lt.play().then(()=>{console.log("Video metadata  play() ")}).catch(cn=>{console.warn("Video metadata  play() :",cn)}),At(lt)},lt.onerror=cn=>{console.error("Video :",cn),St(cn)},setTimeout(()=>{St(new Error("Video metadata "))},3e3)}catch(gt){St(gt)}};requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(bt)})})}):(console.warn("Canvas "),console.log("Canvas :"),console.log("- :",se),console.log("- :",C),console.log("- URL:",n?"":""),console.log("- :",u),console.log("- Canvas :",_.style.backgroundColor),console.log("- Canvas :",getComputedStyle(_).getPropertyValue("background-color")),alert(` Canvas  (${(it*100).toFixed(2)}%)


1. 
2. 
3. 
4. 

 1% `),null)},[se,C,n,u]),wv=k.useCallback(()=>{if(!Ki){alert(` 


 ChromeEdge  Safari `);return}if(!n){alert(` 


`);return}if(!C){alert(` 


`);return}if(!se){alert(` 


`);return}console.log("...");try{(async()=>{try{const _=await xv();if(!_)return;mr(_),console.log("..."),await _.requestPictureInPicture(),fr(!0),console.log(""),_.addEventListener("leavepictureinpicture",()=>{fr(!1),mr(null)})}catch(_){console.error(":",_),_.message.includes("user gesture")?alert(` 



`):_.message.includes("Video")?alert(` 

${_.message}


1. 
2. 
3.  Canvas `):alert(` 

${_.message}


1. 
2. 
3. 

`)}})()}catch(_){console.error(":",_),alert(` 

${_.message}

`)}},[Ki,n,C,se]),Ov=k.useCallback(async()=>{if(hr&&document.pictureInPictureElement)try{await document.exitPictureInPicture(),fr(!1),mr(null),console.log("")}catch(_){console.error(":",_);try{hr&&(hr.remove(),mr(null),fr(!1))}catch(G){console.error(":",G)}}},[hr]);k.useEffect(()=>{const _=gn.split(`
`),G=[];if(mt===Ha.BRACKET){const ae=/\[(\d{2}):(\d{2})\.(\d{2})\]/;_.forEach(he=>{const Ne=he.match(ae);if(Ne){const Te=parseInt(Ne[1],10),it=parseInt(Ne[2],10),at=parseInt(Ne[3],10),At=Te*60+it+at/100,St=he.replace(ae,"").trim();St&&G.push({time:At,text:St})}}),G.forEach((he,Ne)=>{Ne<G.length-1?he.endTime=G[Ne+1].time:he.endTime=he.time+10})}else if(mt===Ha.SRT){const ae=/^(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})\s*-->\s*(\d{1,2}):(\d{1,2}):(\d{1,2}),(\d{1,3})$/;for(let he=0;he<_.length;he++){const Ne=_[he].trim();if(!Ne)continue;const Te=Ne.match(ae);if(Te){const it=parseInt(Te[1],10),at=parseInt(Te[2],10),At=parseInt(Te[3],10),St=parseInt(Te[4],10),bt=it*3600+at*60+At+St/1e3,gt=parseInt(Te[5],10),Xt=parseInt(Te[6],10),lt=parseInt(Te[7],10),cn=parseInt(Te[8],10),El=gt*3600+Xt*60+lt+cn/1e3;if(he+1<_.length){const oo=_[he+1].trim();oo&&(G.push({time:bt,text:oo,endTime:El}),he++)}}}}ft(G.sort((ae,he)=>ae.time-he.time))},[gn,mt]),k.useEffect(()=>{if(!Xi||!Ct.current||ao.length===0)return;const _=Ct.current;let G=-1;const ae=()=>{const he=_.currentTime;if(Ue.length>0){let Ne=-1;for(let Te=0;Te<Ue.length;Te++){const it=Ue[Te];if(he>=it.time&&he<(it.endTime||it.time+5)){Ne=Te;break}}Ne!==-1&&Ne!==G&&(G=Ne,sr(Ue[Ne].text))}else{const Ne=_.duration;if(he>=Ne*.95){const Te=(dr+1)%ao.length;Cv(Te),sr(ao[Te])}}};return _.addEventListener("timeupdate",ae),()=>_.removeEventListener("timeupdate",ae)},[Xi,Ue,dr,ao]),k.useEffect(()=>{if(Ue.length>0){const _=Ue.map(G=>G.text).filter(G=>G.length>0).slice(0,10);_.length>0&&(d0(_),_.length>dr&&sr(_[dr]))}},[Ue]),k.useEffect(()=>{if(console.log(" useEffect :",{isSlideshowEnabled:le,backgroundImagesLength:K.length,isPlaying:C}),!le||K.length<=1||!C){console.log(":",{isSlideshowEnabled:le,backgroundImagesLength:K.length,isPlaying:C});return}console.log(" interval");const _=setInterval(()=>{if(console.log("Interval :",{backgroundImagesLength:K.length,isPlaying:C}),K.length>1&&C){console.log(""),window.transitionStartTime=performance.now(),be(!0);const ae=(Ne=>{switch(Ne){case ce.TV_STATIC:return 800;case ce.FADE:return 800;case ce.SLIDE_LEFT:case ce.SLIDE_RIGHT:case ce.SLIDE_UP:case ce.SLIDE_DOWN:return 600;case ce.ZOOM_IN:case ce.ZOOM_OUT:return 700;case ce.SPIRAL:return 1200;case ce.WAVE:return 900;case ce.DIAMOND:case ce.CIRCLE:return 650;case ce.BLINDS:return 800;case ce.CHECKERBOARD:return 750;case ce.RANDOM_PIXELS:return 1e3;default:return 1e3}})(je),he=ae*.5;setTimeout(()=>{console.log(""),ie(Ne=>(Ne+1)%K.length)},he),setTimeout(()=>{console.log(""),be(!1)},ae)}},Pe*1e3);return()=>{console.log(" interval"),clearInterval(_)}},[le,K.length,Pe,C]),k.useEffect(()=>{K.length>0&&$(K[me])},[K,me]);const Tv=async()=>{if(!e){alert("");return}let _=cr||void 0;if(console.log("API Key :",{hasUserApiKey:!!cr,hasBuiltInApiKey:!1,apiKeyLength:_?_.length:0,apiKeyPrefix:_?_.substring(0,10)+"...":"",isUsingUserApiKey:!!cr}),!_){console.error("No API Key available"),Gi(!0),$i(!1);return}Gt(!0),ut(" AI ...");try{const G=await new Promise((bt,gt)=>{const Xt=new FileReader;Xt.onload=()=>{const lt=Xt.result;bt(lt.split(",")[1])},Xt.onerror=lt=>gt(lt),Xt.readAsDataURL(e)}),ae=new hS(_),he={inlineData:{mimeType:e.type,data:G}},Ne=bt=>{switch(bt){case na.CHINESE:return`

****
1. ****
2. ****
3. ****

****
- 
-  LRC 
-  \`[mm:ss.xx]\`
- 
- 
- 

**** ${o.toFixed(2)} 

****  LRC `;case na.ENGLISH:return`You are a professional audio transcription and lyrics synchronization expert, specializing in English content.

**Important Requirements:**
1. **Language**: All transcription content must be in English
2. **Format**: Use standard English punctuation and grammar
3. **Style**: Maintain natural English flow and rhythm

**Task Description:**
- Transcribe the provided audio file content in English
- Format the content as standard LRC file format
- Each line must have a timestamp \`[mm:ss.xx]\`
- Timestamps must be accurate and logically distributed throughout the audio length
- Transcription should be clear with proper punctuation
- The last line's timestamp must not exceed the total audio length

**Audio Duration:** ${o.toFixed(2)} seconds

**Response Format:** Only respond with LRC format text, do not add any introductory text, summaries, or explanations.`;case na.KOREAN:return`         .

** :**
1. ****:      
2. ****:     
3. ****:     

** :**
-      
-   LRC   
-    \`[mm:ss.xx]\`  
-          
-       
-         

** :** ${o.toFixed(2)}

** :** LRC   ,  ,     .`;case na.JAPANESE:return`

****
1. ****: 
2. ****: 
3. ****: 

****
- 
- LRC
-  \`[mm:ss.xx]\` 
- 
- 
- 

**:** ${o.toFixed(2)}

**:** LRC`;default:return Ne(na.CHINESE)}},Te={text:Ne(ma)},St=(await(await ae.getGenerativeModel({model:"gemini-2.5-flash"}).generateContent([Te,he])).response).text();ut(St.trim())}catch(G){console.error("Error generating subtitles with AI:",G);const ae=(G==null?void 0:G.message)||(G==null?void 0:G.toString())||"";(ae.includes("quota")||ae.includes("limit")||ae.includes("exceeded")||(G==null?void 0:G.status)===429||(G==null?void 0:G.code)===429)&&!cr?(Gi(!0),$i(!0),ut(" AI API  API Key ")):(alert("AI  API Key"),ut(""))}finally{Gt(!1)}},Iv=_=>{r0(_),$i(!1),console.log("User API Key saved successfully")},kv=()=>{console.log("User skipped API Key input"),ut(" API Key AI ")},Mv=()=>{Gi(!1)},Pv=_=>{J(_)},f0=_=>{f(_),x(G=>E?G.includes(_)?G:[...G,_]:[_])},Fv=_=>{_&&!E&&!window.confirm(` 

`)||(y(_),x(_?G=>G.length>0?G:[u]:[u]))},Rv=_=>{if(!E){f0(_);return}x(G=>{if(G.includes(_)){if(G.length===1)return G;const he=G.filter(Ne=>Ne!==_);return u===_&&f(he[0]),he}return f(_),[...G,_]})},jv=_=>{const G=(_||[]).filter(Boolean);G.length!==0&&(x(G),G.includes(u)||f(G[G.length-1]))},Av=(_,G)=>{b(ae=>({...ae,[_]:{x:G.x,y:G.y}})),p(ae=>{const he=ae[_]||{x:0,y:0,scale:1,rotation:0};return{...ae,[_]:{...he,x:G.x,y:G.y}}})},pv=(_,G)=>{const ae=u;b(he=>{const Ne=he[ae]||{x:0,y:0};return{...he,[ae]:{x:Ne.x+_,y:Ne.y+G}}}),p(he=>{const Ne=he[ae]||{x:0,y:0,scale:1,rotation:0};return{...he,[ae]:{...Ne,x:(Ne.x||0)+_,y:(Ne.y||0)+G}}})},_v=()=>{const _=u;b(G=>({...G,[_]:{x:0,y:0}})),p(G=>{const ae=G[_]||{x:0,y:0,scale:1,rotation:0};return{...G,[_]:{...ae,x:0,y:0}}})},Lv=_=>{_&&(b(_),p(G=>{const ae={...G};for(const[he,Ne]of Object.entries(_)){const Te=he,it=ae[Te]||{x:0,y:0,scale:1,rotation:0},at=Ne;ae[Te]={...it,x:(at==null?void 0:at.x)??it.x,y:(at==null?void 0:at.y)??it.y}}return ae}))},h0=k.useCallback(_=>{p(G=>{if(G[_])return G;const ae=(M==null?void 0:M[_])||{x:0,y:0},he={x:(ae.x||0)+(Ke||0)+((In==null?void 0:In.x)||0),y:(ae.y||0)+(Ee||0)+((In==null?void 0:In.y)||0),scale:(Re||1)*(or||1),rotation:typeof _t=="number"?_t:0};return{...G,[_]:he}})},[Ke,Ee,_t,Re,M,or,In]);k.useEffect(()=>{E&&(v||[]).forEach(_=>h0(_))},[E,v,h0]);const Bv=(_,G)=>{p(ae=>{const he=ae[_]||{x:0,y:0,scale:1,rotation:0};return{...ae,[_]:{...he,...G}}})},Dv=()=>{const _=u;p(G=>({...G,[_]:{x:0,y:0,scale:1,rotation:0}})),b(G=>({...G,[_]:{x:0,y:0}}))},zv=_=>{W(_)},Zi=_=>{if(!_||!_.startsWith("#"))return 180;let G=_.slice(1);if(G.length===3&&(G=G.split("").map(At=>At+At).join("")),G.length!==6)return 180;const ae=parseInt(G.slice(0,2),16)/255,he=parseInt(G.slice(2,4),16)/255,Ne=parseInt(G.slice(4,6),16)/255,Te=Math.max(ae,he,Ne),it=Math.min(ae,he,Ne);let at=0;return Te!==it&&(Te===ae?at=(he-Ne)/(Te-it)%6:Te===he?at=(Ne-ae)/(Te-it)+2:at=(ae-he)/(Te-it)+4),at=at*60,at<0&&(at+=360),at},Vv=()=>{if(H===Ie.CUSTOM){const _=Zi(X),G=Zi(q),ae=Zi(Z),he=[_,G,ae],Ne=Math.min(...he),Te=Math.max(...he);return{name:Ie.CUSTOM,primary:X,secondary:q,accent:Z,backgroundGlow:"rgba(10, 80, 150, 0.2)",hueRange:[Ne,Te]}}return Cb[H]},Yv=_=>{ee&&URL.revokeObjectURL(ee);const G=URL.createObjectURL(_);$(G)},Uv=_=>{K.forEach(ae=>URL.revokeObjectURL(ae));const G=[];Array.from(_).forEach(ae=>{ae.type.startsWith("image/")&&G.push(URL.createObjectURL(ae))}),de(G),ie(0),G.length<=1&&ve(!1)},Hv=()=>{ee&&URL.revokeObjectURL(ee),$(null)},Wv=()=>{console.log(":",K.length),K.forEach(_=>URL.revokeObjectURL(_)),de([]),ie(0),$(null),ve(!1),console.log("")},Gv=_=>{we&&URL.revokeObjectURL(we);const G=URL.createObjectURL(_);qe(G)},$v=()=>{we&&URL.revokeObjectURL(we),qe(null)},Xv=_=>{var ae;const G=(ae=_.target.files)==null?void 0:ae[0];if(G){const he=new FileReader;he.onload=Ne=>{var Te;Ld((Te=Ne.target)==null?void 0:Te.result)},he.readAsDataURL(G)}},Kv=_=>{var ae;const G=(ae=_.target.files)==null?void 0:ae[0];if(G){const he=new FileReader;he.onload=Ne=>{var Te;Dd((Te=Ne.target)==null?void 0:Te.result)},he.readAsDataURL(G)}},Zv=()=>{Ld(null)},Qv=()=>{Dd(null)},qv=_=>{var ae;const G=(ae=_.target.files)==null?void 0:ae[0];if(G){const he=URL.createObjectURL(G);Yd(he)}},Jv=()=>{ur&&URL.revokeObjectURL(ur),Yd(null)},e1=_=>{var he;const G=(he=_.target.files)==null?void 0:he[0];if(!G)return;const ae=URL.createObjectURL(G);Zn&&URL.revokeObjectURL(Zn),ol(ae)},t1=()=>{Zn&&URL.revokeObjectURL(Zn),ol(null)},n1=k.useCallback((_,G)=>{N(_),S(G),I(!1),L(!1)},[]),{isRecording:gr,startRecording:a1,stopRecording:Qi}=Ab(n1),l1=_=>{const G=_.type.startsWith("video/")||_.name.toLowerCase().endsWith(".mp4");console.log(`${G?"":""}:`,{name:_.name,type:_.type,size:_.size}),C&&Ct.current&&(Ct.current.pause(),r(!1)),Ui(),we&&(URL.revokeObjectURL(we),qe(null)),t(_);const ae=URL.createObjectURL(_);a(ae),G?(console.log(" MP4 "),qe(ae),tt(!0)):qe(null)},o1=k.useCallback(()=>{C&&(Ct.current&&Ct.current.pause(),r(!1));const _=n,G=we;G&&G===_?(_&&URL.revokeObjectURL(_),qe(null)):(_&&URL.revokeObjectURL(_),G&&(URL.revokeObjectURL(G),qe(null))),m&&URL.revokeObjectURL(m),t(null),a(""),N(""),L(!1),ut(""),i(0),c(0),Ui()},[n,m,C,Ui]),r1=k.useCallback(()=>{if(!Ct.current)return;Cd||vd(Ct.current);const _=!C;console.log("/:",{currentIsPlaying:C,newIsPlaying:_}),_?Ct.current.play().then(()=>{var G;console.log(""),r(!0),no&&(((G=Ct.current)==null?void 0:G.currentTime)??0)<.1&&(Hi(0),Wi(ae=>ae+1))}).catch(G=>{console.error("Audio play failed:",G),r(!1)}):(Ct.current.pause(),console.log(""),r(!1))},[C,Cd,vd,no]);k.useEffect(()=>{const _=eo.current,G=!!(ja&&Aa&&rr);if(!_){to(null,!1);return}_.muted=!G,to(_,G)},[ja,Aa,rr,to]);const i1=()=>{Ct.current&&i(Ct.current.duration)},qi=k.useCallback((_,G)=>{if(!ja||!Aa||!ir)return;const ae=eo.current;if(ae&&!(_>.06)){try{ae.pause(),ae.currentTime=0}catch{}ae.play().catch(()=>{})}},[ja,Aa,ir]),m0=k.useRef(0),s1=()=>{if(Ct.current){const _=Ct.current.currentTime;c(_);const G=m0.current;m0.current=_,_<=.06&&G>.3&&qi(_,"rewind"),Ct.current.ended&&(r(!1),gr&&Qi())}},u1=_=>{Ct.current&&(Ct.current.currentTime=_,c(_),qi(_,"seek"))},c1=()=>{if(gr)Qi(),I(!0);else{if(Q!==Ut.NONE){if(ht&&Ue.length===0){alert(`

AI  [00:00.00] `);return}if(Di&&Ue.length===0){alert(`

AI  [00:00.00] `);return}}const _=xy();if(rl.current&&_&&Ct.current){L(!0);const G=z===ba.TRANSPARENT;a1(rl.current,_,G),Ct.current.currentTime=0,qi(0,"record"),no&&(Hi(0),Wi(ae=>ae+1)),Ct.current.play().then(()=>r(!0))}else alert("")}},d1=k.useCallback(()=>{var G;const _=((G=Ct.current)==null?void 0:G.currentTime)??0;Hi(_),Wi(ae=>ae+1)},[]),lo=vb[ne],f1={width:lo?`${lo.width}px`:"100%",height:lo?`${lo.height}px`:"100%",flexShrink:0},h1=lo?{}:{width:"100%",aspectRatio:"16/9"},m1=z===ba.TRANSPARENT,g1=`url("data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><rect width="10" height="10" x="0" y="0" fill="#888" /><rect width="10" height="10" x="10" y="10" fill="#888" /><rect width="10" height="10" x="10" y="0" fill="#444" /><rect width="10" height="10" x="0" y="10" fill="#444" /></svg>')}")`,yr=k.useRef(!1),vr=k.useRef(null),Ji=k.useRef(null),y1=k.useRef(null),v1=_=>{var G,ae;_.button===0&&((ae=(G=_.currentTarget).setPointerCapture)==null||ae.call(G,_.pointerId),yr.current=!0,vr.current={x:_.clientX,y:_.clientY},Ji.current={pointerX:_.clientX,pointerY:_.clientY,startX:(In==null?void 0:In.x)||0,startY:(In==null?void 0:In.y)||0},_.cancelable&&_.preventDefault())},C1=_=>{if(!yr.current||!vr.current)return;vr.current={x:_.clientX,y:_.clientY};const G=Ji.current,ae=.5;if(G){const he=(_.clientX-G.pointerX)*ae,Ne=(_.clientY-G.pointerY)*ae,Te=G.startX+he,it=G.startY+Ne;rd(at=>({x:Te,y:it,scale:(at==null?void 0:at.scale)??1}))}_.cancelable&&_.preventDefault()},g0=_=>{var G,ae;yr.current=!1,vr.current=null,Ji.current=null,(ae=(G=_.currentTarget).releasePointerCapture)==null||ae.call(G,_.pointerId),_.cancelable&&_.preventDefault()};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx(Rb,{}),n&&l.jsx("audio",{ref:Ct,src:n,onPlay:()=>{console.log(" onPlay "),r(!0)},onPause:()=>{console.log(" onPause "),r(!1)},onEnded:()=>{console.log(" onEnded "),r(!1),gr&&Qi()},onLoadedMetadata:i1,onTimeUpdate:s1,crossOrigin:"anonymous",className:"hidden"},n),l.jsx("video",{ref:eo,src:ja||void 0,muted:!rr,playsInline:!0,preload:"auto",className:"hidden"}),l.jsx("main",{className:"flex flex-col p-4 overflow-y-auto pt-24",children:l.jsxs("div",{className:"w-full max-w-7xl mx-auto flex flex-col items-center gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:""}),l.jsx("p",{className:"text-gray-300",children:""})]}),l.jsx("div",{style:h1,className:"flex items-center justify-center bg-black rounded-lg border border-gray-700 overflow-hidden",children:l.jsx("div",{ref:y1,onPointerDown:v1,onPointerMove:C1,onPointerUp:g0,onPointerCancel:g0,style:{...f1,backgroundImage:m1?g1:"none",backgroundSize:"20px 20px",touchAction:"none",cursor:yr.current?"grabbing":"grab"},className:"relative shadow-2xl shadow-cyan-500/10",children:l.jsx(vg,{ref:rl,analyser:Ey,audioRef:Ct,visualizationType:u,multiEffectEnabled:E,selectedVisualizationTypes:v,multiEffectOffsets:M,multiEffectTransforms:j,isPlaying:C,customTextOverlays:O,customText:((y0=O==null?void 0:O[0])==null?void 0:y0.enabled)??!0?((v0=O==null?void 0:O[0])==null?void 0:v0.text)??"":"",textColor:((C0=O==null?void 0:O[0])==null?void 0:C0.color)??"#FFFFFF",textStrokeColor:((S0=O==null?void 0:O[0])==null?void 0:S0.strokeColor)??"#000000",fontFamily:((b0=O==null?void 0:O[0])==null?void 0:b0.fontFamily)??g.POPPINS,graphicEffect:((N0=O==null?void 0:O[0])==null?void 0:N0.graphicEffect)??Y.NONE,textSize:((E0=O==null?void 0:O[0])==null?void 0:E0.textSize)??4,textPositionX:((x0=O==null?void 0:O[0])==null?void 0:x0.textPositionX)??0,textPositionY:((w0=O==null?void 0:O[0])==null?void 0:w0.textPositionY)??0,sensitivity:w,smoothing:F,equalization:D,backgroundColor:Ev[z],colors:Vv(),backgroundImage:Le?ee:null,backgroundVideo:Le?we:null,watermarkPosition:((O0=O==null?void 0:O[0])==null?void 0:O0.anchor)??bn.BOTTOM_RIGHT,waveformStroke:$e,isTransitioning:ye,transitionType:je,backgroundImages:Le?K:[],currentImageIndex:me,subtitles:Ue,showSubtitles:ht,subtitleFontSize:Rt,subtitleFontFamily:Ce,subtitleColor:_e,subtitleStrokeColor:wt,subtitleEffect:Bt,subtitleBgStyle:Kn,subtitleFadeInSeconds:Ve,subtitleFadeOutSeconds:ze,subtitleLineColor:Ot,subtitleLineThickness:zt,subtitleLineGap:Qt,effectScale:Re,effectOffsetX:Ke,effectOffsetY:Ee,effectRotation:_t,showLyricsDisplay:Di,currentTime:s,lyricsFontSize:nd,lyricsFontFamily:ad,lyricsPositionX:ld,lyricsPositionY:od,subtitleDisplayMode:Q,subtitleOrientation:Fa,verticalSubtitlePosition:On,horizontalSubtitlePosition:ra,verticalSubtitleVerticalPosition:Tn,horizontalSubtitleVerticalPosition:Ra,subtitleFadeLinesEnabled:Ae,disableVisualizer:!se,subtitleDragOffset:ry,lyricsDragOffset:sy,onSubtitleDragUpdate:iy,onLyricsDragUpdate:uy,visualizationTransform:In,onVisualizationTransformUpdate:rd,visualizationScale:or,onVisualizationScaleChange:id,showCtaAnimation:sd,ctaChannelName:ud,ctaFontFamily:cd,ctaTextColor:dd,ctaStrokeColor:fd,ctaTextEffect:hd,ctaPosition:fy,onCtaPositionUpdate:zi,ctaVideoElement:eo.current,ctaVideoEnabled:Aa,ctaVideoReplaceCtaAnimation:ir,showIntroOverlay:no,introTitle:Sd,introArtist:bd,introDescription:Nd,introFontFamily:Ed,introEffect:xd,introColor:wd,introStrokeColor:Od,introTitleSize:Td,introArtistSize:Id,introDescriptionSize:kd,introFadeIn:Md,introHold:Pd,introFadeOut:Fd,introBgOpacity:Rd,introPositionX:jd,introPositionY:Ad,introStartTime:Vy,introTriggerId:Yy,introLightBarsEnabled:pd,zCustomCenterImage:ur,zCustomScale:Ud,zCustomPosition:Hd,onZCustomPositionUpdate:Wd,vinylImage:Zn,vinylLayoutMode:nr,vinylCenterFixed:Be,pianoOpacity:Qd,fusionCenterOpacity:qd,stellarCoreInnerOpacity:Jd,stellarCoreTentaclesOpacity:e0,geometricFrameImage:_d,geometricSemicircleImage:Bd,geometricSongName:zd,geometricArtistName:Vd,filterEffectType:Gd,filterEffectIntensity:$d,filterEffectOpacity:Xd,filterEffectSpeed:Kd,filterEffectEnabled:Zd,controlCardEnabled:t0,controlCardFontSize:n0,controlCardStyle:s0,controlCardColor:u0,controlCardBackgroundColor:c0,controlCardFontFamily:a0,controlCardTextEffect:l0,controlCardStrokeColor:o0,vinylRecordEnabled:jt,vinylNeedleEnabled:pn,photoShakeImage:Sc,photoShakeSongTitle:bc,photoShakeSubtitle:Nc,photoShakeFontFamily:Ec,photoShakeOverlayOpacity:xc,photoShakeFontSize:wc,photoShakeDecaySpeed:Oc,bassEnhancementBlurIntensity:Kc,bassEnhancementCurveIntensity:Zc,bassEnhancementText:Qc,bassEnhancementTextColor:qc,bassEnhancementTextFont:Jc,bassEnhancementTextSize:ed,bassEnhancementTextBgOpacity:td,bassEnhancementCenterOpacity:ey,circularWaveImage:Tc,blurredEdgeSinger:kc,blurredEdgeSongTitle:Mc,blurredEdgeFontFamily:Pc,blurredEdgeTextColor:Fc,blurredEdgeBgOpacity:Rc,blurredEdgeFontSize:jc,keYeCustomV2BoxOpacity:Ac,keYeCustomV2BoxColor:pc,keYeCustomV2VisualizerColor:_c,keYeCustomV2Text1:Lc,keYeCustomV2Text2:Bc,keYeCustomV2Text1Font:Dc,keYeCustomV2Text2Font:zc,keYeCustomV2Text1Size:Vc,keYeCustomV2Text2Size:Yc,keYeCustomV2Text1Color:Uc,keYeCustomV2Text2Color:Hc,keYeCustomV2Text1Effect:Wc,keYeCustomV2Text2Effect:Gc,keYeCustomV2Text1StrokeColor:$c,keYeCustomV2Text2StrokeColor:Xc},se?"vis-on":"vis-off")})}),l.jsx("div",{className:"w-full max-w-7xl mx-auto mb-6",children:l.jsx(Pb,{type:"banner"})}),T&&l.jsxs("div",{className:"w-full max-w-7xl p-3 bg-yellow-500/10 border border-yellow-400 text-yellow-200 rounded-lg text-center shadow-lg flex items-center justify-center gap-3",role:"alert",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-yellow-400 flex-shrink-0",children:l.jsx("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.74c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"})}),l.jsxs("p",{children:[l.jsx("strong",{children:"..."})," "]})]}),l.jsx(kb,{isPlaying:C,onPlayPause:r1,isRecording:gr,onRecordToggle:c1,photoShakeImage:Sc,onPhotoShakeImageUpload:_=>{var ae;const G=(ae=_.target.files)==null?void 0:ae[0];if(G){const he=new FileReader;he.onload=Ne=>{var Te;Sg((Te=Ne.target)==null?void 0:Te.result)},he.readAsDataURL(G)}},photoShakeSongTitle:bc,onPhotoShakeSongTitleChange:bg,photoShakeSubtitle:Nc,onPhotoShakeSubtitleChange:Ng,photoShakeFontFamily:Ec,onPhotoShakeFontFamilyChange:Eg,photoShakeOverlayOpacity:xc,onPhotoShakeOverlayOpacityChange:xg,photoShakeFontSize:wc,onPhotoShakeFontSizeChange:wg,photoShakeDecaySpeed:Oc,onPhotoShakeDecaySpeedChange:Og,circularWaveImage:Tc,onCircularWaveImageUpload:_=>{var ae;const G=(ae=_.target.files)==null?void 0:ae[0];if(G){const he=new FileReader;he.onload=Ne=>{var Te;Ic((Te=Ne.target)==null?void 0:Te.result)},he.readAsDataURL(G)}},onClearCircularWaveImage:()=>Ic(null),blurredEdgeSinger:kc,onBlurredEdgeSingerChange:Tg,blurredEdgeSongTitle:Mc,onBlurredEdgeSongTitleChange:Ig,blurredEdgeFontFamily:Pc,onBlurredEdgeFontFamilyChange:kg,blurredEdgeTextColor:Fc,onBlurredEdgeTextColorChange:Mg,blurredEdgeBgOpacity:Rc,onBlurredEdgeBgOpacityChange:Pg,blurredEdgeFontSize:jc,onBlurredEdgeFontSizeChange:Fg,keYeCustomV2BoxOpacity:Ac,onKeYeCustomV2BoxOpacityChange:Rg,keYeCustomV2BoxColor:pc,onKeYeCustomV2BoxColorChange:jg,keYeCustomV2VisualizerColor:_c,onKeYeCustomV2VisualizerColorChange:Ag,keYeCustomV2Text1:Lc,onKeYeCustomV2Text1Change:pg,keYeCustomV2Text2:Bc,onKeYeCustomV2Text2Change:_g,keYeCustomV2Text1Font:Dc,onKeYeCustomV2Text1FontChange:Lg,keYeCustomV2Text2Font:zc,onKeYeCustomV2Text2FontChange:Bg,keYeCustomV2Text1Size:Vc,onKeYeCustomV2Text1SizeChange:Dg,keYeCustomV2Text2Size:Yc,onKeYeCustomV2Text2SizeChange:zg,keYeCustomV2Text1Color:Uc,onKeYeCustomV2Text1ColorChange:Vg,keYeCustomV2Text2Color:Hc,onKeYeCustomV2Text2ColorChange:Yg,keYeCustomV2Text1Effect:Wc,onKeYeCustomV2Text1EffectChange:Ug,keYeCustomV2Text2Effect:Gc,onKeYeCustomV2Text2EffectChange:Hg,keYeCustomV2Text1StrokeColor:$c,onKeYeCustomV2Text1StrokeColorChange:Wg,keYeCustomV2Text2StrokeColor:Xc,onKeYeCustomV2Text2StrokeColorChange:Gg,bassEnhancementBlurIntensity:Kc,onBassEnhancementBlurIntensityChange:$g,bassEnhancementCurveIntensity:Zc,onBassEnhancementCurveIntensityChange:Xg,bassEnhancementText:Qc,onBassEnhancementTextChange:Kg,bassEnhancementTextColor:qc,onBassEnhancementTextColorChange:Zg,bassEnhancementTextFont:Jc,onBassEnhancementTextFontChange:Qg,bassEnhancementTextSize:ed,onBassEnhancementTextSizeChange:qg,bassEnhancementTextBgOpacity:td,onBassEnhancementTextBgOpacityChange:Jg,isLoading:d,visualizationType:u,onVisualizationChange:f0,multiEffectEnabled:E,onMultiEffectEnabledChange:Fv,selectedVisualizationTypes:v,onToggleVisualizationType:Rv,onSelectedVisualizationTypesChange:jv,multiEffectOffsets:M,onMultiEffectOffsetsChange:Lv,onActiveMultiEffectNudge:pv,onActiveMultiEffectOffsetChange:_=>Av(u,_),onActiveMultiEffectOffsetReset:_v,multiEffectTransforms:j,onMultiEffectTransformsChange:p,onActiveMultiEffectTransformChange:_=>Bv(u,_),onActiveMultiEffectTransformReset:Dv,vinylImage:Zn,onVinylImageUpload:e1,onClearVinylImage:t1,vinylLayoutMode:nr,onVinylLayoutModeChange:Bi,vinylCenterFixed:Be,onVinylCenterFixedChange:Vt,pianoOpacity:Qd,onPianoOpacityChange:ov,fusionCenterOpacity:qd,onFusionCenterOpacityChange:rv,stellarCoreInnerOpacity:Jd,onStellarCoreInnerOpacityChange:iv,stellarCoreTentaclesOpacity:e0,onStellarCoreTentaclesOpacityChange:sv,customTextOverlays:O,onCustomTextOverlaysChange:P,onUpdateCustomTextOverlay:Ye,sensitivity:w,onSensitivityChange:R,smoothing:F,onSmoothingChange:V,equalization:D,onEqualizationChange:B,audioFile:e,onClearAudio:o1,onFileSelect:l1,videoUrl:m,videoExtension:h,backgroundColor:z,onBackgroundColorChange:A,colorPalette:H,onColorPaletteChange:zv,customPrimaryColor:X,customSecondaryColor:q,customAccentColor:Z,onCustomPrimaryColorChange:te,onCustomSecondaryColorChange:re,onCustomAccentColorChange:U,resolution:ne,onResolutionChange:Pv,backgroundImage:ee,onBackgroundImageSelect:Yv,onClearBackgroundImage:Hv,backgroundImages:K,onMultipleBackgroundImagesSelect:Uv,onClearAllBackgroundImages:Wv,backgroundVideo:we,onBackgroundVideoSelect:Gv,onClearBackgroundVideo:$v,currentImageIndex:me,isSlideshowEnabled:le,onSlideshowEnabledChange:ve,slideshowInterval:Pe,onSlideshowIntervalChange:Me,isTransitioning:ye,transitionType:je,onTransitionTypeChange:Xe,waveformStroke:$e,onWaveformStrokeChange:et,subtitlesRawText:gn,onSubtitlesRawTextChange:ut,onGenerateSubtitles:Tv,isGeneratingSubtitles:yn,showSubtitles:ht,onShowSubtitlesChange:Ft,subtitleFontSize:Rt,onSubtitleFontSizeChange:ke,subtitleFontFamily:Ce,onSubtitleFontFamilyChange:Oe,subtitleColor:_e,onSubtitleColorChange:De,subtitleStrokeColor:wt,onSubtitleStrokeColorChange:ct,subtitleEffect:Bt,onSubtitleEffectChange:Dt,subtitleBgStyle:Kn,onSubtitleBgStyleChange:ha,subtitleFormat:mt,onSubtitleFormatChange:Pa,subtitleLanguage:ma,onSubtitleLanguageChange:ga,subtitleOrientation:Fa,onSubtitleOrientationChange:vn,verticalSubtitlePosition:On,onVerticalSubtitlePositionChange:An,horizontalSubtitlePosition:ra,onHorizontalSubtitlePositionChange:ya,verticalSubtitleVerticalPosition:Tn,onVerticalSubtitleVerticalPositionChange:Tt,horizontalSubtitleVerticalPosition:Ra,onHorizontalSubtitleVerticalPositionChange:Li,effectScale:Re,onEffectScaleChange:Pt,effectOffsetX:Ke,onEffectOffsetXChange:xe,effectOffsetY:Ee,onEffectOffsetYChange:Wt,effectRotation:_t,onEffectRotationChange:Qe,showLyricsDisplay:Di,onShowLyricsDisplayChange:ty,lyricsFontSize:nd,onLyricsFontSizeChange:ny,lyricsFontFamily:ad,onLyricsFontFamilyChange:ay,lyricsPositionX:ld,onLyricsPositionXChange:ly,lyricsPositionY:od,onLyricsPositionYChange:oy,subtitleDisplayMode:Q,onSubtitleDisplayModeChange:pe,subtitleFadeInSeconds:Ve,onSubtitleFadeInSecondsChange:nt,subtitleFadeOutSeconds:ze,onSubtitleFadeOutSecondsChange:Je,subtitleFadeLinesEnabled:Ae,onSubtitleFadeLinesEnabledChange:rt,subtitleLineColor:Ot,onSubtitleLineColorChange:$t,subtitleLineThickness:zt,onSubtitleLineThicknessChange:wn,subtitleLineGap:Qt,onSubtitleLineGapChange:ll,currentTime:s,audioDuration:o,onSeek:u1,showVisualizer:se,onShowVisualizerChange:He,showBackgroundImage:Le,onShowBackgroundImageChange:tt,showGeometricControls:Xy,onShowGeometricControlsChange:Ky,geometricFrameImage:_d,onGeometricFrameImageUpload:Xv,onClearGeometricFrameImage:Zv,geometricSemicircleImage:Bd,onGeometricSemicircleImageUpload:Kv,onClearGeometricSemicircleImage:Qv,geometricSongName:zd,onGeometricSongNameChange:sr,geometricArtistName:Vd,onGeometricArtistNameChange:Zy,visualizationScale:or,onVisualizationScaleChange:id,showCtaAnimation:sd,onShowCtaAnimationChange:cy,ctaChannelName:ud,onCtaChannelNameChange:dy,ctaFontFamily:cd,onCtaFontFamilyChange:hy,ctaTextColor:dd,onCtaTextColorChange:my,ctaStrokeColor:fd,onCtaStrokeColorChange:gy,ctaTextEffect:hd,onCtaTextEffectChange:yy,ctaPositionX:vy,onCtaPositionXChange:Hy,ctaPositionY:Sy,onCtaPositionYChange:Wy,ctaVideoUrl:ja,ctaVideoFileName:Ny,onCtaVideoSelect:Gy,onClearCtaVideo:$y,ctaVideoEnabled:Aa,onCtaVideoEnabledChange:Vi,ctaVideoIncludeAudio:rr,onCtaVideoIncludeAudioChange:yd,ctaVideoReplaceCtaAnimation:ir,onCtaVideoReplaceCtaAnimationChange:Yi,showIntroOverlay:no,onShowIntroOverlayChange:wy,introTitle:Sd,onIntroTitleChange:Oy,introArtist:bd,onIntroArtistChange:Ty,introDescription:Nd,onIntroDescriptionChange:Iy,introFontFamily:Ed,onIntroFontFamilyChange:ky,introEffect:xd,onIntroEffectChange:My,introColor:wd,onIntroColorChange:Py,introStrokeColor:Od,onIntroStrokeColorChange:Fy,introTitleSize:Td,onIntroTitleSizeChange:Ry,introArtistSize:Id,onIntroArtistSizeChange:jy,introDescriptionSize:kd,onIntroDescriptionSizeChange:Ay,introFadeIn:Md,onIntroFadeInChange:py,introHold:Pd,onIntroHoldChange:_y,introFadeOut:Fd,onIntroFadeOutChange:Ly,introBgOpacity:Rd,onIntroBgOpacityChange:By,introPositionX:jd,onIntroPositionXChange:Dy,introPositionY:Ad,onIntroPositionYChange:zy,introLightBarsEnabled:pd,onIntroLightBarsEnabledChange:Uy,onPreviewIntro:d1,showZCustomControls:Qy,onShowZCustomControlsChange:qy,zCustomCenterImage:ur,onZCustomCenterImageUpload:qv,onClearZCustomCenterImage:Jv,zCustomScale:Ud,onZCustomScaleChange:Jy,zCustomPosition:Hd,onZCustomPositionUpdate:Wd,filterEffectType:Gd,onFilterEffectTypeChange:ev,filterEffectIntensity:$d,onFilterEffectIntensityChange:tv,filterEffectOpacity:Xd,onFilterEffectOpacityChange:nv,filterEffectSpeed:Kd,onFilterEffectSpeedChange:av,filterEffectEnabled:Zd,onFilterEffectEnabledChange:lv,controlCardEnabled:t0,onControlCardEnabledChange:uv,controlCardFontSize:n0,onControlCardFontSizeChange:cv,controlCardStyle:s0,onControlCardStyleChange:gv,controlCardColor:u0,onControlCardColorChange:yv,controlCardBackgroundColor:c0,onControlCardBackgroundColorChange:vv,controlCardFontFamily:a0,onControlCardFontFamilyChange:dv,controlCardTextEffect:l0,onControlCardTextEffectChange:fv,controlCardStrokeColor:o0,onControlCardStrokeColorChange:hv,vinylRecordEnabled:jt,onVinylRecordEnabledChange:Qn,vinylNeedleEnabled:pn,onVinylNeedleEnabledChange:Cn,songNameList:ao,onSongNameListChange:d0,autoChangeSong:Xi,onAutoChangeSongChange:Sv,isPipSupported:Ki,isPipActive:Nv,onEnterPictureInPicture:wv,onExitPictureInPicture:Ov})]})})]}),l.jsx(Fb,{isOpen:mv,onClose:Mv,onSave:Iv,onSkip:kv,title:i0?"API ":"API Key ",message:i0?" Gemini API  API Key  AI ":" Gemini API Key  AI "})]})}const Cg=document.getElementById("root");if(!Cg)throw new Error("Could not find root element to mount to");const Db=Ms.createRoot(Cg);Db.render(l.jsx(p1.StrictMode,{children:l.jsx(Bb,{})}));
